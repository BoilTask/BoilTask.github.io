<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>知识汇总 on BoilTask's Blog</title><link>https://boiltask.com/categories/knowledge/</link><description>Recent content in 知识汇总 on BoilTask's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sun, 06 Apr 2025 12:23:15 +0800</lastBuildDate><atom:link href="https://boiltask.com/categories/knowledge/index.xml" rel="self" type="application/rss+xml"/><item><title>UE插件上传Fab的一些心得</title><link>https://boiltask.com/knowledge/fab-ue-plugin-publish/</link><pubDate>Sun, 06 Apr 2025 12:23:15 +0800</pubDate><guid>https://boiltask.com/knowledge/fab-ue-plugin-publish/</guid><description>&lt;p>之前制作事件插件上传到Fab平台时遇见了一些麻烦，在这里记录一下。&lt;/p></description></item><item><title>常用加权随机算法说明与实现</title><link>https://boiltask.com/knowledge/random-weight/</link><pubDate>Fri, 13 Dec 2024 12:50:53 +0800</pubDate><guid>https://boiltask.com/knowledge/random-weight/</guid><description>&lt;p>A-J&lt;/p>
&lt;h2 id="参考文章">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%ab%a0" class="header-anchor">&lt;/a>参考文章
&lt;/h2>&lt;p>&lt;a class="link" href="https://lotabout.me/2018/Weighted-Random-Sampling/" target="_blank" rel="noopener"
>加权随机采样 (Weighted Random Sampling) | 三点水&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://guyuecanhui.github.io/2020/12/05/weighted-sample/" target="_blank" rel="noopener"
>加权随机采样 | HCigmoid&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://coolcao.com/2023/07/07/%E5%89%8D%E7%BC%80%E5%92%8C%E5%BA%94%E7%94%A8%E4%B9%8B%E7%94%9F%E6%88%90%E5%8A%A0%E6%9D%83%E9%9A%8F%E6%9C%BA%E6%95%B0/" target="_blank" rel="noopener"
>前缀和应用之生成加权随机数 | coolcao的小站&lt;/a>&lt;/p></description></item><item><title>Cloudflare环境下开启Rocket Loader之后Katex失效问题</title><link>https://boiltask.com/knowledge/katex-cloudflare/</link><pubDate>Sat, 09 Nov 2024 12:45:51 +0800</pubDate><guid>https://boiltask.com/knowledge/katex-cloudflare/</guid><description>&lt;p>在博客部署到线上之后，发现&lt;code>Katex&lt;/code>公式无法正常显示，而相同的&lt;code>Html&lt;/code>文件在本地环境下是可以正常显示的。&lt;/p>
&lt;p>其中解析的核心代码如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;DOMContentLoaded&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">renderMathInElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">delimiters&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">left&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;$$&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">right&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;$$&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">display&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">left&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;$&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">right&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;$&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">display&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">left&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;\\(&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">right&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;\\)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">display&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">left&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;\\[&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">right&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;\\]&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">display&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ignoredClasses&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;gist&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>通过添加日志发现是&lt;code>DOMContentLoaded&lt;/code>事件没有触发。&lt;/p>
&lt;p>但是一直没想到是什么原因，直到留意到了线上版本里&lt;code>&amp;lt;script&amp;gt;&lt;/code>标签变成了形如&lt;code>&amp;lt;script type=&amp;quot;d6a94c0af8a975daac5bee56-text/javascript&amp;quot;&amp;gt;&lt;/code>。&lt;/p>
&lt;p>最终回想起来是&lt;code>Cloudflare&lt;/code>开启了&lt;code>Rocket Loader&lt;/code>。&lt;/p>
&lt;blockquote>
&lt;p>&lt;code>Rocket Loader&lt;/code>是&lt;code>Cloudflare&lt;/code>的一个功能，用于异步加载&lt;code>JavaScript&lt;/code>，以提高页面加载速度。&lt;/p>
&lt;/blockquote>
&lt;p>但是&lt;code>Rocket Loader&lt;/code>可能会导致加载顺序变化从而导致某些&lt;code>JavaScript&lt;/code>代码无法正常执行。&lt;/p>
&lt;p>暂时关闭了&lt;code>Rocket Loader&lt;/code>，问题解决。&lt;/p>
&lt;p>也可以通过在标签里添加&lt;code>data-cfasync=&amp;quot;false&amp;quot;&lt;/code>来禁用&lt;code>Rocket Loader&lt;/code>，不过考虑还需要修改主题，暂时不做修改了。&lt;/p></description></item><item><title>Hogo中Giscus配置</title><link>https://boiltask.com/knowledge/hugo-giscus/</link><pubDate>Fri, 08 Nov 2024 13:06:06 +0800</pubDate><guid>https://boiltask.com/knowledge/hugo-giscus/</guid><description>&lt;p>在给博客配置评论区的时候，遇见了一些问题，记录一些。&lt;/p>
&lt;h2 id="为何选择giscus">&lt;a href="#%e4%b8%ba%e4%bd%95%e9%80%89%e6%8b%a9giscus" class="header-anchor">&lt;/a>为何选择Giscus
&lt;/h2>&lt;p>&lt;code>Stack&lt;/code>这个主题默认的评论区是&lt;code>Disqus&lt;/code>，但是&lt;code>Disqus&lt;/code>是个国外的服务，而且需要收费，因此没有使用。&lt;/p>
&lt;p>同时，主题也支持了其他常见的评论区配置。我首先选择了之前经常注意到的&lt;code>Gitalk&lt;/code>，使用&lt;code>Github&lt;/code>的&lt;code>Issue&lt;/code>来作为评论区的方式当时让人眼前一亮。&lt;/p>
&lt;p>不过配置的时候遇见了一些权限问题，发现&lt;code>Gitalk&lt;/code>的权限有些不合理，评论者需要把自己的账号授权给博主来评论，理论上来说博主会获得一些不该有的登陆者的权限。
而且由于跨域问题，还需要找个处理跨域的代理，这又增添了一些隐私问题以及配置成本。&lt;/p>
&lt;p>最后选择了&lt;code>Giscus&lt;/code>，它使用自己的&lt;code>App&lt;/code>来作为权限拥有者，作为一个第三方，使用着只需要授权给这个应用即可完成&lt;code>Github&lt;/code>的授权。&lt;/p>
&lt;p>同时使用起来也更方便和灵活。&lt;/p>
&lt;h2 id="配置方式">&lt;a href="#%e9%85%8d%e7%bd%ae%e6%96%b9%e5%bc%8f" class="header-anchor">&lt;/a>配置方式
&lt;/h2>&lt;ol>
&lt;li>在&lt;code>Github&lt;/code>中安装&lt;a class="link" href="https://github.com/apps/giscus" target="_blank" rel="noopener"
>Giscus&lt;/a>&lt;/li>
&lt;li>将仓库授权给应用
&lt;ol>
&lt;li>在&lt;a class="link" href="https://github.com/settings/installations" target="_blank" rel="noopener"
>Applications&lt;/a>中找到&lt;code>Giscus&lt;/code>&lt;/li>
&lt;li>在&lt;code>Repository access&lt;/code>中选择所存放评论的仓库&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>前往&lt;a class="link" href="https://giscus.app/zh-CN" target="_blank" rel="noopener"
>Giscus&lt;/a>的官网继续完成配置
&lt;ol>
&lt;li>选择一个&lt;code>语言&lt;/code>&lt;/li>
&lt;li>在&lt;code>仓库&lt;/code>中输入所授权的仓库，如：&lt;code>BoilTask/BoilTask.github.io&lt;/code>&lt;/li>
&lt;li>根据后续的配置描述选择自己所要的配置&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>在&lt;code>启用 giscus&lt;/code>一项中查看所需要的配置&lt;/li>
&lt;/ol>
&lt;p>可以在需要的地方填写上生成的配置即可。&lt;/p></description></item><item><title>SVN回退操作</title><link>https://boiltask.com/knowledge/svn-revert/</link><pubDate>Mon, 09 Oct 2023 10:41:32 +0800</pubDate><guid>https://boiltask.com/knowledge/svn-revert/</guid><description>&lt;h2 id="功能简述">&lt;a href="#%e5%8a%9f%e8%83%bd%e7%ae%80%e8%bf%b0" class="header-anchor">&lt;/a>功能简述
&lt;/h2>&lt;p>有时候需要还原错误提交，这个时候可以使用Revert命令。&lt;/p>
&lt;h2 id="操作说明">&lt;a href="#%e6%93%8d%e4%bd%9c%e8%af%b4%e6%98%8e" class="header-anchor">&lt;/a>操作说明
&lt;/h2>&lt;p>在项目根目录上右键选择&lt;code>TortoiseSVN-&amp;gt;Show log&lt;/code>，打开日志窗口。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-revert/image-1-1.png"
width="513"
height="668"
srcset="https://boiltask.com/knowledge/svn-revert/image-1-1_hu17010377581922205921.png 480w, https://boiltask.com/knowledge/svn-revert/image-1-1_hu5800090339614270963.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="76"
data-flex-basis="184px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-revert/image-1-2.png"
width="463"
height="669"
srcset="https://boiltask.com/knowledge/svn-revert/image-1-2_hu4443800821170185299.png 480w, https://boiltask.com/knowledge/svn-revert/image-1-2_hu3382273434000479264.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="69"
data-flex-basis="166px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>在所需回退的记录上右键选择&lt;code>Revert changes from this revision&lt;/code>，打开确认窗口。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-revert/image-2-1.png"
width="739"
height="643"
srcset="https://boiltask.com/knowledge/svn-revert/image-2-1_hu7913616928023097590.png 480w, https://boiltask.com/knowledge/svn-revert/image-2-1_hu3570810554322645217.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="114"
data-flex-basis="275px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-revert/image-2-2.png"
width="739"
height="643"
srcset="https://boiltask.com/knowledge/svn-revert/image-2-2_hu12423358968747103432.png 480w, https://boiltask.com/knowledge/svn-revert/image-2-2_hu14657691247748881992.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="114"
data-flex-basis="275px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>选择&lt;code>Revert&lt;/code>即可。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-revert/image-3-1.png"
width="542"
height="325"
srcset="https://boiltask.com/knowledge/svn-revert/image-3-1_hu4042752106934293030.png 480w, https://boiltask.com/knowledge/svn-revert/image-3-1_hu6134221852306643944.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-revert/image-3-2.png"
width="542"
height="325"
srcset="https://boiltask.com/knowledge/svn-revert/image-3-2_hu13332711233538001998.png 480w, https://boiltask.com/knowledge/svn-revert/image-3-2_hu3975419756773525122.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="选项说明">&lt;a href="#%e9%80%89%e9%a1%b9%e8%af%b4%e6%98%8e" class="header-anchor">&lt;/a>选项说明
&lt;/h2>&lt;p>&lt;code>Revert to this revision&lt;/code>与&lt;code>Revert changes from this revision&lt;/code>的区别：&lt;/p>
&lt;p>&lt;code>Revert to this revision&lt;/code>指的是&lt;code>复原到此版本&lt;/code>，也即执行完之后，本地的状态应该是此版本提交后的状态。&lt;/p>
&lt;p>&lt;code>Revert changes from this revision&lt;/code>指的是复原此版本的修改，执行完之后应该是此版本提交前的状态。&lt;/p></description></item><item><title>SVN合并操作</title><link>https://boiltask.com/knowledge/svn-merge/</link><pubDate>Mon, 29 May 2023 21:44:15 +0800</pubDate><guid>https://boiltask.com/knowledge/svn-merge/</guid><description>&lt;p>以下以英文版为例，中文版同理选择对应位置选项即可。&lt;/p>
&lt;p>合并是一个相对的概念，既可以从主干（trunk）合并到分支（branch），也可以从分支（branch）合并到主干（trunk），下文以从主干（trunk）合并到分支（branch）为例。&lt;/p>
&lt;h2 id="功能简述">&lt;a href="#%e5%8a%9f%e8%83%bd%e7%ae%80%e8%bf%b0" class="header-anchor">&lt;/a>功能简述
&lt;/h2>&lt;p>为了保证一个相对稳定的文件版本，开发过程中有时会新建一个分支（branch） ，这样可以可以直接从分支获取资产以提高稳定性。&lt;/p>
&lt;p>相关操作：&lt;a class="link" href="https://boiltask.com/knowledge/svn-switch-branch" >SVN切分支&lt;/a>&lt;/p>
&lt;p>在我们提交主干（trunk）后，有时候需要把相同的提交传到分支，这个时候可以直接使用SVN的合并（merge）功能来简化操作。&lt;/p>
&lt;h2 id="操作说明">&lt;a href="#%e6%93%8d%e4%bd%9c%e8%af%b4%e6%98%8e" class="header-anchor">&lt;/a>操作说明
&lt;/h2>&lt;h3 id="准备工作">&lt;a href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c" class="header-anchor">&lt;/a>准备工作
&lt;/h3>&lt;p>需要本地拉取（Checkout）主干目录与分支目录，并尽可能保证干净无多余变化，以降低冲突可能性。&lt;/p>
&lt;h3 id="合并操作">&lt;a href="#%e5%90%88%e5%b9%b6%e6%93%8d%e4%bd%9c" class="header-anchor">&lt;/a>合并操作
&lt;/h3>&lt;p>在项目根目录上右键选择&lt;code>TortoiseSVN-&amp;gt;Show log&lt;/code>，打开日志窗口。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-merge/image-1-1.png"
width="513"
height="668"
srcset="https://boiltask.com/knowledge/svn-merge/image-1-1_hu17010377581922205921.png 480w, https://boiltask.com/knowledge/svn-merge/image-1-1_hu5800090339614270963.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="76"
data-flex-basis="184px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-merge/image-1-2.png"
width="463"
height="669"
srcset="https://boiltask.com/knowledge/svn-merge/image-1-2_hu4443800821170185299.png 480w, https://boiltask.com/knowledge/svn-merge/image-1-2_hu3382273434000479264.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="69"
data-flex-basis="166px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>在所需合并的记录上右键选择&lt;code>Merge revision to...&lt;/code>，打开选择目标窗口。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-merge/image-2-1.png"
width="739"
height="709"
srcset="https://boiltask.com/knowledge/svn-merge/image-2-1_hu2448058881704012729.png 480w, https://boiltask.com/knowledge/svn-merge/image-2-1_hu6349847887146610289.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="250px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-merge/image-2-2.png"
width="739"
height="709"
srcset="https://boiltask.com/knowledge/svn-merge/image-2-2_hu5936312556644352570.png 480w, https://boiltask.com/knowledge/svn-merge/image-2-2_hu13759128226647644493.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="250px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>选择本地分支的根目录，等待完成即可。&lt;/p>
&lt;p>&lt;img src="https://boiltask.com/knowledge/svn-merge/image-3.png"
width="960"
height="540"
srcset="https://boiltask.com/knowledge/svn-merge/image-3_hu11933152340863840705.png 480w, https://boiltask.com/knowledge/svn-merge/image-3_hu12021038228253536609.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;h3 id="解决冲突">&lt;a href="#%e8%a7%a3%e5%86%b3%e5%86%b2%e7%aa%81" class="header-anchor">&lt;/a>解决冲突
&lt;/h3>&lt;p>若分支的版本与主干对不上，则SVN会尝试合并，如果失败则会提供如何解决冲突的确认框。&lt;/p>
&lt;p>如果涉及到多人维护的文件，请充分沟通以减少异常。&lt;/p>
&lt;p>为了表述清晰，下文把来源文件称之为主干，目标文件称之为分支。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Postpone - 暂不处理，分支会保持冲突状态，相关文件或目录会标红，SVN会创建临时文件需要及时处理&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Accept Base - 放弃主干的文件，仍然使用分支的文件&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Accept incoming - 使用主干的文件，覆盖分支的文件&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Mark as resolved - 标记为解决，但需要注意此时文件仍处于冲突状态，SVN会删除临时文件&lt;/p>
&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-merge/image-4-1.png"
width="934"
height="736"
srcset="https://boiltask.com/knowledge/svn-merge/image-4-1_hu15080479352377242366.png 480w, https://boiltask.com/knowledge/svn-merge/image-4-1_hu12123394260900880120.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="126"
data-flex-basis="304px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-merge/image-4-2.png"
width="825"
height="644"
srcset="https://boiltask.com/knowledge/svn-merge/image-4-2_hu10406064931226753947.png 480w, https://boiltask.com/knowledge/svn-merge/image-4-2_hu4719651788656351657.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="128"
data-flex-basis="307px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="合并成功">&lt;a href="#%e5%90%88%e5%b9%b6%e6%88%90%e5%8a%9f" class="header-anchor">&lt;/a>合并成功
&lt;/h2>&lt;p>出现下面的提示说明合并成功，此时分支的文件已经被修改，正常提交（commit）即可。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-merge/image-5-1.png"
width="934"
height="736"
srcset="https://boiltask.com/knowledge/svn-merge/image-5-1_hu16162010147720784187.png 480w, https://boiltask.com/knowledge/svn-merge/image-5-1_hu6663661471441733664.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="126"
data-flex-basis="304px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-merge/image-5-2.png"
width="762"
height="520"
srcset="https://boiltask.com/knowledge/svn-merge/image-5-2_hu796579267384435703.png 480w, https://boiltask.com/knowledge/svn-merge/image-5-2_hu4171343192513218924.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="146"
data-flex-basis="351px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>SVN切分支</title><link>https://boiltask.com/knowledge/svn-switch-branch/</link><pubDate>Mon, 13 Mar 2023 23:14:21 +0800</pubDate><guid>https://boiltask.com/knowledge/svn-switch-branch/</guid><description>&lt;h2 id="功能简述">&lt;a href="#%e5%8a%9f%e8%83%bd%e7%ae%80%e8%bf%b0" class="header-anchor">&lt;/a>功能简述
&lt;/h2>&lt;p>有时候需要为了避免开发中的机制造成主干不稳定，我们会拉出来一个新的分支。&lt;/p>
&lt;p>可以使用&lt;code>Switch&lt;/code>命令将本地目录切换到目标分支。&lt;/p>
&lt;h2 id="切换分支">&lt;a href="#%e5%88%87%e6%8d%a2%e5%88%86%e6%94%af" class="header-anchor">&lt;/a>切换分支
&lt;/h2>&lt;p>在项目工程所在文件夹右键选择&lt;code>Switch...&lt;/code>打开分支切换窗口。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-switch-branch/image-1-1.png"
width="503"
height="679"
srcset="https://boiltask.com/knowledge/svn-switch-branch/image-1-1_hu5935501871532154894.png 480w, https://boiltask.com/knowledge/svn-switch-branch/image-1-1_hu18384966433410811196.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="74"
data-flex-basis="177px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-switch-branch/image-1-2.png"
width="473"
height="671"
srcset="https://boiltask.com/knowledge/svn-switch-branch/image-1-2_hu9041463599554812067.png 480w, https://boiltask.com/knowledge/svn-switch-branch/image-1-2_hu10133542670804154133.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="70"
data-flex-basis="169px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>输入目标分支，点击确认，然后等待完成即可。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-switch-branch/image-2-1.png"
width="616"
height="370"
srcset="https://boiltask.com/knowledge/svn-switch-branch/image-2-1_hu15041769225168938241.png 480w, https://boiltask.com/knowledge/svn-switch-branch/image-2-1_hu10398778729252334580.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="399px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-switch-branch/image-2-2.png"
width="616"
height="370"
srcset="https://boiltask.com/knowledge/svn-switch-branch/image-2-2_hu16988809227071996878.png 480w, https://boiltask.com/knowledge/svn-switch-branch/image-2-2_hu18341031616397604144.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="399px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="单个目录或文件切换分支">&lt;a href="#%e5%8d%95%e4%b8%aa%e7%9b%ae%e5%bd%95%e6%88%96%e6%96%87%e4%bb%b6%e5%88%87%e6%8d%a2%e5%88%86%e6%94%af" class="header-anchor">&lt;/a>单个目录或文件切换分支
&lt;/h2>&lt;p>在当前想切换的目录选择switch&lt;/p>
&lt;p>&lt;img src="https://boiltask.com/knowledge/svn-switch-branch/image-3.png"
width="614"
height="338"
srcset="https://boiltask.com/knowledge/svn-switch-branch/image-3_hu10987723568123480892.png 480w, https://boiltask.com/knowledge/svn-switch-branch/image-3_hu26609449577816713.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="181"
data-flex-basis="435px"
>&lt;/p>
&lt;p>找到想要切换到的分支对应的目录点击确定&lt;/p>
&lt;p>&lt;img src="https://boiltask.com/knowledge/svn-switch-branch/image-4.png"
width="1375"
height="466"
srcset="https://boiltask.com/knowledge/svn-switch-branch/image-4_hu8041458363380810481.png 480w, https://boiltask.com/knowledge/svn-switch-branch/image-4_hu13801987268901389218.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="295"
data-flex-basis="708px"
>&lt;/p>
&lt;p>回到这个界面点击ok即可&lt;/p>
&lt;p>&lt;img src="https://boiltask.com/knowledge/svn-switch-branch/image-5.png"
width="616"
height="370"
srcset="https://boiltask.com/knowledge/svn-switch-branch/image-5_hu2569409130268246945.png 480w, https://boiltask.com/knowledge/svn-switch-branch/image-5_hu14511331662190612340.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="399px"
>&lt;/p>
&lt;p>&lt;strong>注：如单独切换某个目录或文件到指定分支，修改完记得切回原分支&lt;/strong>&lt;/p></description></item><item><title>SVN锁定操作</title><link>https://boiltask.com/knowledge/svn-lock/</link><pubDate>Mon, 13 Mar 2023 19:35:21 +0800</pubDate><guid>https://boiltask.com/knowledge/svn-lock/</guid><description>&lt;p>以下主要以英文版为例，中文版同理选择对应位置选项即可。&lt;/p>
&lt;p>多图警告，可通过左侧目录跳转所需章节。&lt;/p>
&lt;h2 id="功能简述">&lt;a href="#%e5%8a%9f%e8%83%bd%e7%ae%80%e8%bf%b0" class="header-anchor">&lt;/a>功能简述
&lt;/h2>&lt;p>因为修改某一文件往往需要一段时间，在此期间内如果有人上传了同一文件，如果无法合并就会导致自己提交时产生冲突。&lt;/p>
&lt;p>为了尽量避免此问题，我们可以在修改前就把文件锁定（&lt;code>Lock&lt;/code>），这样其他人通过正常操作就无法上传。&lt;/p>
&lt;p>同时如果他也在修改前尝试锁定，就可以得到别人已经锁定本文件的提示，从而也避免了无效工作。&lt;/p>
&lt;h2 id="工具使用">&lt;a href="#%e5%b7%a5%e5%85%b7%e4%bd%bf%e7%94%a8" class="header-anchor">&lt;/a>工具使用
&lt;/h2>&lt;h3 id="锁定文件">&lt;a href="#%e9%94%81%e5%ae%9a%e6%96%87%e4%bb%b6" class="header-anchor">&lt;/a>锁定文件
&lt;/h3>&lt;p>在所需锁定的文件上右键选择&lt;code>TortoiseSVN-&amp;gt;GetLock...&lt;/code>，弹出确认窗口。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-1-1.png"
width="720"
height="815"
srcset="https://boiltask.com/knowledge/svn-lock/image-1-1_hu10613403118535043628.png 480w, https://boiltask.com/knowledge/svn-lock/image-1-1_hu6518781224494017334.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="88"
data-flex-basis="212px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-1-2.png"
width="700"
height="811"
srcset="https://boiltask.com/knowledge/svn-lock/image-1-2_hu11167061833332973397.png 480w, https://boiltask.com/knowledge/svn-lock/image-1-2_hu5297745458006572602.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="86"
data-flex-basis="207px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>在窗口里输入锁定原因，点击确认即可。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-2-1.png"
width="532"
height="571"
srcset="https://boiltask.com/knowledge/svn-lock/image-2-1_hu8531832550648001071.png 480w, https://boiltask.com/knowledge/svn-lock/image-2-1_hu11409514016090496122.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="93"
data-flex-basis="223px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-2-2.png"
width="532"
height="571"
srcset="https://boiltask.com/knowledge/svn-lock/image-2-2_hu12740665712511142850.png 480w, https://boiltask.com/knowledge/svn-lock/image-2-2_hu4614013570268702220.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="93"
data-flex-basis="223px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="查看锁定">&lt;a href="#%e6%9f%a5%e7%9c%8b%e9%94%81%e5%ae%9a" class="header-anchor">&lt;/a>查看锁定
&lt;/h3>&lt;p>如果需要查看一个文件有没有被别人锁定，可以右键选择&lt;code>TortoiseSVN-&amp;gt;Check for modifications&lt;/code>。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-3-1.png"
width="662"
height="785"
srcset="https://boiltask.com/knowledge/svn-lock/image-3-1_hu11020575163933948961.png 480w, https://boiltask.com/knowledge/svn-lock/image-3-1_hu18133542715937806061.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="84"
data-flex-basis="202px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-3-2.png"
width="467"
height="682"
srcset="https://boiltask.com/knowledge/svn-lock/image-3-2_hu1891260429824521828.png 480w, https://boiltask.com/knowledge/svn-lock/image-3-2_hu8134180997390071011.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="68"
data-flex-basis="164px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>点击&lt;code>Check repository&lt;/code>即可扫描出变更，并通过&lt;code>Lock&lt;/code>一栏查看锁定者。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-4-1.png"
width="1067"
height="539"
srcset="https://boiltask.com/knowledge/svn-lock/image-4-1_hu2078220766911598252.png 480w, https://boiltask.com/knowledge/svn-lock/image-4-1_hu5893435162189683820.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="197"
data-flex-basis="475px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-4-2.png"
width="1052"
height="486"
srcset="https://boiltask.com/knowledge/svn-lock/image-4-2_hu9452001396821168688.png 480w, https://boiltask.com/knowledge/svn-lock/image-4-2_hu15983604767246758065.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="216"
data-flex-basis="519px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="释放文件">&lt;a href="#%e9%87%8a%e6%94%be%e6%96%87%e4%bb%b6" class="header-anchor">&lt;/a>释放文件
&lt;/h3>&lt;h4 id="手动释放">&lt;a href="#%e6%89%8b%e5%8a%a8%e9%87%8a%e6%94%be" class="header-anchor">&lt;/a>手动释放
&lt;/h4>&lt;p>同理，在所需释放的文件上右键选择&lt;code>TortoiseSVN-&amp;gt;ReleaseLock...&lt;/code>，弹出确认窗口点击确认即可。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-5-1.png"
width="751"
height="817"
srcset="https://boiltask.com/knowledge/svn-lock/image-5-1_hu5099334325101817976.png 480w, https://boiltask.com/knowledge/svn-lock/image-5-1_hu5642565465813555531.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="91"
data-flex-basis="220px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-5-2.png"
width="609"
height="825"
srcset="https://boiltask.com/knowledge/svn-lock/image-5-2_hu9117771135428803543.png 480w, https://boiltask.com/knowledge/svn-lock/image-5-2_hu1966502865403730667.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="73"
data-flex-basis="177px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="自动释放">&lt;a href="#%e8%87%aa%e5%8a%a8%e9%87%8a%e6%94%be" class="header-anchor">&lt;/a>自动释放
&lt;/h4>&lt;p>SVN默认会在提交文件时解锁对应文件，如果提交后也不想解锁，可以选择&lt;code>Keep Locks&lt;/code>。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-6-1.png"
width="721"
height="718"
srcset="https://boiltask.com/knowledge/svn-lock/image-6-1_hu15927409771865917671.png 480w, https://boiltask.com/knowledge/svn-lock/image-6-1_hu3466397071656374398.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="241px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-6-2.png"
width="704"
height="741"
srcset="https://boiltask.com/knowledge/svn-lock/image-6-2_hu8657624855487578581.png 480w, https://boiltask.com/knowledge/svn-lock/image-6-2_hu4463349718507782490.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="95"
data-flex-basis="228px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="意外情况">&lt;a href="#%e6%84%8f%e5%a4%96%e6%83%85%e5%86%b5" class="header-anchor">&lt;/a>意外情况
&lt;/h3>&lt;p>如果锁定时出现了如下提示，则说明已被用户锁定，锁定信息会显示在图示位置（如果锁定者没填则不显示）。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-7-1.png"
width="762"
height="576"
srcset="https://boiltask.com/knowledge/svn-lock/image-7-1_hu3035808876713423987.png 480w, https://boiltask.com/knowledge/svn-lock/image-7-1_hu14456454763541704663.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="317px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-7-2.png"
width="762"
height="576"
srcset="https://boiltask.com/knowledge/svn-lock/image-7-2_hu1440869857335182607.png 480w, https://boiltask.com/knowledge/svn-lock/image-7-2_hu14985938029990149709.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="317px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>此时需要和该用户沟通锁定原因，协商处理。&lt;/p>
&lt;h3 id="强制锁定">&lt;a href="#%e5%bc%ba%e5%88%b6%e9%94%81%e5%ae%9a" class="header-anchor">&lt;/a>强制锁定
&lt;/h3>&lt;p>由于锁标记是存在本地文件夹的，有时候由于换机器等原因锁定未释放，此时需要强制解除锁定。&lt;/p>
&lt;p>锁定操作勾选&lt;code>Steal the locks&lt;/code>时，会强制无效已锁定状态，把锁定转为此次操作的用户。&lt;/p>
&lt;blockquote>
&lt;p>如果文件由其他用户锁定，应尽量避免使用此操作破坏开发流程。&lt;/p>
&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-8-1.png"
width="532"
height="571"
srcset="https://boiltask.com/knowledge/svn-lock/image-8-1_hu9999446847589336692.png 480w, https://boiltask.com/knowledge/svn-lock/image-8-1_hu17502981096254089608.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="93"
data-flex-basis="223px"
>&lt;/th>
&lt;th style="text-align: left">&lt;img src="https://boiltask.com/knowledge/svn-lock/image-8-2.png"
width="532"
height="571"
srcset="https://boiltask.com/knowledge/svn-lock/image-8-2_hu3855568038762477466.png 480w, https://boiltask.com/knowledge/svn-lock/image-8-2_hu8904183885368462120.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="93"
data-flex-basis="223px"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">英文版&lt;/td>
&lt;td style="text-align: left">中文版&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="结合引擎">&lt;a href="#%e7%bb%93%e5%90%88%e5%bc%95%e6%93%8e" class="header-anchor">&lt;/a>结合引擎
&lt;/h2>&lt;p>&lt;code>UnrealEngine&lt;/code>提供了内置的版本控制工具，可以快捷的实现一些&lt;code>SVN&lt;/code>操作，可参考&lt;a class="link" href="https://boiltask.com/ue/source-control-tool" >引擎内置版本控制工具&lt;/a>进行配置。&lt;/p>
&lt;h2 id="注意事项">&lt;a href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" class="header-anchor">&lt;/a>注意事项
&lt;/h2>&lt;p>由于锁定之后会干扰其他同事操作，因此锁定前需要确认操作的必要性。如果遇见有人询问相关问题，应积极处理。&lt;/p>
&lt;p>未避免误操作，应不定期查看&lt;code>Release Lock&lt;/code>列表，看看是否有误锁文件。&lt;/p></description></item><item><title>强制修改Git记录中提交者</title><link>https://boiltask.com/knowledge/git-modify/</link><pubDate>Thu, 16 Feb 2023 19:02:13 +0000</pubDate><guid>https://boiltask.com/knowledge/git-modify/</guid><description>&lt;p>在自己维护项目的时候，有的时候会因为忘了切换账号而错误标记了提交者。&lt;/p>
&lt;p>考虑只有自己在用，&lt;code>force&lt;/code>强制推送也是可以接受的，所以记录一下可以使用工具来强制修改信息。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git filter-branch --env-filter &lt;span class="s1">&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">OLD_EMAIL=&amp;#34;BoilTask@qq.com&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">CORRECT_NAME=&amp;#34;tian.ouyang&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">CORRECT_EMAIL=&amp;#34;tian.ouyang@yingxiong.com&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">if [ &amp;#34;$GIT_COMMITTER_EMAIL&amp;#34; = &amp;#34;$OLD_EMAIL&amp;#34; ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">then
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> export GIT_COMMITTER_NAME=&amp;#34;$CORRECT_NAME&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> export GIT_COMMITTER_EMAIL=&amp;#34;$CORRECT_EMAIL&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">fi
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">if [ &amp;#34;$GIT_AUTHOR_EMAIL&amp;#34; = &amp;#34;$OLD_EMAIL&amp;#34; ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">then
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> export GIT_AUTHOR_NAME=&amp;#34;$CORRECT_NAME&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> export GIT_AUTHOR_EMAIL=&amp;#34;$CORRECT_EMAIL&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">fi
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git push --force --tags origin &lt;span class="s1">&amp;#39;refs/heads/*&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>【Go指南】练习：斐波纳契闭包</title><link>https://boiltask.com/knowledge/golang-fibonacci-closure/</link><pubDate>Wed, 01 Sep 2021 00:50:11 +0800</pubDate><guid>https://boiltask.com/knowledge/golang-fibonacci-closure/</guid><description>&lt;h2 id="练习斐波纳契闭包">&lt;a href="#%e7%bb%83%e4%b9%a0%e6%96%90%e6%b3%a2%e7%ba%b3%e5%a5%91%e9%97%ad%e5%8c%85" class="header-anchor">&lt;/a>练习：斐波纳契闭包
&lt;/h2>&lt;p>让我们用函数做些好玩的事情。&lt;/p>
&lt;p>实现一个 &lt;code>fibonacci&lt;/code> 函数，它返回一个函数（闭包），该闭包返回一个&lt;a class="link" href="https://zh.wikipedia.org/wiki/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97" title="斐波纳契数列"
target="_blank" rel="noopener"
>斐波纳契数列&lt;/a> &lt;code>(0, 1, 1, 2, 3, 5, ...)&lt;/code>。&lt;/p>
&lt;p>参考代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Go" data-lang="Go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 返回一个“返回int的函数”
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">fibonacci&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">a2&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">a1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">a2&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">a2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">a1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">a2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">res&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">f&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">fibonacci&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">f&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>【Go指南】练习：映射</title><link>https://boiltask.com/knowledge/golang-map/</link><pubDate>Wed, 01 Sep 2021 00:40:23 +0800</pubDate><guid>https://boiltask.com/knowledge/golang-map/</guid><description>&lt;h2 id="练习映射">&lt;a href="#%e7%bb%83%e4%b9%a0%e6%98%a0%e5%b0%84" class="header-anchor">&lt;/a>练习：映射
&lt;/h2>&lt;p>实现 &lt;code>WordCount&lt;/code>。它应当返回一个映射，其中包含字符串 &lt;code>s&lt;/code> 中每个“单词”的个数。函数 &lt;code>wc.Test&lt;/code> 会对此函数执行一系列测试用例，并输出成功还是失败。&lt;/p>
&lt;p>你会发现 &lt;a class="link" href="https://go-zh.org/pkg/strings/#Fields" title="strings.Fields"
target="_blank" rel="noopener"
>strings.Fields&lt;/a> 很有帮助。&lt;/p>
&lt;p>代码参考：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Go" data-lang="Go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;golang.org/x/tour/wc&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;strings&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">WordCount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stringList&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">strings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fields&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">word&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">stringList&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">word&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">++&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">res&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">WordCount&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>客户端编程规范</title><link>https://boiltask.com/knowledge/client-style-guide/</link><pubDate>Mon, 10 May 2021 21:34:36 +0800</pubDate><guid>https://boiltask.com/knowledge/client-style-guide/</guid><description>&lt;blockquote>
&lt;p>整理一下总结的客户端向的编程规范，尽可能做到有理有据，后续可能还会不定期修订。&lt;/p>
&lt;/blockquote>
&lt;h2 id="头文件">&lt;a href="#%e5%a4%b4%e6%96%87%e4%bb%b6" class="header-anchor">&lt;/a>头文件
&lt;/h2>&lt;h3 id="include">&lt;a href="#include" class="header-anchor">&lt;/a>Include
&lt;/h3>&lt;ul>
&lt;li>头文件
&lt;ul>
&lt;li>通过宏防止重复包含&lt;/li>
&lt;li>&lt;code>#pragma once&lt;/code>，所用的所有编译器均支持&lt;/li>
&lt;li>包含时尽量细粒化。例如，勿包含Core.h，而在核心中包含需要定义的特定头文件。&lt;/li>
&lt;li>尽量直接包含所需的头文件，以便进行细粒化包含。&lt;/li>
&lt;li>在 &lt;code>#include&lt;/code> 中插入空行以分割相关头文件, C 库, C++ 库, 其他库的 &lt;code>.h&lt;/code> 和本项目内的 &lt;code>.h&lt;/code> 是个好习惯。&lt;/li>
&lt;li>尽可能在cpp中引用其他头文件，避免头文件中直接引用某一类。
&lt;ul>
&lt;li>可以考虑优先使用声明类的形式来在头文件中使用另一类而在cpp中再真正include，可以有效梳理结构避免循环引用。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>尽可能先根据：cpp对应头文件、C++标准库文件、框架头文件、第三方头文件、项目通用头文件、具体功能头文件的顺序来引用文件，方便理清文件引用结构。&lt;/li>
&lt;li>引用头文件时尽可能避免使用相对位置，比如....\NetDef.h，不利于文件梳理以及理解文件结构。&lt;/li>
&lt;li>避免使用反斜线&lt;code>\&lt;/code>来标记路径，在一些编译器会存在异常，应使用斜线&lt;code>/&lt;/code>来标记路径。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="前置声明">&lt;a href="#%e5%89%8d%e7%bd%ae%e5%a3%b0%e6%98%8e" class="header-anchor">&lt;/a>前置声明
&lt;/h3>&lt;ul>
&lt;li>所谓「前置声明」（forward declaration）是类、函数和模板的纯粹声明，没伴随着其定义
&lt;ul>
&lt;li>前置声明能够节省编译时间，多余的 &lt;code>#include&lt;/code> 会迫使编译器展开更多的文件，处理更多的输入。&lt;/li>
&lt;li>前置声明能够节省不必要的重新编译的时间。 &lt;code>#include&lt;/code> 使代码因为头文件中无关的改动而被重新编译多次。&lt;/li>
&lt;li>尽可能的使用前置声明，而非头文件，在CPP中包含对应的头文件&lt;/li>
&lt;li>减少编译的时间&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="内联函数">&lt;a href="#%e5%86%85%e8%81%94%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>内联函数
&lt;/h3>&lt;ul>
&lt;li>内联函数的合理使用可提高代码执行效率&lt;/li>
&lt;li>当函数只有10行甚至更少时才将其定义为内联函数&lt;/li>
&lt;li>谨慎对待析构函数，析构函数往往比其表面看起来要更长，因为有隐含的成员和基类析构函数被调用&lt;/li>
&lt;li>包含循环和switch语句的函数内联通常得不偿失&lt;/li>
&lt;li>声明了内联也不一定会被编译器内联，虚函数和递归函数不会被正常内联&lt;/li>
&lt;li>类内部的函数一般会自动内联。所以某函数一旦不需要内联，其定义就不要再放在头文件里，而是放到对应的 cpp 文件里。这样可以保持头文件的类相当精炼，也很好地贯彻了声明与定义分离的原则。&lt;/li>
&lt;/ul>
&lt;h3 id="范例">&lt;a href="#%e8%8c%83%e4%be%8b" class="header-anchor">&lt;/a>范例
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#pragma once
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 头文件区
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;#34;CoreMinimal.h&amp;#34;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;#34;UObject/ObjectMacros.h&amp;#34;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;#34;UObject/UObjectBaseUtility.h&amp;#34;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;#34;UObject/Object.h&amp;#34;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;#34;TestObject.generated.h&amp;#34;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 前置声明区
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">AActor&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">AController&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">UPrimitiveComponent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">FAttachedActorInfo&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 结构体定义
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">USTRUCT&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">FTestStruct&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">GENERATED_BODY&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">UPROPERTY&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">TestValue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 委托定义
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 类体定义
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">UCLASS&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BlueprintType&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Blueprintable&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">ATestObject&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="n">AActor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">GENERATED_BODY&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ATestObject&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">....&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 内联函数定义
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="作用域">&lt;a href="#%e4%bd%9c%e7%94%a8%e5%9f%9f" class="header-anchor">&lt;/a>作用域
&lt;/h2>&lt;h3 id="命名空间">&lt;a href="#%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4" class="header-anchor">&lt;/a>命名空间
&lt;/h3>&lt;ul>
&lt;li>命名空间将全局作用域细分为独立的, 具名的作用域, 可有效防止全局作用域的命名冲突。&lt;/li>
&lt;li>禁止使用using namespace xxx;&lt;/li>
&lt;li>禁止使用内联命名空间
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">namespace&lt;/span> &lt;span class="n">X&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">inline&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">Y&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">foo&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>X::Y::foo与X::foo是等价的&lt;/li>
&lt;li>内联命名空间主要用来保持跨版本的 ABI 兼容性。（一般用不到）&lt;/li>
&lt;li>在头文件中使用匿名空间违背了C++的唯一定义原则（One Definition Rule（ODR））&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="匿名命名空间和静态变量">&lt;a href="#%e5%8c%bf%e5%90%8d%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4%e5%92%8c%e9%9d%99%e6%80%81%e5%8f%98%e9%87%8f" class="header-anchor">&lt;/a>匿名命名空间和静态变量
&lt;/h3>&lt;ul>
&lt;li>内部链接性
&lt;ul>
&lt;li>意味着你在这个文件中声明的这些标识符都不能在另一个文件中被访问。即使两个文件声明了完全一样名字的标识符，它们所指向的实体实际上是完全不同的。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>在 .cpp 文件中定义一个不需要被外部引用的变量时，可以将它们放在匿名命名空间或声明为 &lt;code>static&lt;/code> 。&lt;/li>
&lt;li>不需要被外部引用的变量&lt;/li>
&lt;li>不要在头文件中使用&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">xxx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">cpp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">namespace&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">xxx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">static&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">xxx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="局部变量">&lt;a href="#%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f" class="header-anchor">&lt;/a>局部变量
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>函数变量尽可能置于最小作用域，并在变量声明时进行初始化&lt;/p>
&lt;ul>
&lt;li>离第一次使用越近越好，方便阅读者更容易定位变量声明的位置&lt;/li>
&lt;li>局部变量在声明的同时进行显式值初始化，比起隐式初始化再赋值的两步过程要高效，同时也贯彻了计算机体系结构重要的概念「局部性（locality）」。&lt;/li>
&lt;li>对象：循环作用域外声明要高效的多&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// 坏——初始化和声明分离
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// 好——初始化时声明
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">v&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 用花括号初始化更好
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">v&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">};&lt;/span> &lt;span class="c1">// 好——v 一开始就初始化
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 低效的实现
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1000000&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Foo&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 构造函数和析构函数分别调用 1000000 次!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">DoSomething&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Foo&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 构造函数和析构函数只调用 1 次
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1000000&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">DoSomething&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>属于 &lt;code>if&lt;/code>, &lt;code>while&lt;/code> 和 &lt;code>for&lt;/code> 语句的变量应当在这些语句中正常地声明，这样子这些变量的作用域就被限制在这些语句中了，举例而言:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">strchr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sc">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="n">str&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="静态和全局变量">&lt;a href="#%e9%9d%99%e6%80%81%e5%92%8c%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8f" class="header-anchor">&lt;/a>静态和全局变量
&lt;/h3>&lt;ul>
&lt;li>原生数据类型POD（Plain Old Data）
&lt;ul>
&lt;li>Int, char, float等基本类型，POD类型的指针、数组、结构体&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>静态生存周期变量
&lt;ul>
&lt;li>全局变量，静态变量，静态类成员变量和函数静态变量&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>禁止使用类的静态生存周期变量，因为在这种情况下构造和析构函数调用顺序是不确定的，他们会导致难以发现的bug。（对象A依赖对象B，但对象B早于A析构）&lt;/li>
&lt;li>不允许用函数返回值来初始化POD变量，除非该函数不涉及任何全局变量（比如 &lt;code>getenv()&lt;/code> 或 &lt;code>getpid()&lt;/code> ）&lt;/li>
&lt;li>函数的作用域内的静态变量除外，毕竟他们的初始化顺序是有明确定义，只会在指令执行到它的声明那里才会发生&lt;/li>
&lt;li>同一个编译单元（cpp）内是明确的，静态初始化优先于动态初始化，初始化顺序按照声明顺序进行，销毁则逆序，不同编译单元之间的初始化和销毁顺序则属于未明确行为&lt;/li>
&lt;li>quick_exit替代exit，前者不会执行任何析构，也不会执行atexit绑定的任何handlers&lt;/li>
&lt;li>如果确实需要一个class类型的静态或全局变量，可以使用单例模式&lt;/li>
&lt;/ul>
&lt;h2 id="类">&lt;a href="#%e7%b1%bb" class="header-anchor">&lt;/a>类
&lt;/h2>&lt;h3 id="构造函数">&lt;a href="#%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>构造函数
&lt;/h3>&lt;ul>
&lt;li>不要在构造函数中调用自身的虚函数，这类调用时不会重定向到子类的虚函数实现，即使现在没有被子类重载，将来也是隐患
&lt;ul>
&lt;li>C++中的虚函数允许在运行时动态绑定，即在运行时根据实际对象的类型来确定调用哪个虚函数实现。这样的动态绑定是通过虚函数表（vtable）来实现的。在构造函数中调用虚函数时，由于对象尚未完全构造完成，可能会导致虚函数表指针尚未被正确初始化，从而导致无法正确调用虚函数的实现。&lt;/li>
&lt;li>当虚函数在构造函数中被调用时，如果基类的构造函数中调用了虚函数，由于动态绑定机制，可能会调用派生类中未被构造完全的函数。这样可能会导致对象的状态不正确，甚至产生未定义的行为。&lt;/li>
&lt;li>&lt;strong>应该尽量避免在构造函数中进行复杂的初始化逻辑，以保证对象正确地构造完成。&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ABaseMonster&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">ABaseMonster&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">FObjectInitializer&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">ObjectInitializer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span> &lt;span class="n">BornLocation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">FVector&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">ZeroVector&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">,&lt;/span> &lt;span class="n">bCanCrouch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">,&lt;/span> &lt;span class="n">LocomotionComp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">nullptr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">AutoDestory&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SpawnedByWaveSpawner&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">MonsterLevel&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SpawnType&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ETypeofSpawn&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">None&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">NetCullDistanceSquared&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">FMath&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">Square&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">8000.f&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">AkForFoot&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">CreateDefaultSubobject&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UAkComponent&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TEXT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;AkForFoot&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">AkForFoot&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">SetupAttachment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RootComponent&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">AkForFoot&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">PrimaryComponentTick&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">bAllowTickOnDedicatedServer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">WeaponComponent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">CreateDefaultSubobject&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UStarsWeaponComponent&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TEXT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;WeaponComponent&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SetCollisionEnabled&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">false&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">USkeletalMeshComponent&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">SKMesh&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">GetMesh&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//SKMesh-&amp;gt;VisibilityBasedAnimTickOption = EVisibilityBasedAnimTickOption::OnlyTickPoseWhenRendered;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//SKMesh-&amp;gt;bEnableUpdateRateOptimizations = true;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">AttributeManagerComponent&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">AttributeManagerComponent&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">SetOwnerType&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">EAttributeOwnerType&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">Monster&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SetTeamID&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">FGenericTeamId&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">uint8&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">EFactionType&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">MonsterFac&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">RespawnRate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bBeingCaptured&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>构造函数内不要调类似初始化的函数，因为初始化理论上会失败，如果执行失败返回了一个初始化失败的对象，后续怎么使用该对象是比较奇怪的&lt;/li>
&lt;/ul>
&lt;h3 id="隐式类型变换">&lt;a href="#%e9%9a%90%e5%bc%8f%e7%b1%bb%e5%9e%8b%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>隐式类型变换
&lt;/h3>&lt;ul>
&lt;li>不要定义隐式类型变换，对于转换运算符和单参数构造函数, 请使用 &lt;code>explicit&lt;/code> 关键字&lt;/li>
&lt;li>隐式类型转换会隐藏类型不匹配的错误. 有时, 目的类型并不符合用户的期望, 甚至用户根本没有意识到发生了类型转换.&lt;/li>
&lt;li>隐式类型转换会让代码难以阅读, 尤其是在有函数重载的时候, 因为这时很难判断到底是哪个函数被调用.&lt;/li>
&lt;/ul>
&lt;h3 id="可拷贝类型和可移动类型">&lt;a href="#%e5%8f%af%e6%8b%b7%e8%b4%9d%e7%b1%bb%e5%9e%8b%e5%92%8c%e5%8f%af%e7%a7%bb%e5%8a%a8%e7%b1%bb%e5%9e%8b" class="header-anchor">&lt;/a>可拷贝类型和可移动类型
&lt;/h3>&lt;ul>
&lt;li>如果需要显式定义拷贝和移动，否则就把隐式产生的拷贝和移动函数禁掉&lt;/li>
&lt;li>如果需要就让你的类型可拷贝 / 可移动. 作为一个经验法则, 如果对于你的用户来说这个拷贝操作不是一眼就能看出来的, 那就不要把类型设置为可拷贝. 如果让类型可拷贝, 一定要同时给出拷贝构造函数和赋值操作的定义, 反之亦然. 如果让类型可移动, 同时移动操作的效率高于拷贝操作, 那么就把移动的两个操作 (移动构造函数和赋值操作) 也给出定义. 如果类型不可拷贝, 但是移动操作的正确性对用户显然可见, 那么把这个类型设置为只可移动并定义移动的两个操作&lt;/li>
&lt;li>如果定义了拷贝/移动操作, 则要保证这些操作的默认实现是正确的. 记得时刻检查默认操作的正确性, 并且在文档中说明类是可拷贝的且/或可移动的&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Foo&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Foo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Foo&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">other&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">field_&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">other&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">field&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 差, 只定义了移动构造函数, 而没有定义对应的赋值运算符.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Field&lt;/span> &lt;span class="n">field_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>如果你的类不需要拷贝 / 移动操作, 请显式地通过在 &lt;code>public&lt;/code> 域中使用 &lt;code>= delete&lt;/code> 或其他手段禁用之.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// MyClass is neither copyable nor movable.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">MyClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">MyClass&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">delete&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">MyClass&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="k">operator&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">MyClass&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">delete&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="继承">&lt;a href="#%e7%bb%a7%e6%89%bf" class="header-anchor">&lt;/a>继承
&lt;/h3>&lt;ul>
&lt;li>析构函数，虚函数&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">A&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">~&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">delete&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">nullptr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;A::~A()&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">protected&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">nullptr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">B&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="n">A&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">B&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">xx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">~&lt;/span>&lt;span class="n">B&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">xx&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">delete&lt;/span> &lt;span class="n">xx&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">xx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">nullptr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;B::~B()&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">protected&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">xx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">nullptr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">B&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="多重继承">&lt;a href="#%e5%a4%9a%e9%87%8d%e7%bb%a7%e6%89%bf" class="header-anchor">&lt;/a>多重继承
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>最多只有一个基类是非抽象类，其他基类都是纯接口类&lt;/p>
&lt;/li>
&lt;li>
&lt;p>菱形继承？？通常意味着设计出了问题&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="接口">&lt;a href="#%e6%8e%a5%e5%8f%a3" class="header-anchor">&lt;/a>接口
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>C++接口&lt;/p>
&lt;/li>
&lt;li>
&lt;p>蓝图接口&lt;/p>
&lt;ul>
&lt;li>
&lt;p>BlueprintImplementableEvent&lt;/p>
&lt;/li>
&lt;li>
&lt;p>BlueprintNativeEvent&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="运算符重载">&lt;a href="#%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bd" class="header-anchor">&lt;/a>运算符重载
&lt;/h3>&lt;ul>
&lt;li>运算符重载会混淆视听，让人误以为耗时的操作和操作内建类型一样轻巧&lt;/li>
&lt;/ul>
&lt;h3 id="成员变量">&lt;a href="#%e6%88%90%e5%91%98%e5%8f%98%e9%87%8f" class="header-anchor">&lt;/a>成员变量
&lt;/h3>&lt;p>一般不建议把成员变量标记为&lt;code>public&lt;/code>，接口变更时更容易出现遗漏。&lt;/p>
&lt;p>并且一个&lt;code>public&lt;/code>的变量，对象自身对其更难以控制，不利于约束其读写行为。&lt;/p>
&lt;p>考虑为其增加&lt;code>public&lt;/code>的&lt;code>Set&lt;/code>与&lt;code>Get&lt;/code>相关接口来实现对其的操作。&lt;/p>
&lt;p>比如如下例子：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">FString&lt;/span> &lt;span class="n">SaveKey&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">StarsSaveGame&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">OverrideSaveKey&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">SaveKey&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">IsEmpty&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SaveKey&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">GetName&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果调用者错误使用了&lt;code>FString&amp;amp; SaveKey = StarsSaveGame-&amp;gt;OverrideSaveKey&lt;/code>，那么就会错误修改成员变量。&lt;/p>
&lt;p>如果改成函数的返回则没有这种隐患，会在编译器得到警告：&lt;/p>
&lt;blockquote>
&lt;p>Binding r-value to l-value reference is non-standard Microsoft C++ extension&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">SaveKey&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">StarsSaveGame&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">GetOverrideSaveKey&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">SaveKey&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">IsEmpty&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SaveKey&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Class&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">GetName&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="结构体">&lt;a href="#%e7%bb%93%e6%9e%84%e4%bd%93" class="header-anchor">&lt;/a>结构体
&lt;/h2>&lt;h3 id="成员变量初始化">&lt;a href="#%e6%88%90%e5%91%98%e5%8f%98%e9%87%8f%e5%88%9d%e5%a7%8b%e5%8c%96" class="header-anchor">&lt;/a>成员变量初始化
&lt;/h3>&lt;p>如下：用到的指针一定要进行初始化，在栈上创建结构体时，指针并不会被UE初始化，会造成野指针&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">USTRUCT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BlueprintType&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">FDeathInfo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">GENERATED_BODY&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">UPROPERTY&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BlueprintReadOnly&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">EDeadCauserType&lt;/span> &lt;span class="n">DeadCauserType&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">EDeadCauserType&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">Common&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/** 击杀者 */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">UPROPERTY&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BlueprintReadOnly&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">AActor&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">Killer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">nullptr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/** 被击杀者 */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">UPROPERTY&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BlueprintReadOnly&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">AActor&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">Victim&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">nullptr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="枚举">&lt;a href="#%e6%9e%9a%e4%b8%be" class="header-anchor">&lt;/a>枚举
&lt;/h2>&lt;p>如果枚举值需要暴露给蓝图，那么他需要在&lt;code>uint8&lt;/code>范围内，否则在一些时候会有超出预期的问题。&lt;/p>
&lt;p>如果想要大数值的枚举，又不想在蓝图中直接写死数值，可以考虑使用&lt;code>FName&lt;/code>来与之对应，推荐使用表格维护。&lt;/p>
&lt;h3 id="枚举值类型">&lt;a href="#%e6%9e%9a%e4%b8%be%e5%80%bc%e7%b1%bb%e5%9e%8b" class="header-anchor">&lt;/a>枚举值类型
&lt;/h3>&lt;p>枚举值应使用&lt;code>enum class&lt;/code>定义并标识所使用的存储结构，而不应该直接使用&lt;code>enum&lt;/code>。&lt;/p>
&lt;h4 id="枚举值类型理由">&lt;a href="#%e6%9e%9a%e4%b8%be%e5%80%bc%e7%b1%bb%e5%9e%8b%e7%90%86%e7%94%b1" class="header-anchor">&lt;/a>枚举值类型理由
&lt;/h4>&lt;p>&lt;code>enum&lt;/code>无法指定底层所使用的数据类型。同一&lt;code>enum&lt;/code>的存储结构在不同的编译器下可能不同，有的时候会造成代码的泛用性降低。改为&lt;code>enum class&lt;/code>后，可以指定具体的存储结构，使得开发者对其结构更为可控。&lt;/p>
&lt;p>&lt;code>enum&lt;/code>存在向整形的隐式转换。隐式转换在一些时候虽然方便了开发者调用，但在错误复制或编码时没有明确的报错，因此不建议使用隐式转换。改为&lt;code>enum class&lt;/code>后，如果需要进行转换可以使用&lt;code>static_cast&lt;/code>来显式转换。&lt;/p>
&lt;p>&lt;code>enum&lt;/code>无法定义重名。&lt;code>enum&lt;/code>为了解决这个问题一般需要在枚举值命名中加入类型名，从而导致在一些情境下枚举值较长。而&lt;code>enum class&lt;/code>没有这种问题，可以按照设计的枚举值进行命名。&lt;/p>
&lt;h3 id="枚举值命名">&lt;a href="#%e6%9e%9a%e4%b8%be%e5%80%bc%e5%91%bd%e5%90%8d" class="header-anchor">&lt;/a>枚举值命名
&lt;/h3>&lt;p>枚举值类型命名为以E开头，如&lt;code>EUnitClientType&lt;/code>，即使不暴露给蓝图也可以遵循此规范。&lt;/p>
&lt;p>因为枚举值常常直接拿出值用作比较，使用此规范可以区分出枚举值和普通的类型，也方便代码补全工具查找指定枚举。&lt;/p>
&lt;h3 id="枚举值顺序">&lt;a href="#%e6%9e%9a%e4%b8%be%e5%80%bc%e9%a1%ba%e5%ba%8f" class="header-anchor">&lt;/a>枚举值顺序
&lt;/h3>&lt;p>除非明确地知道修改顺序不会产生影响，否则不要修改枚举的顺序，有可能造成逻辑或者数据不兼容。&lt;/p>
&lt;p>若枚举值的顺序不应被修改（一般是在配置表或其他逻辑中有调用），考虑用&lt;code>=&lt;/code>写出其枚举值。&lt;/p>
&lt;p>若枚举值无固定值，则可以默认视为枚举值顺序改变不影响逻辑。&lt;/p>
&lt;h3 id="枚举值举例">&lt;a href="#%e6%9e%9a%e4%b8%be%e5%80%bc%e4%b8%be%e4%be%8b" class="header-anchor">&lt;/a>枚举值举例
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">enum&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">EGameType&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">uint8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">None&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Local&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Multiple&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="异常">&lt;a href="#%e5%bc%82%e5%b8%b8" class="header-anchor">&lt;/a>异常
&lt;/h2>&lt;p>要注重异常处理，对于有可能报错的函数，可以考虑增加bool的返回值来标识是否正常处理。&lt;/p>
&lt;p>如果有可能有多种错误，建议返回错误码来标识错误类型。&lt;/p>
&lt;h3 id="错误码">&lt;a href="#%e9%94%99%e8%af%af%e7%a0%81" class="header-anchor">&lt;/a>错误码
&lt;/h3>&lt;p>使用&lt;code>EErrorId&lt;/code>的枚举来表示错误码。&lt;/p>
&lt;p>避免在逻辑中直接写死&lt;code>int32&lt;/code>的错误值，在&lt;code>C++&lt;/code>中使用错误码，在蓝图或者&lt;code>Lua&lt;/code>中使用&lt;code>FName&lt;/code>。&lt;/p>
&lt;p>可以使用&lt;code>UErrorIdLibrary&lt;/code>中的函数从&lt;code>枚举&lt;/code>/&lt;code>int32&lt;/code>/&lt;code>FName&lt;/code>之间转换。&lt;/p>
&lt;p>判断一个&lt;code>int32&lt;/code>是否是&lt;code>OK&lt;/code>可以使用&lt;code>UErrorLibrary::IsErrorIdOK&lt;/code>。&lt;/p>
&lt;p>判断一个&lt;code>in32&lt;/code>是否是指定枚举需要将枚举转为&lt;code>int32&lt;/code>判断。&lt;/p>
&lt;p>避免&lt;code>int32&lt;/code>转为枚举来判断，有可能出现不是一个合法的枚举而产生非预期结果。&lt;/p>
&lt;h2 id="函数">&lt;a href="#%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>函数
&lt;/h2>&lt;h3 id="输入和输出">&lt;a href="#%e8%be%93%e5%85%a5%e5%92%8c%e8%be%93%e5%87%ba" class="header-anchor">&lt;/a>输入和输出
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>按值返回，否则按引用返回。避免返回指针，除非它可以为空。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>输入参数放在所有输出参数之前。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">TestFunction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">p1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">p3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">bool&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">bOutResult1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">OutResult2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="编写简短函数">&lt;a href="#%e7%bc%96%e5%86%99%e7%ae%80%e7%9f%ad%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>编写简短函数
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>如果函数特别长，应思考在不影响程序结构的前提下对其进行分割&lt;/p>
&lt;/li>
&lt;li>
&lt;p>编译器优化一方面是消除常用的子表达式。而函数越大，编译器进行辨识的工作量就越大。从而导致编译时间大大增长。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="常量正确性">&lt;a href="#%e5%b8%b8%e9%87%8f%e6%ad%a3%e7%a1%ae%e6%80%a7" class="header-anchor">&lt;/a>常量正确性
&lt;/h3>&lt;ul>
&lt;li>不要直接进行值传递，避免一次内存拷贝，传递const引用参数&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 差 - 返回常量数组
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">TArray&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">GetSomeArray&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 优 - 返回常量数组的引用
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">TArray&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;gt;&amp;amp;&lt;/span> &lt;span class="n">GetSomeArray&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 差 - 传递数组
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="nf">TestSomething&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TArray&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">StringArray&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{...}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 优 - 传递常引用数组（避免一次内存拷贝）
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="nf">TestSomething&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">TArray&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;gt;&amp;amp;&lt;/span> &lt;span class="n">StringArray&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{...}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 优 - 移动语义（避免一次内存拷贝）
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="nf">TestSomething&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TArray&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;gt;&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">StringArray&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{...}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>若方法不修改对象，将函数标记为常量函数&lt;/p>
&lt;ul>
&lt;li>
&lt;p>常量成员函数承诺不会修改类的成员变量，提高代码的安全性，防止意外的数据修改和潜在错误。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>代码逻辑更清晰，一眼就能看出这是个只读函数&lt;/p>
&lt;/li>
&lt;li>
&lt;p>给编译器优化空间&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">FThing&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">SomeNonMutatingOperation&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 若此代码在FThing上被调用，其不会修改FThing
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>游戏中的例子：如果PrintAIData函数定位为const，则我们立马能确认函数体内的AIDataPack成员变量进行的都是只读操作，否则还要去判断是否有写入操作。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="n">ABaseMonster&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">PrintAIData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">CompName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">TreeDescName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TArray&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;gt;&amp;amp;&lt;/span> &lt;span class="n">BBLine&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/*if (AIDataPack.ComponmentName.IsEmpty())
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> return;*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">CompName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AIDataPack&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ComponmentName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TreeDescName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AIDataPack&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">TreeDescription&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">AIDataPack&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">BlackboardDescription&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ParseIntoArrayLines&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BBLine&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">MARK_DIRTY&lt;/span>&lt;span class="err">？？&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>若循环不修改容器，则在容器上使用常量迭代&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">TArray&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">StringArray&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">FString&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="nl">Str&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">StringArray&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 此循环的主体不会修改StringArray
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="函数重载">&lt;a href="#%e5%87%bd%e6%95%b0%e9%87%8d%e8%bd%bd" class="header-anchor">&lt;/a>函数重载
&lt;/h3>&lt;ul>
&lt;li>若要使用函数重载, 则必须能让读者一看调用点就胸有成竹, 而不用花心思猜测调用的重载函数到底是哪一种. 这一规则也适用于构造函数&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">MyClass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="n">Analyze&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">Analyze&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size_t&lt;/span> &lt;span class="n">textlen&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>如果函数单靠不同的参数类型而重载 (这意味着参数数量不变), 读者就得十分熟悉 C++ 五花八门的匹配规则, 以了解匹配过程具体到底如何。另外，如果派生类只重载了某个函数的部分变体，继承语义就容易令人困惑。&lt;/li>
&lt;/ul>
&lt;h3 id="缺省参数">&lt;a href="#%e7%bc%ba%e7%9c%81%e5%8f%82%e6%95%b0" class="header-anchor">&lt;/a>缺省参数
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>缺省参数实际上是函数重载语义的另一种实现方式&lt;/p>
&lt;/li>
&lt;li>
&lt;p>对于子类继承的虚函数，不允许使用缺省参数&lt;/p>
&lt;ul>
&lt;li>
&lt;p>虚函数是动态绑定，而缺省参数值是静态绑定。即虚函数是运行时确定类型，而缺省参数值是编译时就确定的。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>如果重新定义的话，会使得程序使用基类虚函数的默认参数，这显然并不是你想要的结果。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdlib.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Shape&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">enum&lt;/span> &lt;span class="nc">Color&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Red&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Green&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Blue&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">draw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Color&lt;/span> &lt;span class="n">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Red&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">static&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">ColorToString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Color&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nl">Red&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;Red&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nl">Green&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;Green&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nl">Blue&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;Blue&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Rectangle&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="n">Shape&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">draw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Color&lt;/span> &lt;span class="n">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Green&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;Rectangle : &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">ColorToString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">color&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Circle&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="n">Shape&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">draw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Color&lt;/span> &lt;span class="n">color&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;Circle : &amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">ColorToString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">color&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Rectangle&lt;/span> &lt;span class="n">R&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Circle&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">R&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">draw&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">//输出：Rectangle : Green
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//C.draw(); //报错，静态绑定无法继承默认参数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Shape&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">pr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">R&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Shape&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">C&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pr&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">draw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Shape&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">Blue&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//输出：Rectangle : Blue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">draw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Shape&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">Blue&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//输出：Circle : Blue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 静态绑定，使用基类的默认参数，完成派生类的动作
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">pr&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">draw&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">//输出：Rectangle : Red
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">draw&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">//输出：Circle : Red
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="lambda表达式">&lt;a href="#lambda%e8%a1%a8%e8%be%be%e5%bc%8f" class="header-anchor">&lt;/a>Lambda表达式
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>不要使用默认捕获（=, &amp;amp;），所有变量捕获都显式写出来&lt;/p>
&lt;ul>
&lt;li>非异步的lambda表达式除外，例如：Foreach之类的&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>异步回调Lambda表达式捕获局部变量&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Lambda不要捕获UObject裸指针&lt;/p>
&lt;ul>
&lt;li>
&lt;p>如果再等待异步回调执行之前，捕获的UObject裸指针已被GC且在原来的内存上又分配了新的UObject&lt;/p>
&lt;/li>
&lt;li>
&lt;p>如果此时在回调中对该过期了的UObject进行写入，则相当于在一个未知的内存上写入，可能把新的UObject写坏了。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 异步回调的情况
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">UStarsAssetsManager&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">Instance&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">AsyncLoad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">MeshInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">MeshPath&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="n">WeakThis&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">CallBack&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">CompPtr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">MeshInfo&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">WithCollision&lt;/span>&lt;span class="p">](&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">FSoftObjectPath&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">ObjectPath&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">CompPtr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">IsValid&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="n">WeakThis&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">IsValid&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 非异步的情况
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">SpecialElementNames&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Empty&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ForeachRow&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FSpecialElementTableRow&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="p">](&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">FName&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">RowName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="n">FSpecialElementTableRow&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">Row&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SpecialElementNames&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Emplace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Row&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Type&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">RowName&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="配置">&lt;a href="#%e9%85%8d%e7%bd%ae" class="header-anchor">&lt;/a>配置
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>使用&lt;code>UDataManger&lt;/code>来管理所有表格&lt;/p>
&lt;/li>
&lt;li>
&lt;p>需要使用&lt;code>StarsGetDataTable&lt;/code>等接口来读表，禁止使用UE自带的表格读取&lt;/p>
&lt;ul>
&lt;li>我们会对同结构表格在读取时进行合并处理&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>考虑热更配置的需求，谨慎对配置进行缓存，优先考虑以&lt;code>RowName&lt;/code>去查表。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="回调">&lt;a href="#%e5%9b%9e%e8%b0%83" class="header-anchor">&lt;/a>回调
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>谨慎使用回调，尤其需要注意是否存在跨帧逻辑与递归逻辑。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>谨慎缓存Delegate，有可能会使得闭包异常。&lt;/p>
&lt;ul>
&lt;li>比如在Delegate的回调中，修改了这个Delegate，那么捕获的变量会存在异常。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="标准库">&lt;a href="#%e6%a0%87%e5%87%86%e5%ba%93" class="header-anchor">&lt;/a>标准库
&lt;/h2>&lt;p>UE有自己的一套模板库，大部分情况下应该使用UE，下面是可以在UE中使用的标准库。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;atomic>&lt;/td>
&lt;td style="text-align: left">应在新代码中使用，在迁移旧代码时也应该使用。原子性（Atomic）将在所有受支持平台上高效推广。 &lt;code>TAtomic&lt;/code> 仅实现了部分功能，Epic后续也不会继续进行维护和改善。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lt;type_traits&amp;gt;&lt;/td>
&lt;td style="text-align: left">应在旧版UE特性（trait）和标准特性重叠的地方使用。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&amp;lt;initializer_list&amp;gt;&lt;/td>
&lt;td style="text-align: left">用于支持初始化器（initializer）语法&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;regex>&lt;/td>
&lt;td style="text-align: left">正则表达式，UE没有自己的正则表达式方案&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;limits>&lt;/td>
&lt;td style="text-align: left">&lt;code>std::numeric_limits&lt;/code> 可以完整使用。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;cmath>&lt;/td>
&lt;td style="text-align: left">这个头文件中只有浮点比较函数可以使用&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="排版与格式">&lt;a href="#%e6%8e%92%e7%89%88%e4%b8%8e%e6%a0%bc%e5%bc%8f" class="header-anchor">&lt;/a>排版与格式
&lt;/h2>&lt;h3 id="命名相关">&lt;a href="#%e5%91%bd%e5%90%8d%e7%9b%b8%e5%85%b3" class="header-anchor">&lt;/a>命名相关
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>命名（如类型或变量）中的每个单词需大写首字母，单词间通常无下划线。例如：&lt;code>Health&lt;/code> 和 &lt;code>UPrimitiveComponent&lt;/code>，而非 &lt;code>lastMouseCoordinates&lt;/code> 或 &lt;code>delta_coordinates&lt;/code>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>类型名前缀需使用额外的大写字母，用于区分其和变量命名。例如：&lt;code>FSkin&lt;/code> 为类型名，而 &lt;code>Skin&lt;/code> 则是 &lt;code>FSkin&lt;/code> 的实例。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>模板类的前缀为T。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>继承自 &lt;code>UObject&lt;/code> 的类前缀为U。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>继承自 &lt;code>AActor&lt;/code> 的类前缀为A。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>继承自 &lt;code>SWidget&lt;/code> 的类前缀为S。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>接口的前缀为I。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>枚举的前缀为E。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>布尔变量必须以b为前缀（例如 &lt;code>bPendingDestruction&lt;/code> 或 &lt;code>bHasFadedIn&lt;/code>）。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>其他多数类均以F为前缀，而部分子系统则以其他字母为前缀。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Typedefs应以任何与其类型相符的字母为前缀：若为结构体的Typedefs，则使用F；若为 &lt;code>Uobject&lt;/code> 的Typedefs，则使用U，以此类推。&lt;/p>
&lt;ul>
&lt;li>特别模板实例化的Typedef不再是模板，并应加上相应前缀，例如：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">typedef&lt;/span> &lt;span class="n">TArray&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FMytype&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">FArrayOfMyTypes&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>即使不暴露给蓝图，也可以遵循此命名规范以适应UE的规范。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>类型和变量的命名为名词。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>方法名是动词，以描述方法的效果或未被方法影响的返回值。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>所有返回布尔的函数应发起true/false的询问，如&lt;code>IsVisible()或ShouldClearBuffer()&lt;/code>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>若函数参数通过引用传递，同时该值会写入函数，建议以&amp;quot;Out&amp;quot;做为函数参数命名的前缀（非必需）。此操作将明确表明传入该参数的值将被函数替换。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>若In或Out参数同样为布尔，以b作为In/Out的前缀，如 &lt;code>bOutResult&lt;/code>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>返回值的函数应描述返回的值.命名应说明函数将返回的值。此规则对布尔函数极为重要。请参考以下两个范例方法：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// True的意义是什么？
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">bool&lt;/span> &lt;span class="nf">CheckTea&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">FTea&lt;/span> &lt;span class="n">Tea&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 命名明确说明茶是新鲜的
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">bool&lt;/span> &lt;span class="nf">IsTeaFresh&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">FTea&lt;/span> &lt;span class="n">Tea&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>对于缩写单词，推荐仍然使用首字母大写其余小写的格式&lt;/p>
&lt;ul>
&lt;li>
&lt;p>可以避免陷入什么是缩写什么不是的争议中&lt;/p>
&lt;ul>
&lt;li>PHP-&amp;gt;Php&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>对于复杂变量名可以获得更清晰的展示&lt;/p>
&lt;ul>
&lt;li>如HTTPSubsystem-&amp;gt;HttpSubsystem&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>UE内部变量两者都有，以仅大写首字母为主&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>命名范例&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">float&lt;/span> &lt;span class="n">TeaWeight&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">int32&lt;/span> &lt;span class="n">TeaCount&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">bool&lt;/span> &lt;span class="n">bDoesTeaStink&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">FName&lt;/span> &lt;span class="n">TeaName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">FString&lt;/span> &lt;span class="n">TeaFriendlyName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">UClass&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">TeaClass&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">USoundCue&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">TeaSound&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">UTexture&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">TeaTexture&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">FPlayerIdentifier&lt;/span> &lt;span class="n">PlayerId&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="代码格式">&lt;a href="#%e4%bb%a3%e7%a0%81%e6%a0%bc%e5%bc%8f" class="header-anchor">&lt;/a>代码格式
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>一行不超过120个字符&lt;/p>
&lt;/li>
&lt;li>
&lt;p>尽量不使用非ASCII编码，文件编码必须为UTF-8&lt;/p>
&lt;/li>
&lt;li>
&lt;p>缩进使用制表位\t&lt;/p>
&lt;/li>
&lt;li>
&lt;p>大括号格式必须一致。在Epic的传统做法中，大括号固定被放在新行。请遵循此格式。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>固定在单语句块中使用大括号。例如：&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">bThing&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>if-else语句中的所有执行块都应该使用大括号。此举是为防止编辑时出错——未使用大括号时，可能会意外地将另一行加入if块中。多余行不受if表达式控制，会成为较差代码。条件编译的项目导致if/else语句中断时，也会造成不良结果。因此务必使用大括号。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">bHaveUnrealLicense&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">InsertYourGameHere&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">CallMarkRein&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>switch语句&lt;/p>
&lt;ul>
&lt;li>一定有Default条件，其中包含有break，以防在默认条件后添加新的条件。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">switch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">condition&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 落入
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">case&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="注释">&lt;a href="#%e6%b3%a8%e9%87%8a" class="header-anchor">&lt;/a>注释
&lt;/h2>&lt;h3 id="规范">&lt;a href="#%e8%a7%84%e8%8c%83" class="header-anchor">&lt;/a>规范
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>无所谓英不英文，代码是项目组内的人看的，方便大家读懂就行&lt;/p>
&lt;/li>
&lt;li>
&lt;p>函数注释&lt;/p>
&lt;ul>
&lt;li>
&lt;p>大概功能描述&lt;/p>
&lt;/li>
&lt;li>
&lt;p>各个参数的描述&lt;/p>
&lt;/li>
&lt;li>
&lt;p>返回值的描述&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>其他信息&lt;/strong>：可选择使用 &lt;code>@warning&lt;/code>、&lt;code>@note&lt;/code>、&lt;code>@see&lt;/code> 和 &lt;code>@deprecated&lt;/code> 记载额外相关信息。此类注释应在其他注释后单列一行声明。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @brief 判断所给定义的道具是否是确定的
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * 比如如果是随机品质的定义，就不是确定的
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param ItemDef 所需检查的物品定义
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param CheckQualityNum 是否需要检查该道具是否仅有一个品质
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * 如果检查并且发现该道具仅有一个品质
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * 那么即使定义随机也会认为是唯一的
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @return 返回值的意义
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">UFUNCTION&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BlueprintCallable&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Category&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Item&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">static&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="n">IsItemDefCertain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">FBagItemDef&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">ItemDef&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="n">CheckQualityNum&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="原则">&lt;a href="#%e5%8e%9f%e5%88%99" class="header-anchor">&lt;/a>原则
&lt;/h3>&lt;ul>
&lt;li>编写含义清晰的代码：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 错误示范：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">l&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 正确示范：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">TotalLeaves&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SmallLeaves&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">LargeLeaves&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">SmallAndLargeLeaves&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>编写有用的注释：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 错误示范：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// increment Leaves
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="n">Leaves&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 正确示范：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// we know there is another tea leaf
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="n">Leaves&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>不要对低质量代码进行注释——重新编写这些代码：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 错误示范：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// total number of leaves is sum of
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// small and large leaves less the
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// number of leaves that are both
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">l&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 正确示范：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">TotalLeaves&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SmallLeaves&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">LargeLeaves&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">SmallAndLargeLeaves&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>不要让代码与注释自相矛盾：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 错误示范：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// never increment Leaves!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="n">Leaves&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 正确示范：
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// we know there is another tea leaf
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="n">Leaves&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="todo">&lt;a href="#todo" class="header-anchor">&lt;/a>TODO
&lt;/h3>&lt;p>对那些临时的, 短期的解决方案, 或已经够好但仍不完美的代码使用 TODO 注释。&lt;/p>
&lt;p>标记一些未完成的或完成的不尽如人意的地方, 这样一搜索, 就知道还有哪些活要干, 日志都省了。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">PriorityQueue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Num&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">CheckLoop&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">__FUNCTION__&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//取出优先队列头
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">auto&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="n">PopData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">PriorityQueue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">HeapTop&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 先判空一下，TODO: 后面查一下循环内销毁问题
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">PopData&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">SmeltComp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">IsValid&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">PriorityQueue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">HeapPopDiscard&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">DataPredicate&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="其他相关">&lt;a href="#%e5%85%b6%e4%bb%96%e7%9b%b8%e5%85%b3" class="header-anchor">&lt;/a>其他相关
&lt;/h2>&lt;h3 id="sizeof">&lt;a href="#sizeof" class="header-anchor">&lt;/a>Sizeof
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>尽可能的使用sizeof(varname)代替sizeof(type)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>假设varname的类型变了，sizeof(type)大概率会忘改造成bug&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="迭代器">&lt;a href="#%e8%bf%ad%e4%bb%a3%e5%99%a8" class="header-anchor">&lt;/a>迭代器
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>前置自增效率更高，少了一次拷贝&lt;/p>
&lt;/li>
&lt;li>
&lt;p>迭代器失效的情况&lt;/p>
&lt;ul>
&lt;li>
&lt;p>TArray&lt;/p>
&lt;ul>
&lt;li>
&lt;p>增加导致的内存重分配&lt;/p>
&lt;/li>
&lt;li>
&lt;p>删除元素&lt;/p>
&lt;/li>
&lt;li>
&lt;p>插入元素&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="死循环">&lt;a href="#%e6%ad%bb%e5%be%aa%e7%8e%af" class="header-anchor">&lt;/a>死循环
&lt;/h3>&lt;ul>
&lt;li>无符号整数错误使用导致的死循环&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">unsigned&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">...&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>容器的size()返回类型size_t是无符号整数&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">vec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">auto&lt;/span> &lt;span class="n">idx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="n">idx&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">idx&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;===== &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>while循环，条件永远不满足&lt;/p>
&lt;/li>
&lt;li>
&lt;p>死循环检查工具&lt;/p>
&lt;ul>
&lt;li>
&lt;p>FDeadLockDetector&lt;/p>
&lt;ul>
&lt;li>死循环时崩掉并打印主线程堆栈&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="浮点数">&lt;a href="#%e6%b5%ae%e7%82%b9%e6%95%b0" class="header-anchor">&lt;/a>浮点数
&lt;/h3>&lt;ul>
&lt;li>判断浮点数是否相等&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">float&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span> &lt;span class="c1">// 错误用法
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mf">0.00001&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span> &lt;span class="c1">// 正确用法
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="stdvectorbool">&lt;a href="#stdvectorbool" class="header-anchor">&lt;/a>std::vector&amp;lt;bool&amp;gt;
&lt;/h3>&lt;ul>
&lt;li>尽量不要在vector中存放bool类型，vector为了做优化，它的内部存放的其实不是bool。&lt;/li>
&lt;li>&lt;/li>
&lt;/ul>
&lt;h3 id="空指针">&lt;a href="#%e7%a9%ba%e6%8c%87%e9%92%88" class="header-anchor">&lt;/a>空指针
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>空指针尽量使用nullptr而非NULL&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;char*&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;int&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">NULL&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 编译失败 error: call of overloaded ‘func(NULL)’ is ambiguous
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">nullptr&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// char*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="数值溢出">&lt;a href="#%e6%95%b0%e5%80%bc%e6%ba%a2%e5%87%ba" class="header-anchor">&lt;/a>数值溢出
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Plain" data-lang="Plain">&lt;span class="line">&lt;span class="cl">const int32 RetryToken = FMath::RandRange(0, INT_MAX); // 这里会随机出负数
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">##RandRange 实现
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">static FORCEINLINE int32 RandRange(int32 Min, int32 Max)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> const int32 Range = (Max - Min) + 1; //INT_MAX的情况下，一定溢出
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return Min + RandHelper(Range);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="内存">&lt;a href="#%e5%86%85%e5%ad%98" class="header-anchor">&lt;/a>内存
&lt;/h2>&lt;h3 id="常见问题">&lt;a href="#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98" class="header-anchor">&lt;/a>常见问题
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>避免使用原生数组，尽量使用UE容器&lt;/p>
&lt;ul>
&lt;li>原生数组无法检查越界&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>空指针未判空&lt;/p>
&lt;ul>
&lt;li>
&lt;p>空指针导致的崩溃占大多数&lt;/p>
&lt;/li>
&lt;li>
&lt;p>防御性编程&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>缓冲区溢出&lt;/p>
&lt;ul>
&lt;li>
&lt;p>sprintf，printf，memcpy，memset，strcat，strcpy等等&lt;/p>
&lt;/li>
&lt;li>
&lt;p>上述函数拷贝内存的时候没有检查是否越界，如果发生越界会把其他不相干的内存写坏，导致无法预料的bug&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">foo&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">char&lt;/span> &lt;span class="n">szName&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">strcpy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">szName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;asdfasdfasdfasdfasdfasdfasdfasdfasdfasdfasdfasdf&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>返回局部引用&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">foo&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">xxx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">xxx&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>指针未初始化&lt;/p>
&lt;ul>
&lt;li>
&lt;p>UObject成员带UPROPERTY，会被自动初始化为nullptr&lt;/p>
&lt;/li>
&lt;li>
&lt;p>普通指针未初始化，指向任意地址&lt;/p>
&lt;ul>
&lt;li>if判断已经无效，向野指针内写入数据&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>注意：USTRUCT的指针成员就算带UPROPERTY也不会初始化位null&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>不正确的类型转换&lt;/p>
&lt;ul>
&lt;li>
&lt;p>使用C++的类型转换，避免C类型转换&lt;/p>
&lt;ul>
&lt;li>
&lt;p>static_cast，不使用C类型转换&lt;/p>
&lt;/li>
&lt;li>
&lt;p>const_cast，去掉const限定符&lt;/p>
&lt;/li>
&lt;li>
&lt;p>reinterpret_cast，指针类型和整形或其他指针之间进行不安全的相互转换&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>当程序执行不正确的类型转换时，就会发生不可预测的结果。这可能会导致程序崩溃写坏内存或产生不正确的输出。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">double&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">ptr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 不正确的类型转换
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">ptr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">5.0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 写越界
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">ptr&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>Memcpy, memset用于非POD类型，把vtable的指针给破坏掉了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">A&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">protected&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">B&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="n">A&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">B&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">override&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">A&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;B::test, %d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">B&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>函数内自销毁，导致后续代码访问或写入成员变量时写坏内存&lt;/p>
&lt;ul>
&lt;li>
&lt;p>宠物切换状态会停掉行为树，而此函数在行为树Task节点中直接执行（Task内停掉行为树）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>行为树Task节点尝试删掉行为树Owner的Actor（危险操作、应延迟一帧执行）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>有自销毁操作时需小心，考虑清楚是否需要延迟一帧&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>循环操作没有取引用，导致发生了结构体拷贝&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Lambda表达式自销毁，内部引用的捕获变量被销毁后使用引发的内存问题&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">TWeakObjectPtr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UWorldManager&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">thisObject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Stars&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">Message&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">PvpTrigger&lt;/span> &lt;span class="n">triggerData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">trigger&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">GetWorld&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">GetTimerManager&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">SetTimer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">PvPingTimerHandle&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">FTimerDelegate&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">CreateWeakLambda&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">triggerData&lt;/span>&lt;span class="p">](){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">IsValid&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_GuildManager&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="k">nullptr&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">int32&lt;/span> &lt;span class="n">DefenEndTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AStarsGameState&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">GetWorldDayZeroTime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Get&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">triggerData&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">defendendtime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">int32&lt;/span> &lt;span class="n">worldTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AStarsGameState&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">GetWorldTime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Get&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">worldTime&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">DefenEndTime&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_WorldInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">PlanetPVPStatus&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EPlanetPVPStatus&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">None&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">DefenEndTime&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">86400&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//防守结束
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_WorldInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">PlanetPVPStatus&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">EPlanetPVPStatus&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">None&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_GuildManager&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">OnPlanetPVPStatusStart&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">EPlanetPVPStatus&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">None&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_GuildManager&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">OnPvpBattleEnd&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SetWorldInfomation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_WorldInfo&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">AStarsGameState&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">GetWorldIntTime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Get&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="n">triggerData&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">enttime&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//完全结束
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_WorldInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">PlanetPVPStatus&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">EPlanetPVPStatus&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">None&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_WorldInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">PVPStatusStartTime&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_WorldInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">PVPStatusEndTime&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_WorldInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">PVPDefenseStartTime&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_WorldInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">PVPDefenseEndTime&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_WorldInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">IsPlanetBattleStatues&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_GuildManager&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">OnPlanetPVPStatusStart&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">EPlanetPVPStatus&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">None&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_GuildManager&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">OnPVPBattleStateChanged&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">false&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_GuildManager&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">OnPvpBattleEnd&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 这里Lambda表达式被销毁，导致thisObject被销毁
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">GetWorld&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">GetTimerManager&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">ClearTimer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">PvPingTimerHandle&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 好在这里是读内存不是写，没有造成更坏的情况
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SetWorldInfomation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">thisObject&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">m_WorldInfo&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}),&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="智能指针">&lt;a href="#%e6%99%ba%e8%83%bd%e6%8c%87%e9%92%88" class="header-anchor">&lt;/a>智能指针
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>智能指针&lt;/p>
&lt;ul>
&lt;li>
&lt;p>一个裸指针使用多个智能指针包裹&lt;/p>
&lt;ul>
&lt;li>前一个智能指针销毁后导致内存被销毁，后面的再写入导致内存写坏&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">rawPtr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">TSharedPtr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">MakeShareable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rawPtr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">TSharedPtr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">MakeShareable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rawPtr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">nullptr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">*&lt;/span>&lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>TSharedPtr&lt;/p>
&lt;ul>
&lt;li>引用计数&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>TUniquePtr&lt;/p>
&lt;ul>
&lt;li>只能转移所有权&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>注意循环引用&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">B&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">A&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">~&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;~A&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TSharedPtr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">B&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">B&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">~&lt;/span>&lt;span class="n">B&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;~B&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TSharedPtr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TSharedPtr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">MakeShared&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TSharedPtr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">B&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">MakeShared&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">B&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">b&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">nullptr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">nullptr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>TWeakPtr&lt;/p>
&lt;ul>
&lt;li>解决循环引用&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="容器">&lt;a href="#%e5%ae%b9%e5%99%a8" class="header-anchor">&lt;/a>容器
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>循环内删除与添加&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">erase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">vector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">vec&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">auto&lt;/span> &lt;span class="n">iter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="n">iter&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">();)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 这个正确
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">iter&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">erase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">iter&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">++&lt;/span>&lt;span class="n">iter&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">auto&lt;/span> &lt;span class="n">iter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="n">iter&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">vec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">end&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">iter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">iter&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">erase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">iter&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>拷贝到一个新容器中再做循环删除&lt;/p>
&lt;/li>
&lt;li>
&lt;p>使用迭代器&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>内存重分配问题&lt;/p>
&lt;ul>
&lt;li>
&lt;p>TArray&lt;/p>
&lt;/li>
&lt;li>
&lt;p>TMap也存在此问题&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">TestStruct&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.0f&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">FString&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">~&lt;/span>&lt;span class="n">TestStruct&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">UE_LOG&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LogTemp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Log&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">TEXT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;~TestStruct&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">TMap&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">TestStruct&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">structMap&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">TestStruct&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">val1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">structMap&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Emplace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">TestStruct&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">val2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">structMap&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Emplace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">10000&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">structMap&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Emplace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="ue的内存管理">&lt;a href="#ue%e7%9a%84%e5%86%85%e5%ad%98%e7%ae%a1%e7%90%86" class="header-anchor">&lt;/a>UE的内存管理
&lt;/h3>&lt;h4 id="gc机制">&lt;a href="#gc%e6%9c%ba%e5%88%b6" class="header-anchor">&lt;/a>GC机制
&lt;/h4>&lt;p>  UE使用标记清除算法实现GC，当对象的引用链不可达时，GC会回收该对象所占用的内存。在进行GC之前，UE会从根集出发对所有UObject对象进行标记，标记活动对象，并清除所有未被标记的非活动对象。&lt;/p>
&lt;p>  GC的触发通常在特定时机，如关卡切换、游戏循环周期等，以避免对游戏性能造成过多影响。&lt;/p>
&lt;p>  开发者在UE中需要注意正确管理对象引用，避免出现不必要的长期引用，以确保GC可以正确回收不再使用的内存资源，从而提高游戏性能和稳定性。&lt;/p>
&lt;h4 id="弱指针">&lt;a href="#%e5%bc%b1%e6%8c%87%e9%92%88" class="header-anchor">&lt;/a>弱指针
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>通过UObject的弱指针判断其是否在生命周期内&lt;/p>
&lt;ul>
&lt;li>
&lt;p>通过GUObjectArray中的索引来指向具体的UObject&lt;/p>
&lt;/li>
&lt;li>
&lt;p>自增量校验指向的合法性&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ATestActor&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">pActor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">GetWorld&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">SpawnActor&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">ATestActor&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">FTimerHandle&lt;/span> &lt;span class="n">handle&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">GetWorld&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">GetTimerManager&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">SetTimer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">handle&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">pActor&lt;/span>&lt;span class="p">]()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 完犊子了，野指针写入！！！
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">pActor&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">Test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pActor&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">Destroy&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 强制GC
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">pActor&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">Destroy&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">CollectGarbage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">GARBAGE_COLLECTION_KEEPFLAGS&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 新的TestActor复用原有内存
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">ATestActor&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">pActor2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">GetWorld&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">SpawnActor&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">ATestActor&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>非主线程中使用UObject或者其弱指针的问题&lt;/p>
&lt;ul>
&lt;li>
&lt;p>UObject是在主线程中被GC掉，所以非主线程中无法预料其生命周期&lt;/p>
&lt;/li>
&lt;li>
&lt;p>所以在非主线程中尽量不访问UObject或其弱指针，在外部主线程中将非主线程需要处理的数据全部备份好，通过Lambda表达式传递进去，任务处理完回到主线程后再访问UObject的弱指针&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">TWeakObjectPtr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UBuildingSearchProxy&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">WeakThis&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">uint8&lt;/span> &lt;span class="n">Id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">WeakThis&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">Id&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">FString&lt;/span> &lt;span class="n">SearchInput&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">WeakThis&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">SearchInput&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">TArray&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FName&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">List&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">WeakThis&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">AsyncTask&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ENamedThreads&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">AnyBackgroundThreadNormalTask&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">WeakThis&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SearchInput&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">WeakThis&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">IsValid&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">TSet&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FName&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">SearchResult&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">FName&lt;/span>&lt;span class="o">&amp;amp;&lt;/span> &lt;span class="nl">Part&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Id&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">IdCounter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#if WITH_EDITOR
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Part&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ToString&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">Contains&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SearchInput&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SearchResult&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Part&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#endif
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">const&lt;/span> &lt;span class="n">FItemTableRow&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">pRow&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">UDataManager&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">FindRow&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">FItemTableRow&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Part&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">pRow&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="k">nullptr&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">pRow&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">DisplayName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ToString&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">Contains&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SearchInput&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SearchResult&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Part&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">AsyncTask&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ENamedThreads&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">GameThread&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">WeakThis&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SearchResult&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">WeakThis&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">IsValid&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">WeakThis&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">Id&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">IdCounter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">WeakThis&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">PostSearchResult&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Broadcast&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SearchResult&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">WeakThis&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">SetReadyToDestroy&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>成员变量保存UE的接口裸指针&lt;/p>
&lt;ul>
&lt;li>
&lt;p>无法判断其生命周期，应保存UObject的弱指针&lt;/p>
&lt;/li>
&lt;li>
&lt;p>使用的时候再将其Cast为接口指针&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">TWeakObjectPtr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UObject&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">CauserAttributePtr&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//伤害造成者
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">TWeakObjectPtr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">UObject&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">TakerAttributePtr&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//伤害承受者
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">IAttributeInterface&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">GetCauserAttributeInterface&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">IAttributeInterface&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">GetTakerAttributeInterface&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="网络">&lt;a href="#%e7%bd%91%e7%bb%9c" class="header-anchor">&lt;/a>网络
&lt;/h3>&lt;h3 id="proto">&lt;a href="#proto" class="header-anchor">&lt;/a>Proto
&lt;/h3>&lt;p>禁止直接缓存消息的Proto结构，内存有可能会被重新分配或回收。&lt;/p>
&lt;p>如果需要保存调用项目封装的接口，或者使用Proto上的CopyFrom接口。&lt;/p>
&lt;p>考虑使用&lt;code>FByteArray&lt;/code>或者&lt;code>FByteCompressedArray&lt;/code>来快捷保存通用数据。&lt;/p>
&lt;h2 id="日志">&lt;a href="#%e6%97%a5%e5%bf%97" class="header-anchor">&lt;/a>日志
&lt;/h2>&lt;p>现状：该有日志的地方没有，不该有的地方疯狂打，导致出bug时很难通过日志判断。&lt;/p>
&lt;h3 id="日志规范">&lt;a href="#%e6%97%a5%e5%bf%97%e8%a7%84%e8%8c%83" class="header-anchor">&lt;/a>日志规范
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>各功能模块的重要事件，尽量记录（只要不是频繁重复发生）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>无用信息或过于频繁打印的就不要输出了（可通过Verbosity等级控制）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>新增加的模块，尽量记录足够还原现场的日志&lt;/p>
&lt;/li>
&lt;li>
&lt;p>涉及玩家数值的行为，如物品得失、经验获得、货币流通、装备升级等，尽量记录&lt;/p>
&lt;/li>
&lt;li>
&lt;p>如果数量太大可以考虑归并后打印&lt;/p>
&lt;/li>
&lt;li>
&lt;p>避免三字符序列&lt;/p>
&lt;ul>
&lt;li>
&lt;p>在C和C++中，三字符序列是一种特殊的字符序列，用两个问号（??）开头，并由另一个字符结尾。例如，&amp;quot;??=&amp;ldquo;代表#，&amp;rdquo;??/&amp;ldquo;代表\，等等。这些三字符序列是为了在早期的编码系统中处理一些没有对应字符的情况而设计的，但在现代的编码系统中，这些三字符序列已经不再使用。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>当编译器在转换三字符序列时遇到问题时，就会报错：&amp;ldquo;trigraph converted to &amp;rsquo; &amp;rsquo; character&amp;rdquo;。这意味着编译器无法正确地将三字符序列转换为预期的字符，通常是因为在转换时出现了错误或者遇到了无法识别的三字符序列。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-C++" data-lang="C++">&lt;span class="line">&lt;span class="cl">&lt;span class="n">UE_LOG&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LogAStar&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Error&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">TEXT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Particle Type Shrink Error????!!&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="checklist">&lt;a href="#checklist" class="header-anchor">&lt;/a>CheckList
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>裸指针成员变量未初始化为空&lt;/p>
&lt;/li>
&lt;li>
&lt;p>局部变量未初始化使用&lt;/p>
&lt;/li>
&lt;li>
&lt;p>数组越界&lt;/p>
&lt;/li>
&lt;li>
&lt;p>内存拷贝缓冲区溢出&lt;/p>
&lt;/li>
&lt;li>
&lt;p>UObject需要强引用的未用UPROPERTY包裹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>UObject不需强引用的没有用弱指针&lt;/p>
&lt;/li>
&lt;li>
&lt;p>USTRUCT中包含UObject成员未用UPROPERTY&lt;/p>
&lt;/li>
&lt;li>
&lt;p>成员变量保存UE接口的裸指针&lt;/p>
&lt;/li>
&lt;li>
&lt;p>构造函数内调用虚函数&lt;/p>
&lt;/li>
&lt;li>
&lt;p>基类析构函数未声明成虚函数&lt;/p>
&lt;/li>
&lt;li>
&lt;p>指针未判空使用&lt;/p>
&lt;/li>
&lt;li>
&lt;p>异步回调捕获所有&amp;amp;,=&lt;/p>
&lt;/li>
&lt;li>
&lt;p>异步回调Lambda表达式传入裸指针&lt;/p>
&lt;/li>
&lt;li>
&lt;p>异步回调未判断Upvalue的生命周期&lt;/p>
&lt;/li>
&lt;li>
&lt;p>异步回调Lambda表达式引用捕获局部变量&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Lambda表达式自销毁导致的Upvalue生命周期问题&lt;/p>
&lt;/li>
&lt;li>
&lt;p>使用异常机制&lt;/p>
&lt;/li>
&lt;li>
&lt;p>返回局部变量的引用或指针&lt;/p>
&lt;/li>
&lt;li>
&lt;p>手动管理内存的申请和回收未成对&lt;/p>
&lt;/li>
&lt;li>
&lt;p>不正确的类型转换&lt;/p>
&lt;/li>
&lt;li>
&lt;p>容器的循环内删除错误&lt;/p>
&lt;/li>
&lt;li>
&lt;p>智能指针循环引用&lt;/p>
&lt;/li>
&lt;li>
&lt;p>TArray取值未判断边界&lt;/p>
&lt;/li>
&lt;li>
&lt;p>TArray写入未判断边界&lt;/p>
&lt;/li>
&lt;li>
&lt;p>TArray前值指针或引用在触发内存重分配后野掉&lt;/p>
&lt;/li>
&lt;li>
&lt;p>TMap前值指针或引用再触发内存重分配后野掉&lt;/p>
&lt;/li>
&lt;li>
&lt;p>TMap取值前未判断是否存在&lt;/p>
&lt;/li>
&lt;li>
&lt;p>非主线程中对UObject的使用&lt;/p>
&lt;/li>
&lt;li>
&lt;p>使用类对象的静态存储周期变量&lt;/p>
&lt;/li>
&lt;li>
&lt;p>出现菱形继承&lt;/p>
&lt;/li>
&lt;li>
&lt;p>间接无限递归调用导致栈溢出&lt;/p>
&lt;/li>
&lt;li>
&lt;p>死循环&lt;/p>
&lt;/li>
&lt;li>
&lt;p>关键事件未加日志&lt;/p>
&lt;/li>
&lt;li>
&lt;p>该用PushModel未用&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Memset, memcpy用于非POD结构&lt;/p>
&lt;/li>
&lt;li>
&lt;p>浮点数判断是否相等导致的问题&lt;/p>
&lt;/li>
&lt;li>
&lt;p>UE_LOG传入的参数类型不匹配导致崩溃&lt;/p>
&lt;/li>
&lt;li>
&lt;p>设置的Timer没有回收，导致Timer泄漏&lt;/p>
&lt;/li>
&lt;li>
&lt;p>除0问题&lt;/p>
&lt;/li>
&lt;li>
&lt;p>循环操作该用引用时没有用引用&lt;/p>
&lt;/li>
&lt;li>
&lt;p>尽量使用UE内置typedef的基础数据类型（如：int32, int64，不要使用long, size_t之类的）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>可复制变量不能是Public，不能是蓝图可写&lt;/p>
&lt;/li>
&lt;li>
&lt;p>配置表所有的引用都要使用软引用&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="参考文献">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae" class="header-anchor">&lt;/a>参考文献
&lt;/h2>&lt;p>&lt;a class="link" href="https://docs.unrealengine.com/4.27/zh-CN/ProductionPipelines/DevelopmentSetup/CodingStandard/" target="_blank" rel="noopener"
>https://docs.unrealengine.com/4.27/zh-CN/ProductionPipelines/DevelopmentSetup/CodingStandard/&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/" target="_blank" rel="noopener"
>https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.zhihu.com/question/26901409/answer/1858690571" target="_blank" rel="noopener"
>https://www.zhihu.com/question/26901409/answer/1858690571&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/Icassell/UE4-Style-Guide-1" target="_blank" rel="noopener"
>https://github.com/Icassell/UE4-Style-Guide-1&lt;/a>&lt;/p></description></item><item><title>Windows下C++版本Protobuf使用方法</title><link>https://boiltask.com/knowledge/cpp-protobuf/</link><pubDate>Sat, 18 Jul 2020 17:39:54 +0000</pubDate><guid>https://boiltask.com/knowledge/cpp-protobuf/</guid><description>&lt;p>参考下文配置&lt;code>Protobuf&lt;/code>：&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/protocolbuffers/protobuf/tree/master/src#c-installation---windows" target="_blank" rel="noopener"
>https://github.com/protocolbuffers/protobuf/tree/master/src#c-installation&amp;mdash;windows&lt;/a>&lt;/p>
&lt;h2 id="所需环境">&lt;a href="#%e6%89%80%e9%9c%80%e7%8e%af%e5%a2%83" class="header-anchor">&lt;/a>所需环境
&lt;/h2>&lt;p>推荐提前安装以下环境：&lt;/p>
&lt;ul>
&lt;li>Windows 10&lt;/li>
&lt;li>Git&lt;/li>
&lt;li>Cmake&lt;/li>
&lt;li>Visual Studio 2019&lt;/li>
&lt;/ul>
&lt;h2 id="生成工具">&lt;a href="#%e7%94%9f%e6%88%90%e5%b7%a5%e5%85%b7" class="header-anchor">&lt;/a>生成工具
&lt;/h2>&lt;p>在&lt;a class="link" href="https://github.com/protocolbuffers/protobuf/releases/latest" target="_blank" rel="noopener"
>https://github.com/protocolbuffers/protobuf/releases/latest&lt;/a>下载&lt;code>protobuf&lt;/code>生成工具。&lt;/p>
&lt;p>文件应形如&lt;code>protoc-$VERSION-win32.zip&lt;/code>，解压其中的&lt;code>bin/protoc.exe&lt;/code>，放于&lt;code>Dep/protobuf/bin&lt;/code>下。&lt;/p>
&lt;h2 id="编译依赖">&lt;a href="#%e7%bc%96%e8%af%91%e4%be%9d%e8%b5%96" class="header-anchor">&lt;/a>编译依赖
&lt;/h2>&lt;p>参考下文编译所需依赖：&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/protocolbuffers/protobuf/blob/master/cmake/README.md" target="_blank" rel="noopener"
>https://github.com/protocolbuffers/protobuf/blob/master/cmake/README.md&lt;/a>&lt;/p>
&lt;p>在&lt;a class="link" href="https://github.com/protocolbuffers/protobuf/releases/latest" target="_blank" rel="noopener"
>https://github.com/protocolbuffers/protobuf/releases/latest&lt;/a>下载&lt;code>protobuf&lt;/code>源文件。&lt;/p>
&lt;p>文件应形如 &lt;code>protobuf-cpp-[VERSION].tar.gz&lt;/code>。&lt;/p>
&lt;p>解压全部文件到文件夹中，此处以&lt;code>D:\Protobuf&lt;/code>为例。&lt;/p>
&lt;p>打开&lt;code>cmake-gui&lt;/code>，选择&lt;code>source code&lt;/code>文件夹为&lt;code>D:\Protobuf\cmake&lt;/code>，&lt;code>build the binaries&lt;/code>文件夹为目标文件夹，此处以&lt;code>D:\Protobuf-build&lt;/code>为例。&lt;/p>
&lt;p>点击&lt;code>Configure&lt;/code>，选择&lt;code>Visual Studio 2019&lt;/code>。&lt;/p>
&lt;p>取消配置中的所有勾选。&lt;/p>
&lt;p>留意&lt;code>CMAKE_INSTALL_PREFIX&lt;/code>值，此值为之后运行安装后目标文件存放位置。此处以&lt;code>D:/Protobuf-install&lt;/code>为例。&lt;/p>
&lt;p>点击&lt;code>Generate&lt;/code>生成解决方案，之后&lt;code>Open Project&lt;/code>打开解决方案。&lt;/p>
&lt;p>选择&lt;code>MinSizeRel&lt;/code>与&lt;code>x64&lt;/code>，之后生成解决方案。&lt;/p>
&lt;p>右键&lt;code>INSTALL&lt;/code>，选择生成，目标文件会被生成在前面所配置文件夹中。&lt;/p>
&lt;p>复制&lt;code>D:/Protobuf-install/include&lt;/code>到项目&lt;code>/protobuf/include&lt;/code>。&lt;/p>
&lt;p>复制&lt;code>D:/Protobuf-install/lib&lt;/code>到项目&lt;code>/protobuf/lib&lt;/code>。&lt;/p>
&lt;h2 id="配置项目">&lt;a href="#%e9%85%8d%e7%bd%ae%e9%a1%b9%e7%9b%ae" class="header-anchor">&lt;/a>配置项目
&lt;/h2>&lt;p>在&lt;code>Visual Studio&lt;/code>的项目中，参考如下方法配置&lt;code>Protobuf&lt;/code>。&lt;/p>
&lt;h3 id="配置头文件引用">&lt;a href="#%e9%85%8d%e7%bd%ae%e5%a4%b4%e6%96%87%e4%bb%b6%e5%bc%95%e7%94%a8" class="header-anchor">&lt;/a>配置头文件引用
&lt;/h3>&lt;p>右键项目属性，点击&lt;code>C/C++&lt;/code>，在&lt;code>附加包含目录&lt;/code>之中，填入&lt;code>protobuf&lt;/code>头文件目录，如：&lt;code>\protobuf\include&lt;/code>。&lt;/p>
&lt;h3 id="配置静态链接">&lt;a href="#%e9%85%8d%e7%bd%ae%e9%9d%99%e6%80%81%e9%93%be%e6%8e%a5" class="header-anchor">&lt;/a>配置静态链接
&lt;/h3>&lt;p>右键项目属性，点击&lt;code>链接器&lt;/code>，在&lt;code>附加库目录&lt;/code>之中，填入&lt;code>protobuf&lt;/code>依赖文件目录，如：&lt;code>\protobuf\lib&lt;/code>。&lt;/p>
&lt;p>展开&lt;code>链接器&lt;/code>一栏，选择&lt;code>输入&lt;/code>，在&lt;code>附加依赖项&lt;/code>之中，填入&lt;code>protobuf&lt;/code>依赖文件名，如&lt;code>libprotobuf.lib&lt;/code>与&lt;code>libprotobuf-lite.lib&lt;/code>。&lt;/p></description></item><item><title>C++中static关键字用法总结</title><link>https://boiltask.com/knowledge/cpp-static/</link><pubDate>Mon, 23 Mar 2020 05:30:15 +0000</pubDate><guid>https://boiltask.com/knowledge/cpp-static/</guid><description>&lt;h2 id="修饰普通变量">&lt;a href="#%e4%bf%ae%e9%a5%b0%e6%99%ae%e9%80%9a%e5%8f%98%e9%87%8f" class="header-anchor">&lt;/a>修饰普通变量
&lt;/h2>&lt;p>修改变量的存储区域和生命周期，使变量存储在静态区，在 main 函数运行前就分配了空间，如果有初始值就用初始值初始化它，如果没有初始值系统用默认值初始化它。&lt;/p>
&lt;p>普通变量，当程序执行到它的定义处时，为其在栈上分配空间，在函数执行结束时被释放掉。使用&lt;code>static&lt;/code>修饰变量，可以使得函数中的值保存至下一次调用。&lt;/p>
&lt;p>&lt;code>static&lt;/code>修饰的静态局部变量只执行初始化一次，而且延长了局部变量的生命周期，直到程序运行结束以后才释放。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">staticLocalVar&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">static&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 运行期时初始化一次, 下次再调用时, 不进行初始化工作
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">&amp;#34;a=&amp;#34;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">++&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">staticLocalVar&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// 第一次调用, 输出a=0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">staticLocalVar&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// 第二次调用, 记忆了第一次退出时的值, 输出a=1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="修饰普通函数">&lt;a href="#%e4%bf%ae%e9%a5%b0%e6%99%ae%e9%80%9a%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>修饰普通函数
&lt;/h2>&lt;p>表明函数的作用范围，仅在定义该函数的文件内才能使用。在多人开发项目时，为了防止与他人命名空间里的函数重名，可以将函数定位为&lt;code>static&lt;/code>。&lt;/p>
&lt;h2 id="修饰成员变量">&lt;a href="#%e4%bf%ae%e9%a5%b0%e6%88%90%e5%91%98%e5%8f%98%e9%87%8f" class="header-anchor">&lt;/a>修饰成员变量
&lt;/h2>&lt;p>修饰成员变量使所有的对象只保存一个该变量，而且不需要生成对象就可以访问该成员。&lt;/p>
&lt;p>C++中需要一个数据对象为整个类服务，可将其定义为静态数据。&lt;/p>
&lt;p>比如一个类的所有对象都要调用的值，设为&lt;code>static&lt;/code>后只需要修改这个值，就能使得所有对象都可以使用新值。&lt;/p>
&lt;h2 id="修饰成员函数">&lt;a href="#%e4%bf%ae%e9%a5%b0%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>修饰成员函数
&lt;/h2>&lt;p>修饰成员函数使得不需要生成对象就可以访问该函数，但是在&lt;code>static&lt;/code>函数内不能访问非静态成员。&lt;/p>
&lt;h2 id="static与const">&lt;a href="#static%e4%b8%8econst" class="header-anchor">&lt;/a>static与const
&lt;/h2>&lt;p>&lt;code>static const&lt;/code>等价于&lt;code>const static&lt;/code>，修饰成员变量把二者结合起来理解。&lt;/p>
&lt;p>不可以同时用&lt;code>const&lt;/code>和&lt;code>static&lt;/code>修饰成员函数，二者的含义矛盾。&lt;/p></description></item><item><title>C++中const关键字用法总结</title><link>https://boiltask.com/knowledge/cpp-const/</link><pubDate>Mon, 23 Mar 2020 05:00:00 +0000</pubDate><guid>https://boiltask.com/knowledge/cpp-const/</guid><description>&lt;blockquote>
&lt;p>当用&lt;code>const&lt;/code>进行修饰时，根据&lt;code>const&lt;/code>位置的不同有三种不同效果。&lt;/p>
&lt;p>判断的标准是：&lt;code>const&lt;/code>修饰谁，谁（在&lt;code>const&lt;/code>后面）的内容就是不可变的。&lt;/p>
&lt;/blockquote>
&lt;h2 id="修饰变量">&lt;a href="#%e4%bf%ae%e9%a5%b0%e5%8f%98%e9%87%8f" class="header-anchor">&lt;/a>修饰变量
&lt;/h2>&lt;p>&lt;code>const int a;&lt;/code>，表示变量不可被改变。&lt;/p>
&lt;h2 id="修饰指针">&lt;a href="#%e4%bf%ae%e9%a5%b0%e6%8c%87%e9%92%88" class="header-anchor">&lt;/a>修饰指针
&lt;/h2>&lt;p>分为指向常量的指针（pointer to const）和自身是常量的指针（常量指针，const pointer）。&lt;/p>
&lt;h3 id="const-int-p--a">&lt;a href="#const-int-p--a" class="header-anchor">&lt;/a>const int *p = &amp;amp;a;
&lt;/h3>&lt;p>&lt;code>*p&lt;/code>不可变，&lt;code>*p&lt;/code>是&lt;code>p&lt;/code>指向的内存单元的内容，所以&lt;code>*p&lt;/code>不可变也就是&lt;code>p&lt;/code>指向的内存单元的内容不可变。&lt;code>p&lt;/code>是可变的，即&lt;code>p&lt;/code>指向的内存单元（变量）是可变的，但是&lt;code>p&lt;/code>指向谁，谁的值就不可变。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;iostream&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//不可以用*p改变a的值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//*p = 20; //语法错误，*p不可被修改
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//可以直接赋值进行修改
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">11&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;b = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="n">q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//可以用*q改变a的值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//给a赋值也可以修改a的值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">40&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">30&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="int-const-p--a">&lt;a href="#int-const-p--a" class="header-anchor">&lt;/a>int* const p = &amp;amp;a;
&lt;/h3>&lt;p>&lt;code>const&lt;/code>修饰&lt;code>p&lt;/code>，指针&lt;code>p&lt;/code>是不可变的，即&lt;code>p&lt;/code>指向的内存单元不可变。&lt;code>p&lt;/code>的指向不可变，&lt;code>p&lt;/code>指向的内存单元的内容可以变。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;iostream&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//p的指向不可变
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//可以修改p指向的内存单元的内容
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">11&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//p = &amp;amp;b; //语法错误
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;b = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//修改了a的值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="const-int-const-p--a">&lt;a href="#const-int-const-p--a" class="header-anchor">&lt;/a>const int* const p = &amp;amp;a;
&lt;/h3>&lt;p>&lt;code>const&lt;/code>修饰了&lt;code>*p&lt;/code>和&lt;code>p&lt;/code>，所以&lt;code>p&lt;/code>指向的内存单元和&lt;code>p&lt;/code>指向的内存单元的内容都不可变。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;iostream&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//const修饰了p和*p
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//*p = 20; //不可修改p指向的内存单元的内容
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">11&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//p = &amp;amp;b; //不可修改p的指向
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;b = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="修饰引用">&lt;a href="#%e4%bf%ae%e9%a5%b0%e5%bc%95%e7%94%a8" class="header-anchor">&lt;/a>修饰引用
&lt;/h2>&lt;p>指向常量的引用（reference to const），用于形参类型，即避免了拷贝，又避免了函数对值的修改；&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;iostream&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">r&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//定义了a的引用r
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">r&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//也修改了a的值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;a = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//int &amp;amp;rm = 3; //语法错误，引用不可直接绑定常量
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">rm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;amp;rm = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rm&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//常量可以绑定const引用
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="cm">/* 编译器分配内存空间，把rm放在符号表中
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> int temp = 3;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> const int &amp;amp;rm = temp;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">rb&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;b = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rb&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//rb = 6; //const修饰引用不可更改
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">double&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">3.1415&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//int &amp;amp;rp = p; //引用类型需与绑定类型相同
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">rp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//可以绑定到const引用上
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;amp;rp = %d &lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rp&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//常量可以绑定const引用
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> double p = 3.1415;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> int temp = p;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> const int &amp;amp;rp = temp;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">rm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">rp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>const&lt;/code>引用的目的,禁止通过修改引用值来改变被引用的对象。&lt;/p>
&lt;p>没有const reference，因为引用本身就是 const pointer。&lt;/p>
&lt;ul>
&lt;li>普通引用相当于&lt;code>int* const e&lt;/code>&lt;/li>
&lt;li>&lt;code>const int &amp;amp;e&lt;/code>相当于&lt;code>const int* const e&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="修饰成员函数">&lt;a href="#%e4%bf%ae%e9%a5%b0%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0" class="header-anchor">&lt;/a>修饰成员函数
&lt;/h2>&lt;p>说明该成员函数内不能修改成员变量。&lt;/p>
&lt;ul>
&lt;li>有&lt;code>const&lt;/code>修饰的成员函数，对数据成员只能读取，没有&lt;code>const&lt;/code>修饰的成员函数，对数据成员可读可写。&lt;/li>
&lt;li>&lt;code>const&lt;/code>对象可以调用&lt;code>const&lt;/code>成员函数，不能调用非&lt;code>const&lt;/code>修饰的函数。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Test&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="nf">getA&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="nf">getAc&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Test&lt;/span> &lt;span class="n">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">test&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">getA&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">test&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">getAc&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>相当于，C++对类的成员函数数中的&lt;code>this&lt;/code>指针做了隐藏。本质上，&lt;code>const&lt;/code>修饰的是被隐藏的&lt;code>this&lt;/code>指针所指向的内存空间，修饰的是&lt;code>this&lt;/code>指针（&lt;code>const Class *this&lt;/code>）。&lt;/p></description></item><item><title>C++用实现大数模板（string、int128）</title><link>https://boiltask.com/knowledge/cpp-big-int/</link><pubDate>Tue, 13 Nov 2018 00:16:30 +0800</pubDate><guid>https://boiltask.com/knowledge/cpp-big-int/</guid><description>&lt;h2 id="相加">&lt;a href="#%e7%9b%b8%e5%8a%a0" class="header-anchor">&lt;/a>相加
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">string&lt;/span> &lt;span class="nf">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//两数相加
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">first&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">tai&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">tbi&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tai&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">tbi&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//从两数最右边开始模拟加法运算直到两数都遍历完
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">ta&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">tb&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tai&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ta&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//如果没数则至为0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ta&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">tai&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tbi&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">tb&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//如果没数则至为0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">tb&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">tbi&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">ta&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">tb&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">first&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//相加 first保存上一个的进位信息
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">first&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//当前位是对10取余
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">first&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">first&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//进位是除10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">first&lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">first&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//如果进位还有则添加
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">//去除前导0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">erase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="相乘">&lt;a href="#%e7%9b%b8%e4%b9%98" class="header-anchor">&lt;/a>相乘
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">string&lt;/span> &lt;span class="nf">mul&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//如果b只有一位则使其分别相乘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">first&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">mb&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//从最后开始依次计算
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">mb&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">first&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">first&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//当前位
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">first&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">first&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//进位
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">first&lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">first&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//处理进位
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">erase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">());&lt;/span> &lt;span class="c1">//除去前导0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//否则则把b拆分为一位
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">zero&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;gt;=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//从b的最后一位开始
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">mul&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">substr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">//计算当前为与a相乘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">zero&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//在其后添加适当的0再与结果相加
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">zero&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">zero&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="整数转string">&lt;a href="#%e6%95%b4%e6%95%b0%e8%bd%acstring" class="header-anchor">&lt;/a>整数转string
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">string&lt;/span> &lt;span class="nf">inttostring&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">//将整数转为string
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">string&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">string&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">temp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">m&lt;/span>&lt;span class="o">/=&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="较大的值">&lt;a href="#%e8%be%83%e5%a4%a7%e7%9a%84%e5%80%bc" class="header-anchor">&lt;/a>较大的值
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">string&lt;/span> &lt;span class="nf">smax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="nl">a&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="long-long">&lt;a href="#long-long" class="header-anchor">&lt;/a>long long
&lt;/h2>&lt;p>时间复杂度比较高是个问题&lt;br>
考虑用long long拼接&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">int128&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">long&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">h&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">long&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">l&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">int128&lt;/span> &lt;span class="nf">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">int128&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">int128&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">int128&lt;/span> &lt;span class="k">operator&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">int128&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">int128&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">int128&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">k&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">k&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">k&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">k&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">%=&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">int128&lt;/span> &lt;span class="k">operator&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">int128&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">long&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">mod&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">1e9&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">long&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">l1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">long&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">l2&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">l1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">l1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">l2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">l2&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">l2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">h&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">l1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">l1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">l1&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">l1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">l2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>中国荷斯坦牛建模相关技术的研究（Open3D、D435）</title><link>https://boiltask.com/knowledge/cattle-model-technology/</link><pubDate>Thu, 11 Oct 2018 12:22:07 +0800</pubDate><guid>https://boiltask.com/knowledge/cattle-model-technology/</guid><description>&lt;ul>
&lt;li>相关环境&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>Open3D（https://github.com/IntelVCL/Open3D/）&lt;/li>
&lt;li>D435（https://github.com/IntelRealSense/librealsense）&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>Open3D环境的安装&lt;/li>
&lt;/ul>
&lt;p>备注：官方版本有更新，遇到问题以官方说明为准&lt;/p>
&lt;p>1.Python环境安装&lt;/p>
&lt;p>Open3D安装成功导出一个Python库以供调用，网上有Open3D教程基于Python2.7，此处使用的Python版本为3.7，经测试可用。&lt;/p>
&lt;p>Python安装可前往官网下载：&lt;a class="link" href="https://www.python.org/" title="https://www.python.org/"
target="_blank" rel="noopener"
>https://www.python.org/&lt;/a> ，安装时可勾选添加环境变量以免仍需自己配置。&lt;/p>
&lt;p>2.Cmake环境安装&lt;/p>
&lt;p>Cmake允许开发者编写一种平台无关的 CMakeList.txt 文件来定制整个编译流程，然后再根据目标用户的平台进一步生成所需的本地化 Makefile 和工程文件&lt;/p>
&lt;p>在官网下载最新版本：&lt;a class="link" href="https://cmake.org" title="https://cmake.org"
target="_blank" rel="noopener"
>https://cmake.org&lt;/a> ，安装时勾选添加环境变量。​&lt;/p>
&lt;p>3.Visual Studio环境安装&lt;/p>
&lt;p>Visual Studio可前往官网下载：&lt;a class="link" href="https://visualstudio.microsoft.com/" title="Visual Studio: IDE and Code Editor for Software Developers and Teams"
target="_blank" rel="noopener"
>Visual Studio: IDE and Code Editor for Software Developers and Teams&lt;/a>&lt;/p>
&lt;p>Open3D官方推荐版本为2015，此处使用VS2017编译成功&lt;/p>
&lt;p>4.Open3D编译&lt;/p>
&lt;p>前往github下载最新的代码：https://github.com/IntelVCL/Open3D&lt;/p>
&lt;p>参考官方文档：&lt;a class="link" href="http://www.open3d.org/docs/getting_started.html" title="http://www.open3d.org/docs/getting_started.html"
target="_blank" rel="noopener"
>http://www.open3d.org/docs/getting_started.html&lt;/a>&lt;/p>
&lt;p>使用Cmake最终可在Open3D文件夹下过的build文件夹，后续研究大部分基于此文件夹。&lt;/p>
&lt;p>配置成功在python中输入import open3d应该可以正常运行&lt;/p>
&lt;ul>
&lt;li>D435环境的安装&lt;/li>
&lt;/ul>
&lt;p>1.MeshLab安装&lt;/p>
&lt;p>MeshLab用于打开相机导出的数据。&lt;/p>
&lt;p>在官网下载最新版：&lt;a class="link" href="http://www.meshlab.net/#download" title="MeshLab"
target="_blank" rel="noopener"
>MeshLab&lt;/a>&lt;/p>
&lt;p>按照提示安装即可。&lt;/p>
&lt;p>2.D435安装SDK&lt;/p>
&lt;p>在github上下载官方SDK：&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/IntelRealSense/librealsense/releases" target="_blank" rel="noopener"
>https://github.com/IntelRealSense/librealsense/releases&lt;/a>&lt;/p>
&lt;p>其中主要是：Intel.RealSense.Viewer.exe&lt;/p>
&lt;p>插入D435相机，运行Intel.RealSense.Viewer.exe，可在右方显示相机图像。&lt;/p>
&lt;p>打开RGB通道与Depth通道，切换为3D模式，可导出ply文件&lt;/p>
&lt;ul>
&lt;li>运行代码&lt;/li>
&lt;/ul>
&lt;p>为了方便调试代码，推荐把需要调试的代码与数据复制到其他文件夹操作。&lt;/p>
&lt;p>合成代码：&lt;a class="link" href="https://paste.ubuntu.com/p/gq2SwfjVss/" title="https://paste.ubuntu.com/p/gq2SwfjVss/"
target="_blank" rel="noopener"
>https://paste.ubuntu.com/p/gq2SwfjVss/&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">open3d&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">open3d&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">registration_ransac_based_on_feature_matching&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">RANSAC&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">open3d&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">registration_icp&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">ICP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">open3d&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">compute_fpfh_feature&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">FPFH&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">open3d&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">get_information_matrix_from_point_clouds&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">GET_GTG&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">register&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pcd2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">kdt_n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">KDTreeSearchParamHybrid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">radius&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">max_nn&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">kdt_f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">KDTreeSearchParamHybrid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">radius&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">size&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">max_nn&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcd1_d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">voxel_down_sample&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcd2_d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">voxel_down_sample&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">estimate_normals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd1_d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">kdt_n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">estimate_normals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd2_d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">kdt_n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcd1_f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">FPFH&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd1_d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">kdt_f&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcd2_f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">FPFH&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd2_d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">kdt_f&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">checker&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">CorrespondenceCheckerBasedOnEdgeLength&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.9&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">CorrespondenceCheckerBasedOnDistance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">size&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">est_ptp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">TransformationEstimationPointToPoint&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">est_ptpln&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">TransformationEstimationPointToPlane&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">criteria&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">RANSACConvergenceCriteria&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">max_iteration&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">400000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">max_validation&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">500&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">RANSAC&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd1_d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pcd2_d&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcd1_f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pcd2_f&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">max_correspondence_distance&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">size&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">estimation_method&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">est_ptp&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ransac_n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">checkers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">checker&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">criteria&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">criteria&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ICP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pcd2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">result1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">transformation&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">est_ptpln&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">transformation&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">merge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcds&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">all_points&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">pcd&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">pcds&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">all_points&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">asarray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">points&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">merged_pcd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">PointCloud&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">merged_pcd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">points&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Vector3dVector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">vstack&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">all_points&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">merged_pcd&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">add_color_normal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="c1"># in-place coloring and adding normal&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">paint_uniform_color&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">abs&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">pcd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_max_bound&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">pcd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_min_bound&lt;/span>&lt;span class="p">()))&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">30&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">kdt_n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">KDTreeSearchParamHybrid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">radius&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">max_nn&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">estimate_normals&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">kdt_n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">load_pcds&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd_files&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcds&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">f&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">pcd_files&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_point_cloud&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add_color_normal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcds&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">pcds&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">align_pcds&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcds&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pose_graph&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">PoseGraph&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">accum_pose&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">identity&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pose_graph&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">nodes&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">PoseGraphNode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">accum_pose&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">n_pcds&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcds&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">source_id&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n_pcds&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">target_id&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">source_id&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n_pcds&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pcds&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">source_id&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pcds&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">target_id&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">trans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">register&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">source&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">GTG_mat&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">GET_GTG&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">source&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">target&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">trans&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">target_id&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">source_id&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">accum_pose&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">matmul&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trans&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">accum_pose&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pose_graph&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">nodes&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">PoseGraphNode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">linalg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">inv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">accum_pose&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pose_graph&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">edges&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">PoseGraphEdge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">source_id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">target_id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">trans&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">GTG_mat&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">uncertain&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">solver&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">GlobalOptimizationLevenbergMarquardt&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">criteria&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">GlobalOptimizationConvergenceCriteria&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">option&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">GlobalOptimizationOption&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">max_correspondence_distance&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">size&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">edge_prune_threshold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">size&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reference_node&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">global_optimization&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pose_graph&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">method&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">solver&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">criteria&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">criteria&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">option&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">option&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">pcd_id&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n_pcds&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">trans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pose_graph&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">nodes&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">pcd_id&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pose&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcds&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">pcd_id&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">transform&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trans&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">pcds&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcds&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">load_pcds&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s2">&amp;#34;data/test/bun270.ply&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;data/test/bun315.ply&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;data/test/chin.ply&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;data/test/bun000.ply&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;data/test/bun045.ply&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;data/test/bun090.ply&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;data/test/bun180.ply&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">draw_geometries&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcds&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;input pcds&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">abs&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">pcds&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_max_bound&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">pcds&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_min_bound&lt;/span>&lt;span class="p">()))&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">30&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcd_aligned&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">align_pcds&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcds&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">draw_geometries&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd_aligned&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;aligned&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pcd_merge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">merge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd_aligned&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add_color_normal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pcd_merge&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">open3d&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">draw_geometries&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">pcd_merge&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="s2">&amp;#34;merged&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;__main__&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="
loading="lazy"
>&lt;/p>
&lt;p>将测试数据与代码放入对应文件夹内&lt;/p>
&lt;ol>
&lt;li>打开命令提示符窗口&lt;/li>
&lt;li>cd 代码文件夹（如果不在C盘还需要再键入一行盘符，如D:）&lt;/li>
&lt;li>python main.py（main.py为代码文件夹名称）&lt;/li>
&lt;/ol>
&lt;p>环境配置无误的话将依次获得处理结果&lt;/p>
&lt;ul>
&lt;li>处理数据&lt;/li>
&lt;/ul>
&lt;p>1.通过D435导出ply文件&lt;/p>
&lt;p>&lt;img src="https://boiltask.com/knowledge/cattle-model-technology/image-1.png"
width="268"
height="107"
srcset="https://boiltask.com/knowledge/cattle-model-technology/image-1_hu14757530706512876840.png 480w, https://boiltask.com/knowledge/cattle-model-technology/image-1_hu8998981482346148515.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="250"
data-flex-basis="601px"
>&lt;/p>
&lt;p>2.导入MeshLab中，通过上方工具去除多余点&lt;/p>
&lt;p>常用操作：&lt;/p>
&lt;p>鼠标：旋转模型&lt;/p>
&lt;p>Ctrl+鼠标：整体位置拖动
选取某一区域的点：&lt;img src="https://boiltask.com/knowledge/cattle-model-technology/image-2.png"
width="192"
height="50"
srcset="https://boiltask.com/knowledge/cattle-model-technology/image-2_hu14768562818895723399.png 480w, https://boiltask.com/knowledge/cattle-model-technology/image-2_hu15399469386381539127.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="384"
data-flex-basis="921px"
>&lt;/p>
&lt;p>删除所选的点：ctrl+delete&lt;/p>
&lt;p>&lt;img src="https://boiltask.com/knowledge/cattle-model-technology/image-3.png"
width="1436"
height="1035"
srcset="https://boiltask.com/knowledge/cattle-model-technology/image-3_hu224466131234736895.png 480w, https://boiltask.com/knowledge/cattle-model-technology/image-3_hu11997710199451502026.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="138"
data-flex-basis="332px"
>&lt;/p>
&lt;p>处理完成后在左上角选择保存。&lt;/p>
&lt;ol>
&lt;li>把数据放入指定文件夹中&lt;/li>
&lt;li>修改代码读取的文件名，即给pcds变量复制的load_pcds函数&lt;/li>
&lt;li>运行代码查看效果&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>附录&lt;/li>
&lt;/ul>
&lt;p>测试数据：&lt;/p>
&lt;p>&lt;a class="link" href="https://download.csdn.net/download/u011493189/10713389" title="https://download.csdn.net/download/u011493189/10713389"
target="_blank" rel="noopener"
>https://download.csdn.net/download/u011493189/10713389&lt;/a>&lt;/p>
&lt;p>3DCloud基于照片的3D模型构建：&lt;/p>
&lt;p>官方网站：&lt;a class="link" href="http://www.3dcloud.cn" title="http://www.3dcloud.cn"
target="_blank" rel="noopener"
>http://www.3dcloud.cn&lt;/a>&lt;/p>
&lt;p>模型展示：&lt;/p>
&lt;p>&lt;a class="link" href="http://www.3dcloud.cn/Member/?m=Models&amp;amp;a=model_view&amp;amp;model_id=10078" title="http://www.3dcloud.cn/Member/?m=Models&amp;amp;a=model_view&amp;amp;model_id=10078"
target="_blank" rel="noopener"
>http://www.3dcloud.cn/Member/?m=Models&amp;amp;a=model_view&amp;amp;model_id=10078&lt;/a>&lt;/p>
&lt;p>所用照片：&lt;/p>
&lt;p>&lt;a class="link" href="https://download.csdn.net/download/u011493189/10713405" title="https://download.csdn.net/download/u011493189/10713405"
target="_blank" rel="noopener"
>https://download.csdn.net/download/u011493189/10713405&lt;/a>&lt;/p>
&lt;p>备注：&lt;/p>
&lt;p>网站功能尚不完善，免费下载额度有限，高精度建模尚未开放，API尚未开放。&lt;/p>
&lt;p>正在慢慢完善之中，可观察其后续进展。&lt;/p>
&lt;p>​&lt;/p></description></item><item><title>AutoCAD LISP编程绘制摩天轮</title><link>https://boiltask.com/knowledge/autocad-lisp-mtl/</link><pubDate>Sat, 19 May 2018 00:00:00 +0800</pubDate><guid>https://boiltask.com/knowledge/autocad-lisp-mtl/</guid><description>&lt;p>在AutoCAD中写了一个生成摩天轮的程序，这辈子估计也少有机会深入学AutoCAD了，留作纪念。&lt;/p>
&lt;p>代码如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">defun&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">mtl&lt;/span> &lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">ss&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">getvar&lt;/span> &lt;span class="s2">&amp;#34;osmode&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">cc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">getvar&lt;/span> &lt;span class="s2">&amp;#34;cecolor&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setvar&lt;/span> &lt;span class="s2">&amp;#34;osmode&amp;#34;&lt;/span> &lt;span class="mi">512&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">prompt&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">先画圆:采用圆心和半径式&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">getpoint&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">圆心&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p0&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">getpoint&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">圆周上点&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">tpc&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">distance&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">p0&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">r2&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;circle&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="mf">0.875&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;circle&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">r2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">tang0&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">pi&lt;/span> &lt;span class="mi">18&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">pi&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">repeat&lt;/span> &lt;span class="mi">36&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang0&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">r2&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt2&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">fix&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt3&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">fix&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt4&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">fix&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt5&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">fix&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="mf">0.875&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt6&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">fix&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="mf">0.875&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pt5&lt;/span> &lt;span class="n">pt6&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">pt1&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pt1&lt;/span> &lt;span class="n">pt2&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pt1&lt;/span> &lt;span class="n">pt3&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pt1&lt;/span> &lt;span class="n">pt4&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pt2&lt;/span> &lt;span class="n">pt3&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;circle&amp;#34;&lt;/span> &lt;span class="n">pt2&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">r2&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;circle&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">r2&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">tr&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="mf">1.25&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pcd&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pcl&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pcd&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pcd&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pcr&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pcd&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pcd&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pcl1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pcd&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pcd&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pcr1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pcd&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pcd&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">pcl1&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">pcr1&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">pcl&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">pcr&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">pcd&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pcr&lt;/span> &lt;span class="n">pcl&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pclm&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pcd&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="mf">3.0&lt;/span> &lt;span class="mf">4.0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">pi&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">sqrt&lt;/span> &lt;span class="mf">2.0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="mf">2.0&lt;/span>&lt;span class="p">))))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pclm&lt;/span> &lt;span class="n">pcr&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pclm&lt;/span> &lt;span class="n">pcd&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pcrm&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pcd&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">pi&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">sqrt&lt;/span> &lt;span class="mf">2.0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="mf">2.0&lt;/span>&lt;span class="p">))))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pcrm&lt;/span> &lt;span class="n">pcl&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pcrm&lt;/span> &lt;span class="n">pcd&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">r4&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">r2&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="n">tr&lt;/span>&lt;span class="p">))))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pcd&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">plu&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">r4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">tr&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pru&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">r4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">tr&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pld&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">r4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">tr&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">prd&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">r4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">tr&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pcr&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">tr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">pc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;pline&amp;#34;&lt;/span> &lt;span class="n">plu&lt;/span> &lt;span class="n">pru&lt;/span> &lt;span class="n">prd&lt;/span> &lt;span class="n">pld&lt;/span> &lt;span class="s2">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">plu&lt;/span> &lt;span class="n">prd&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pru&lt;/span> &lt;span class="n">pld&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">pcd&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">pcr&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pcd&lt;/span> &lt;span class="n">pcr&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">list&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">tpc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">nth&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">tpc&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="n">tr&lt;/span>&lt;span class="p">))))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="n">tr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;circle&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">tr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;circle&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">r2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">repeat&lt;/span> &lt;span class="mi">36&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang0&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">r2&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt2&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">fix&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt3&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">fix&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt4&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">fix&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt5&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">fix&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="mf">0.875&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">pt6&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">polar&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">fix&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">tang1&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="mf">0.875&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pt5&lt;/span> &lt;span class="n">pt6&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pc&lt;/span> &lt;span class="n">pt1&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pt1&lt;/span> &lt;span class="n">pt2&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pt1&lt;/span> &lt;span class="n">pt3&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pt1&lt;/span> &lt;span class="n">pt4&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;line&amp;#34;&lt;/span> &lt;span class="n">pt2&lt;/span> &lt;span class="n">pt3&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">command&lt;/span> &lt;span class="s2">&amp;#34;circle&amp;#34;&lt;/span> &lt;span class="n">pt2&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="n">r2&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setq&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">+&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setvar&lt;/span> &lt;span class="s2">&amp;#34;osmode&amp;#34;&lt;/span> &lt;span class="n">ss&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">setvar&lt;/span> &lt;span class="s2">&amp;#34;cecolor&amp;#34;&lt;/span> &lt;span class="n">cc&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>计算机图形学复习笔记</title><link>https://boiltask.com/knowledge/computer-graphics-note/</link><pubDate>Mon, 30 Apr 2018 00:00:00 +0800</pubDate><guid>https://boiltask.com/knowledge/computer-graphics-note/</guid><description>&lt;blockquote>
&lt;p>参考《计算机图形学基础(OpenGL版)》与网上资料。&lt;/p>
&lt;/blockquote>
&lt;h2 id="第1章">&lt;a href="#%e7%ac%ac1%e7%ab%a0" class="header-anchor">&lt;/a>第1章
&lt;/h2>&lt;h3 id="什么是计算机图形学它主要研究内容">&lt;a href="#%e4%bb%80%e4%b9%88%e6%98%af%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%9b%be%e5%bd%a2%e5%ad%a6%e5%ae%83%e4%b8%bb%e8%a6%81%e7%a0%94%e7%a9%b6%e5%86%85%e5%ae%b9" class="header-anchor">&lt;/a>什么是计算机图形学，它主要研究内容？
&lt;/h3>&lt;p>计算机图形学是一门研究用计算机将数据转换成图形，并在专用设备上显示和处理的学科，它着重研究图形生成和处理的原理、方法和技术，是一门多学科综合应用的新技术。&lt;/p>
&lt;p>其涵盖图学理论、应用数学、计算机科学等学科。&lt;/p>
&lt;p>主要研究内容：&lt;/p>
&lt;p>围绕：图形处理过程中的软、硬件技术、表示图形和图像的准确性、真实性和实时性。&lt;/p>
&lt;p>包括：研究内容分为九个方向。&lt;/p>
&lt;ol>
&lt;li>基于设备的基本图形生成算法，如直线、圆弧等；&lt;/li>
&lt;li>图形元素的裁剪和几何变换技术；&lt;/li>
&lt;li>曲线和曲面的处理技术：插值、拟合、拼接和分解；&lt;/li>
&lt;li>三维几何造型技术；&lt;/li>
&lt;li>三维形体的实时显示和图形的并行处理技术；&lt;/li>
&lt;li>真实感图形生成技术和仿真模拟系统；&lt;/li>
&lt;li>随机形体或模糊景物的模拟生成技术；&lt;/li>
&lt;li>虚拟现实环境的生成和控制技术；&lt;/li>
&lt;li>三维或高维数据场的可视化技术&lt;/li>
&lt;/ol>
&lt;h3 id="图形的构成要素和表示方法">&lt;a href="#%e5%9b%be%e5%bd%a2%e7%9a%84%e6%9e%84%e6%88%90%e8%a6%81%e7%b4%a0%e5%92%8c%e8%a1%a8%e7%a4%ba%e6%96%b9%e6%b3%95" class="header-anchor">&lt;/a>图形的构成要素和表示方法？
&lt;/h3>&lt;ul>
&lt;li>图形的构成要素
&lt;ul>
&lt;li>几何要素：刻画对象的轮廓、形状等；&lt;/li>
&lt;li>非几何要素：刻画对象的颜色、材质等。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>图形的表示方法
&lt;ul>
&lt;li>点阵表示：枚举出图形中所有的点, 简称为图像；&lt;/li>
&lt;li>参数表示：形状参数+属性参数，简称为图形。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="第2章">&lt;a href="#%e7%ac%ac2%e7%ab%a0" class="header-anchor">&lt;/a>第2章
&lt;/h2>&lt;h3 id="请简要总结图形系统体系结构的三个阶段的任务内容与特点">&lt;a href="#%e8%af%b7%e7%ae%80%e8%a6%81%e6%80%bb%e7%bb%93%e5%9b%be%e5%bd%a2%e7%b3%bb%e7%bb%9f%e4%bd%93%e7%b3%bb%e7%bb%93%e6%9e%84%e7%9a%84%e4%b8%89%e4%b8%aa%e9%98%b6%e6%ae%b5%e7%9a%84%e4%bb%bb%e5%8a%a1%e5%86%85%e5%ae%b9%e4%b8%8e%e7%89%b9%e7%82%b9" class="header-anchor">&lt;/a>请简要总结图形系统体系结构的三个阶段的任务、内容与特点。
&lt;/h3>&lt;p>图形学系统体系结构的三个阶段：应用程序阶段、几何处理阶段、像素处理阶段。&lt;/p>
&lt;p>应用程序阶段：把数据以图元的形式提供给图形硬件，同时也提供用于表面纹理映射的图像或者位图。开发者能够对该阶段发生的情况进行完全控制，可以通过改变实现方法来改变实际性能。在应用程序阶段的末端，将需要绘制的几何体输入到绘制管线的下一阶段。&lt;/p>
&lt;p>几何处理阶段：以每个顶点为基础对几何图元进行处理，并从三维坐标变换为二维屏幕坐标的过程。几何处理阶段主要负责大部分多边形和顶点操作，可以将这个阶段进行划分为模型与视点变换、光照、投影、裁剪、屏幕影射等几个功能阶段。根据具体的实现，这现阶段可以和管线通道等同也可以不同。几何处理阶段执行的是计算量非常大的任务。&lt;/p>
&lt;p>像素处理阶段：屏幕对象先是被传送到像素处理器进行光栅化，再对每个像素进行着色，然后，然后再输出到帧缓冲器中，最后输出到显示器。当图元发送并通过光栅阶段之后，从相机视点处看到的东西就可以在屏幕上显示出来，这些图元可以用合适的着色模型进行绘制，如果运用纹理技术，就会显示出纹理效果。不像几何阶段进行的多边形操作，光栅阶段进行的是单个像素操作。对于高性能图形系统来说，光栅阶段必须在硬件中完成。&lt;/p>
&lt;h3 id="从图形硬件显示原理角度思考并分析如何显示直线">&lt;a href="#%e4%bb%8e%e5%9b%be%e5%bd%a2%e7%a1%ac%e4%bb%b6%e6%98%be%e7%a4%ba%e5%8e%9f%e7%90%86%e8%a7%92%e5%ba%a6%e6%80%9d%e8%80%83%e5%b9%b6%e5%88%86%e6%9e%90%e5%a6%82%e4%bd%95%e6%98%be%e7%a4%ba%e7%9b%b4%e7%ba%bf" class="header-anchor">&lt;/a>从图形硬件显示原理角度，思考并分析如何显示直线？
&lt;/h3>&lt;p>当电子束扫描到屏幕上某一像素的位置（坐标）时，显示器中的处理器DPU会同时从对应的显示缓冲单元中取出像素值，并以此查找彩色表的地址，从该地址处得到该像素的红、绿、蓝三基色分量，经D/A转换后分别控制三基色电子枪，使屏幕上该像素显示出三基色的混合色。要显示直线只需根据构成直线的方程找出所有符合方程的点，并在屏幕完整显示出由计算机画出的图形。&lt;/p>
&lt;h3 id="计算机图形系统由哪几部分组成各自实现什么功能">&lt;a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%9b%be%e5%bd%a2%e7%b3%bb%e7%bb%9f%e7%94%b1%e5%93%aa%e5%87%a0%e9%83%a8%e5%88%86%e7%bb%84%e6%88%90%e5%90%84%e8%87%aa%e5%ae%9e%e7%8e%b0%e4%bb%80%e4%b9%88%e5%8a%9f%e8%83%bd" class="header-anchor">&lt;/a>计算机图形系统由哪几部分组成，各自实现什么功能？
&lt;/h3>&lt;p>由图形软件和图形硬件组成。硬件设备是计算机图形学存在与发展的物质基础，主要由中央主机（图形显示处理器）、图形输入设备、图形输出设备组成。图形软件又分为图形应用软件、图形支撑软件和图形应用数据结构三部分，并与外部的图形设备接口，三者之间相互联系，互相调用，互相支持，形成图形系统的软件部分。&lt;/p>
&lt;h3 id="常用的图形输入输出设备有哪些各有何特点">&lt;a href="#%e5%b8%b8%e7%94%a8%e7%9a%84%e5%9b%be%e5%bd%a2%e8%be%93%e5%85%a5%e8%be%93%e5%87%ba%e8%ae%be%e5%a4%87%e6%9c%89%e5%93%aa%e4%ba%9b%e5%90%84%e6%9c%89%e4%bd%95%e7%89%b9%e7%82%b9" class="header-anchor">&lt;/a>常用的图形输入、输出设备有哪些？各有何特点？
&lt;/h3>&lt;p>定位设备：实现定位功能，即输入一个点的坐标，包括光笔、数字化仪、鼠标、键盘的数字键等。&lt;/p>
&lt;p>笔划设备：实现描划功能，输入一系列点的坐标，包括的物理设备和定位设备一致。&lt;/p>
&lt;p>数值设备：实现定值功能，包括旋钮、数字键、方向键、编程功能键等。&lt;/p>
&lt;p>选择设备：根据一个正整数得到某一种选择，包括光笔、触摸板、数字化仪、鼠标等。&lt;/p>
&lt;p>拾取设备：实现拾取功能，即识别一个显示的图形元素，包括各种定位设备、编程功能键、字符串输入设备。&lt;/p>
&lt;p>字符串设备：实现字符串输入，包括键盘、光笔、声音识别仪等。&lt;/p>
&lt;p>图形显示设备：液晶显示器等显示图形设备。&lt;/p>
&lt;p>图形绘制设备：打印机、绘图仪等输出可视化且能长期保存图形的输出设备。&lt;/p>
&lt;h3 id="图形软件分为几层各个层有什么特点">&lt;a href="#%e5%9b%be%e5%bd%a2%e8%bd%af%e4%bb%b6%e5%88%86%e4%b8%ba%e5%87%a0%e5%b1%82%e5%90%84%e4%b8%aa%e5%b1%82%e6%9c%89%e4%bb%80%e4%b9%88%e7%89%b9%e7%82%b9" class="header-anchor">&lt;/a>图形软件分为几层？各个层有什么特点？
&lt;/h3>&lt;p>软件系统由零层图形软件(驱动程序、接口程序)、一层图形软件(基本子程序)、二层图形软件(通用程序)、三层图形软件(应用程序)，零到二级软件称:基本图形软件或支撑软件，三级及以上软件:应用图形软件。&lt;/p>
&lt;p>图形支撑软件通常可分为如下三个层次，第一层次面向系统，是最底层的软件，又称设备驱动程序，主要解决图形设备与计算机的通信接口等问题，包括一些最基本的输入、输出程序。第二层次既面向系统又面向用户，它建立在设备驱动程序之上，又称为基本子程序，包括图元的生成、设备的管理等各程序模块。第三层次面向用户，在基本子程序的基础上编写，又称功能子程序，其主要任务是建立图形数据结构，定义、修改和输出图形。&lt;/p>
&lt;h3 id="熟悉光栅扫描显示系统的结构">&lt;a href="#%e7%86%9f%e6%82%89%e5%85%89%e6%a0%85%e6%89%ab%e6%8f%8f%e6%98%be%e7%a4%ba%e7%b3%bb%e7%bb%9f%e7%9a%84%e7%bb%93%e6%9e%84" class="header-anchor">&lt;/a>熟悉光栅扫描显示系统的结构。
&lt;/h3>&lt;p>光栅扫描显示系统的逻辑组成主要有三部分：显示器、视频控制器和帧缓冲存储器。早期的光栅扫描显示系统经典结构：CPU、系统主存、显示控制器、显示器，帧缓存可在系统主存的任意位置，显示控制器访问帧缓存，以刷新屏幕，但此时显示控制器访问帧缓存均需通过系统总线，故总线成为系统的主要瓶颈。目前常用的：CPU、系统主存-帧缓存、显示控制器、显示器，帧缓存由显示控制器直接访问，它既可以使用系统主存的固定区域，又可以是专用的显示内存，扫描转换的计算量相当大会加重CPU的负担。高级光栅图形系统结构除了帧缓存和显示控制器外，它还包含显示处理器和独立的显示处理器存储器。&lt;/p>
&lt;h3 id="了解分辨率帧缓存像素像距等常用词语的含义">&lt;a href="#%e4%ba%86%e8%a7%a3%e5%88%86%e8%be%a8%e7%8e%87%e5%b8%a7%e7%bc%93%e5%ad%98%e5%83%8f%e7%b4%a0%e5%83%8f%e8%b7%9d%e7%ad%89%e5%b8%b8%e7%94%a8%e8%af%8d%e8%af%ad%e7%9a%84%e5%90%ab%e4%b9%89" class="header-anchor">&lt;/a>了解分辨率、帧缓存、像素、像距等常用词语的含义。
&lt;/h3>&lt;p>分辨率：显示屏上像素的总数，分为水平分辨率和垂直分辨率，常用屏幕上像素的数目来表示。分辨率越高，像距离越小，显示字符或图像越清晰。&lt;/p>
&lt;p>帧缓存：帧缓冲存储器简称帧缓存或显存，它是屏幕所显示画面的一个直接映象，又称为位映射图或光栅。帧缓存是一块连续的计算机存储器，用来存储动态刷新的图形图像信息。帧缓存的每一存储单元对应屏幕上的一个像素，整个帧缓存对应一帧图像。&lt;/p>
&lt;p>像素：在光栅扫描图形显示器中，屏幕上可以点亮或熄灭的最小单位。&lt;/p>
&lt;p>像距：像到屏幕的距离。&lt;/p>
&lt;p>行频、帧频：水平扫描频率为行频。垂直扫描频率为帧频。&lt;/p>
&lt;p>隔行扫描：先扫偶数行扫描线，再扫奇数行扫描线。&lt;/p>
&lt;p>显示速度：显示字符、图形、图像的速度。&lt;/p>
&lt;p>点距：LCD的点距是两个液晶颗粒之间的距离，液晶面板的宽或高除以水平像素数或垂直像素数。&lt;/p>
&lt;p>刷新率：LCD中每个像素都在一定的信号（电压）下持续不断的发光，直到另一个信号（电压）来到时才会改变发光强度，所以其实LCD不存在刷新率的问题。&lt;/p>
&lt;p>视角：可视角度。&lt;/p>
&lt;p>响应时间：响应时间过长将导致画面快速变化时出现残影。&lt;/p>
&lt;p>亮度：亮度指画面的明亮程度，最大亮度通常由背光源来决定。&lt;/p>
&lt;p>对比度：指屏幕上同一点最亮时（白色）与最暗时（黑色）的亮度的比值。高对比度意味着有相对较高的亮度和艳丽程度。&lt;/p>
&lt;h2 id="第3章">&lt;a href="#%e7%ac%ac3%e7%ab%a0" class="header-anchor">&lt;/a>第3章
&lt;/h2>&lt;h3 id="简述dda算法中点画线法bresenham算法的算法思想">&lt;a href="#%e7%ae%80%e8%bf%b0dda%e7%ae%97%e6%b3%95%e4%b8%ad%e7%82%b9%e7%94%bb%e7%ba%bf%e6%b3%95bresenham%e7%ae%97%e6%b3%95%e7%9a%84%e7%ae%97%e6%b3%95%e6%80%9d%e6%83%b3" class="header-anchor">&lt;/a>简述DDA算法、中点画线法、Bresenham算法的算法思想。
&lt;/h3>&lt;p>DDA算法称为数值微分画线算法，根据斜率的偏移程度，决定是以x为步进方向还是以y为步进方向，然后在相应的步进方向上，步进向量每次增加一个像素，而另一个相关坐标变量也可根据斜率求出。&lt;/p>
&lt;p>中点画线法假定直线斜率k在0~1之间，当前像素点为（xp，yp），则下一个像素点有两种可选择点P1（xp+1，yp）或p2（xp+1，yp+1）。若p1与p2的重点（xp+1，yp+0.5）称为M，Q为理想直线与x=xp+1垂线的交点，当M在Q的下方时，则取p2应为下一个像素点，当M在Q的上方时，则应取P1为下一个像素点，其他斜率同理。&lt;/p>
&lt;p>Bresenham算法过各行、各列像素中心构造一组虚拟网格线，按直线从起点到终点的顺序计算直线各垂直网格线的交点，然后确定该列像素中与此交点最近的像素。可以采用增量计算，使得对于每一列，只要检查一个误差项的符号，就可以确定该列所求的像素。&lt;/p>
&lt;h3 id="写出bresenham画线算法的过程或画出其流程图">&lt;a href="#%e5%86%99%e5%87%babresenham%e7%94%bb%e7%ba%bf%e7%ae%97%e6%b3%95%e7%9a%84%e8%bf%87%e7%a8%8b%e6%88%96%e7%94%bb%e5%87%ba%e5%85%b6%e6%b5%81%e7%a8%8b%e5%9b%be" class="header-anchor">&lt;/a>写出Bresenham画线算法的过程或画出其流程图。
&lt;/h3>&lt;ol>
&lt;li>直线起点赋予动点P(x,y)；&lt;/li>
&lt;li>求端点坐标差：dx和dy；&lt;/li>
&lt;li>求出循环总步数N
&lt;ol>
&lt;li>起点处的di的值；&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>循环计算中间插值点坐标：
&lt;ol>
&lt;li>若当前步数≥N，程序结束。&lt;/li>
&lt;li>否则：
&lt;ol>
&lt;li>显示当前点P；&lt;/li>
&lt;li>若di大于0，y坐标加1；&lt;/li>
&lt;li>计算当前的di值；&lt;/li>
&lt;li>x坐标加1。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="直线的属性有哪些">&lt;a href="#%e7%9b%b4%e7%ba%bf%e7%9a%84%e5%b1%9e%e6%80%a7%e6%9c%89%e5%93%aa%e4%ba%9b" class="header-anchor">&lt;/a>直线的属性有哪些？
&lt;/h3>&lt;p>直线的属性包括线型、线宽和线的颜色等。&lt;/p>
&lt;ol>
&lt;li>线型：线型表示不同的实体形状。&lt;/li>
&lt;li>线宽：用有宽度的线型表示实体表面的形状和位置。&lt;/li>
&lt;li>线色：系统颜色，用颜色模型空间定义，如RGB模型等。调用方法，采用专用函数来设定不同的颜色值。图形用色，处理两种颜色，背景色和前景色。背景色，绘制系统背景界面所定义颜色。前景色，绘制图形所需要各种颜色。&lt;/li>
&lt;/ol>
&lt;h3 id="圆弧生成的常用算法有哪些">&lt;a href="#%e5%9c%86%e5%bc%a7%e7%94%9f%e6%88%90%e7%9a%84%e5%b8%b8%e7%94%a8%e7%ae%97%e6%b3%95%e6%9c%89%e5%93%aa%e4%ba%9b" class="header-anchor">&lt;/a>圆弧生成的常用算法有哪些？
&lt;/h3>&lt;p>逐点比较法、中点画圆法、Bresenham算法、角度离散法等。&lt;/p>
&lt;p>逐点比较法：设定在不同象限中的走步方向，原则使逼近的误差最小且走笔方向和画图的趋势一致，根据误差判别式确定下一个像素。&lt;/p>
&lt;p>中点画圆法：利用圆的8路对称方法，考虑圆心在原点，半径为R的圆在第一象限内的八分之一圆弧，从点（0, R）到点（R’ , R’ ）顺时针方向确定这段圆弧。假定某点Pi(xi, yi)已经是该圆弧上最接近实际圆弧的点，那么Pi的下一个点只可能是正右方的P1或右下方的P2两者之一。构造判别函数F(x, y）= x2 + y2 – R2，将重点M带入函数，若F(M)&amp;lt;0，M在圆内，此时下一个点取T；若F(M)≥0，M在圆上或圆外，此时下一个点取S，以此类推。&lt;/p>
&lt;p>Bresenham算法：Bresenham画圆算法适合于生成整圆，用误差量来衡量点选取的逼近程度，它使用8路对称法，只计算出90°~45°内的点，移动方向为+x，-y。设（xi，yi）是扫描到第i步时选定的坐标，下一个被选定的可能是T或S。根据坐标到原点距离的平方与半径的平方之差的的关系可选择T或S继而可生成整圆。&lt;/p>
&lt;h3 id="圆弧生成算法的误差判别采用哪种模型">&lt;a href="#%e5%9c%86%e5%bc%a7%e7%94%9f%e6%88%90%e7%ae%97%e6%b3%95%e7%9a%84%e8%af%af%e5%b7%ae%e5%88%a4%e5%88%ab%e9%87%87%e7%94%a8%e5%93%aa%e7%a7%8d%e6%a8%a1%e5%9e%8b" class="header-anchor">&lt;/a>圆弧生成算法的误差判别采用哪种模型？
&lt;/h3>&lt;p>当前点到圆心的距离与半径的平方差值。&lt;/p>
&lt;h3 id="完整圆弧最快的算法是什么">&lt;a href="#%e5%ae%8c%e6%95%b4%e5%9c%86%e5%bc%a7%e6%9c%80%e5%bf%ab%e7%9a%84%e7%ae%97%e6%b3%95%e6%98%af%e4%bb%80%e4%b9%88" class="header-anchor">&lt;/a>完整圆弧最快的算法是什么？
&lt;/h3>&lt;p>Bresenham算法。&lt;/p>
&lt;h3 id="解释逼近插值控制点型值点等名词">&lt;a href="#%e8%a7%a3%e9%87%8a%e9%80%bc%e8%bf%91%e6%8f%92%e5%80%bc%e6%8e%a7%e5%88%b6%e7%82%b9%e5%9e%8b%e5%80%bc%e7%82%b9%e7%ad%89%e5%90%8d%e8%af%8d" class="header-anchor">&lt;/a>解释：逼近、插值、控制点、型值点等名词
&lt;/h3>&lt;p>逼近：通过建立数学模型，要求构造的曲线在某种意义下最为接近给定的数据点，称为对这些数据点进行逼近，所构造的曲线称为逼近曲线。&lt;/p>
&lt;p>插值：给定一组有序的数据点Pi(i=0，1，2，……，n)，通过建立数学模型构造一条曲线，使其顺序通过数据点，所构造的曲线称为插值曲线。&lt;/p>
&lt;p>拟合：插值和逼近方法的统称。&lt;/p>
&lt;p>型值点: 通过测量或计算得到的曲线上描述曲线几何形状的数据点。&lt;/p>
&lt;p>控制点: 用来控制或调整曲线形状的形状特殊点，而曲线本身不通过该点。&lt;/p>
&lt;h3 id="解释名词区域区域填充种子活性边">&lt;a href="#%e8%a7%a3%e9%87%8a%e5%90%8d%e8%af%8d%e5%8c%ba%e5%9f%9f%e5%8c%ba%e5%9f%9f%e5%a1%ab%e5%85%85%e7%a7%8d%e5%ad%90%e6%b4%bb%e6%80%a7%e8%be%b9" class="header-anchor">&lt;/a>解释名词：区域、区域填充、种子、活性边。
&lt;/h3>&lt;p>区域：一组相邻而且又相连的像素，而且具有相同属性的封闭区域。&lt;/p>
&lt;p>区域填充：在区域内确定种子，并将这种属性扩展到整个区域的过程。 &lt;/p>
&lt;p>种子：具有一定填充属性单位的像素或像素组合。&lt;/p>
&lt;p>活性边：与当前扫描线相交的边界线的边。&lt;/p>
&lt;h3 id="掌握区域内点的测试方法">&lt;a href="#%e6%8e%8c%e6%8f%a1%e5%8c%ba%e5%9f%9f%e5%86%85%e7%82%b9%e7%9a%84%e6%b5%8b%e8%af%95%e6%96%b9%e6%b3%95" class="header-anchor">&lt;/a>掌握区域内点的测试方法。
&lt;/h3>&lt;p>射线法：从点P向任意方向发出一条射线，若该射线与多边形交点的个数为奇数，则P位于多边形内；若为偶数，则P位于多边形外部。但需注意射线与多边形边界点交点是顶点时（奇点），需根据极值点（顶点相邻的两边在射线的同侧）和非极值点采用不同方式计算（极值点交点按两个交点计算否则按一个计算）。&lt;/p>
&lt;p>弧长法：假定多边形是由有向边组成，以被测点为圆心作单位圆，将全部有向边向单位圆作径向投影，计算单位圆上各边投影的代数和。若代数和为0，则被测点在多边形之外；若代数和为2π，则被测点在多边形之内。&lt;/p>
&lt;p>综合：从起点P发出向右侧的射线，若遇到方向向上的边与射线相交，则计数器加1，遇到方向向下的边与射线相交，计数器减1。当最后的计数器为0时，P点在多边形的外部，但也需注意奇点的处理。&lt;/p>
&lt;h3 id="能准确区分区域的连通性">&lt;a href="#%e8%83%bd%e5%87%86%e7%a1%ae%e5%8c%ba%e5%88%86%e5%8c%ba%e5%9f%9f%e7%9a%84%e8%bf%9e%e9%80%9a%e6%80%a7" class="header-anchor">&lt;/a>能准确区分区域的连通性。
&lt;/h3>&lt;p>4连通区域：从区域上的一点出发，通过访问已知点的4邻接点，在不越出区域的前提下，遍历区域内的所有象素点。&lt;/p>
&lt;p>8连通区域：从区域上的一点出发，通过访问已知点的8邻接点，在不越出区域的前提下，遍历区域内的所有象素点。&lt;/p>
&lt;h3 id="理解掌握区域扫描线边界连续性">&lt;a href="#%e7%90%86%e8%a7%a3%e6%8e%8c%e6%8f%a1%e5%8c%ba%e5%9f%9f%e6%89%ab%e6%8f%8f%e7%ba%bf%e8%be%b9%e7%95%8c%e8%bf%9e%e7%bb%ad%e6%80%a7" class="header-anchor">&lt;/a>理解掌握区域、扫描线、边界连续性。
&lt;/h3>&lt;p>具有相同颜色或图案属性的连片像素即区域。对区域中所有像素填充着色的过程称为区域填充。区域的定义有两类：一类是给定顶点序列定义的封闭多边形。第二类区域是由所有已知边界像素包围起来的部分，它是由点阵方式描述的区域。第二类区域又有两种不同的定义：一种是边界定义的区域，另一种是内定义区域。&lt;/p>
&lt;p>扫描线算法利用区域的连续性、扫描线的连续性、边界连续性，确定水平扫描线与多边形的相交区间，把该区间内的所有像素一次性赋予新的颜色值。&lt;/p>
&lt;p>边界连续性：把边界的端点按其y坐标排列，y0,y1,…..,yi，yik≥yik+1，0 ≤ k ≤ n-1，交点数相等；同编号的点位于同一条边上。&lt;/p>
&lt;h3 id="了解掌握扫描线填充算法的原理与步骤">&lt;a href="#%e4%ba%86%e8%a7%a3%e6%8e%8c%e6%8f%a1%e6%89%ab%e6%8f%8f%e7%ba%bf%e5%a1%ab%e5%85%85%e7%ae%97%e6%b3%95%e7%9a%84%e5%8e%9f%e7%90%86%e4%b8%8e%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>了解掌握扫描线填充算法的原理与步骤。
&lt;/h3>&lt;p>扫描线填充算法充分利用了多边形边界与上下两条相邻扫描线的交点之间的连续性以及同一扫描线上像素之间的连续性。&lt;/p>
&lt;p>对于每条扫描线，分以下3个步骤：&lt;/p>
&lt;p>求交点，计算当前扫描线与多边形所有边的交点。&lt;/p>
&lt;p>排序与配对，把所有交点按x值递增顺序排序，排序后的交点两两配成区间。&lt;/p>
&lt;p>填色，将各区间内的像素值设置为目标颜色值。&lt;/p>
&lt;ol>
&lt;li>把区域边界顶点按Y坐标排序；&lt;/li>
&lt;li>确定扫描线的区间；&lt;/li>
&lt;li>构建边界边的活性边表；&lt;/li>
&lt;li>求交点；&lt;/li>
&lt;li>交点排序；&lt;/li>
&lt;li>交点配对；&lt;/li>
&lt;li>填充颜色&lt;/li>
&lt;/ol>
&lt;h3 id="写出dda画线算法的原理">&lt;a href="#%e5%86%99%e5%87%badda%e7%94%bb%e7%ba%bf%e7%ae%97%e6%b3%95%e7%9a%84%e5%8e%9f%e7%90%86" class="header-anchor">&lt;/a>写出DDA画线算法的原理。
&lt;/h3>&lt;p>写出DDA画线算法的原理。&lt;/p>
&lt;h3 id="掌握区域填充算法的分类和扫描线算法的步骤">&lt;a href="#%e6%8e%8c%e6%8f%a1%e5%8c%ba%e5%9f%9f%e5%a1%ab%e5%85%85%e7%ae%97%e6%b3%95%e7%9a%84%e5%88%86%e7%b1%bb%e5%92%8c%e6%89%ab%e6%8f%8f%e7%ba%bf%e7%ae%97%e6%b3%95%e7%9a%84%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>掌握区域填充算法的分类和扫描线算法的步骤。
&lt;/h3>&lt;p>区域填充算法&lt;/p>
&lt;ul>
&lt;li>扫描线填充算法——扫描线顺序
&lt;ul>
&lt;li>有序边表算法&lt;/li>
&lt;li>边填充算法&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>种子填充算法——内部一个点出发
&lt;ul>
&lt;li>简单种子算法&lt;/li>
&lt;li>扫描线种子算法&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>图案填充算法——填充有结构的图形
&lt;ul>
&lt;li>影线填充算法&lt;/li>
&lt;li>图像填充算法&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="图形系统中常用的字符有几种">&lt;a href="#%e5%9b%be%e5%bd%a2%e7%b3%bb%e7%bb%9f%e4%b8%ad%e5%b8%b8%e7%94%a8%e7%9a%84%e5%ad%97%e7%ac%a6%e6%9c%89%e5%87%a0%e7%a7%8d" class="header-anchor">&lt;/a>图形系统中常用的字符有几种？
&lt;/h3>&lt;p>字符生成方法有点阵式、矢量式和编码式。&lt;/p>
&lt;p>常用的字符有：&lt;/p>
&lt;ol>
&lt;li>ASCII码&lt;/li>
&lt;li>汉字字符&lt;/li>
&lt;li>其它字符&lt;/li>
&lt;li>其它工程专用符号。&lt;/li>
&lt;/ol>
&lt;h3 id="字符的图形表示方法有几种有什么特点">&lt;a href="#%e5%ad%97%e7%ac%a6%e7%9a%84%e5%9b%be%e5%bd%a2%e8%a1%a8%e7%a4%ba%e6%96%b9%e6%b3%95%e6%9c%89%e5%87%a0%e7%a7%8d%e6%9c%89%e4%bb%80%e4%b9%88%e7%89%b9%e7%82%b9" class="header-anchor">&lt;/a>字符的图形表示方法有几种？有什么特点？
&lt;/h3>&lt;p>点阵式字符将字符表示为一个矩形点阵，由点阵中点的不同值表达字符的形状。&lt;/p>
&lt;p>矢量式字符将字符表达为一个点坐标的序列，相邻两点表示一条矢量，字符的形状便由矢量序列刻划。&lt;/p>
&lt;h2 id="第4章">&lt;a href="#%e7%ac%ac4%e7%ab%a0" class="header-anchor">&lt;/a>第4章
&lt;/h2>&lt;h3 id="熟记二维变换的基本变换矩阵及其几何特点">&lt;a href="#%e7%86%9f%e8%ae%b0%e4%ba%8c%e7%bb%b4%e5%8f%98%e6%8d%a2%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%8f%98%e6%8d%a2%e7%9f%a9%e9%98%b5%e5%8f%8a%e5%85%b6%e5%87%a0%e4%bd%95%e7%89%b9%e7%82%b9" class="header-anchor">&lt;/a>熟记二维变换的基本变换矩阵及其几何特点。
&lt;/h3>&lt;h4 id="平移变换">&lt;a href="#%e5%b9%b3%e7%a7%bb%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>平移变换
&lt;/h4>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：$T=\begin{bmatrix} t_{x} \\ t_{y} \end{bmatrix}$&lt;/p>
&lt;p>平移方程：$P&amp;rsquo;=P+T$&lt;/p>
&lt;h4 id="绕坐标原点的旋转变换">&lt;a href="#%e7%bb%95%e5%9d%90%e6%a0%87%e5%8e%9f%e7%82%b9%e7%9a%84%e6%97%8b%e8%bd%ac%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>绕坐标原点的旋转变换
&lt;/h4>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：$R=\begin{bmatrix} \cos \theta &amp;amp; -\sin \theta \\ \sin \theta &amp;amp; \cos \theta \end{bmatrix}$&lt;/p>
&lt;p>变换方程：$P&amp;rsquo;=R\cdot P$、$\begin{cases}x&amp;rsquo;=x\cos \theta -y\sin \theta \\ y&amp;rsquo;=x\sin \theta -y\cos \theta \end{cases}$&lt;/p>
&lt;h4 id="以坐标原点为基准点的缩放变换">&lt;a href="#%e4%bb%a5%e5%9d%90%e6%a0%87%e5%8e%9f%e7%82%b9%e4%b8%ba%e5%9f%ba%e5%87%86%e7%82%b9%e7%9a%84%e7%bc%a9%e6%94%be%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>以坐标原点为基准点的缩放变换
&lt;/h4>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：$R=\begin{bmatrix} s_{x} &amp;amp; 0 \\ 0 &amp;amp; s_{y} \end{bmatrix}$&lt;/p>
&lt;p>变换方程：$P&amp;rsquo;=S\cdot P$&lt;/p>
&lt;h4 id="反射变换">&lt;a href="#%e5%8f%8d%e5%b0%84%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>反射变换
&lt;/h4>&lt;p>变换方程：$P&amp;rsquo;=T\cdot P$&lt;/p>
&lt;h5 id="相对于y轴的反射">&lt;a href="#%e7%9b%b8%e5%af%b9%e4%ba%8ey%e8%bd%b4%e7%9a%84%e5%8f%8d%e5%b0%84" class="header-anchor">&lt;/a>相对于y轴的反射
&lt;/h5>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：$S=\begin{bmatrix} 1 &amp;amp; 0 \\ 0 &amp;amp; -1 \end{bmatrix}$&lt;/p>
&lt;h5 id="相对于x轴的反射">&lt;a href="#%e7%9b%b8%e5%af%b9%e4%ba%8ex%e8%bd%b4%e7%9a%84%e5%8f%8d%e5%b0%84" class="header-anchor">&lt;/a>相对于x轴的反射
&lt;/h5>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：$S=\begin{bmatrix} -1 &amp;amp; 0 \\ 0 &amp;amp; 1 \end{bmatrix}$&lt;/p>
&lt;h5 id="相对于坐标原点的反射">&lt;a href="#%e7%9b%b8%e5%af%b9%e4%ba%8e%e5%9d%90%e6%a0%87%e5%8e%9f%e7%82%b9%e7%9a%84%e5%8f%8d%e5%b0%84" class="header-anchor">&lt;/a>相对于坐标原点的反射
&lt;/h5>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：$S=\begin{bmatrix} -1 &amp;amp; 0 \\ 0 &amp;amp; -1 \end{bmatrix}$&lt;/p>
&lt;h5 id="相对于任意点的反射">&lt;a href="#%e7%9b%b8%e5%af%b9%e4%ba%8e%e4%bb%bb%e6%84%8f%e7%82%b9%e7%9a%84%e5%8f%8d%e5%b0%84" class="header-anchor">&lt;/a>相对于任意点的反射
&lt;/h5>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：先平移再旋转再平移&lt;/p>
&lt;h5 id="关于对角线yx的反射">&lt;a href="#%e5%85%b3%e4%ba%8e%e5%af%b9%e8%a7%92%e7%ba%bfyx%e7%9a%84%e5%8f%8d%e5%b0%84" class="header-anchor">&lt;/a>关于对角线y=x的反射
&lt;/h5>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：$S=\begin{bmatrix} 1 &amp;amp; 0 \\ 0 &amp;amp; 1 \end{bmatrix}$&lt;/p>
&lt;h5 id="关于对角线y-x的反射">&lt;a href="#%e5%85%b3%e4%ba%8e%e5%af%b9%e8%a7%92%e7%ba%bfy-x%e7%9a%84%e5%8f%8d%e5%b0%84" class="header-anchor">&lt;/a>关于对角线y=-x的反射
&lt;/h5>&lt;p>先顺时针45°，对于y轴反射，最后逆时针旋转45°。&lt;/p>
&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：$S=\begin{bmatrix} 0 &amp;amp; -1 \\ -1 &amp;amp; 0 \end{bmatrix}$&lt;/p>
&lt;h5 id="关于任意直线ymxb的反射">&lt;a href="#%e5%85%b3%e4%ba%8e%e4%bb%bb%e6%84%8f%e7%9b%b4%e7%ba%bfymxb%e7%9a%84%e5%8f%8d%e5%b0%84" class="header-anchor">&lt;/a>关于任意直线y=mx+b的反射
&lt;/h5>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：平移-旋转-反射变换&lt;/p>
&lt;h4 id="错切变换">&lt;a href="#%e9%94%99%e5%88%87%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>错切变换
&lt;/h4>&lt;h5 id="x轴的x方向">&lt;a href="#x%e8%bd%b4%e7%9a%84x%e6%96%b9%e5%90%91" class="header-anchor">&lt;/a>x轴的x方向
&lt;/h5>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：$S=\begin{bmatrix} 1 &amp;amp; sh_{x} \\ 0 &amp;amp; 1 \end{bmatrix}$&lt;/p>
&lt;p>变换方程：$P&amp;rsquo;=S\cdot P$、$x&amp;rsquo;=x+ sh_{x} \cdot y$、$y&amp;rsquo;=y$&lt;/p>
&lt;h5 id="y轴的y方向">&lt;a href="#y%e8%bd%b4%e7%9a%84y%e6%96%b9%e5%90%91" class="header-anchor">&lt;/a>y轴的y方向
&lt;/h5>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$，变换矩阵：$S=\begin{bmatrix} 1 &amp;amp; 0 \\ sh_{y} &amp;amp; 1 \end{bmatrix}$&lt;/p>
&lt;p>变换方程：$P&amp;rsquo;=S\cdot P$、$x&amp;rsquo;=x$、$y&amp;rsquo;=y+ sh_{y} \cdot x$&lt;/p>
&lt;h4 id="变换通式">&lt;a href="#%e5%8f%98%e6%8d%a2%e9%80%9a%e5%bc%8f" class="header-anchor">&lt;/a>变换通式
&lt;/h4>&lt;p>原始点：$P=\begin{bmatrix} x \\ y \end{bmatrix}$，变换点：$P&amp;rsquo;=\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \end{bmatrix}$&lt;/p>
&lt;p>变换方程：$P&amp;rsquo;=M_{1}\cdot P + M_{2}$&lt;/p>
&lt;h3 id="齐次坐标的定义是什么">&lt;a href="#%e9%bd%90%e6%ac%a1%e5%9d%90%e6%a0%87%e7%9a%84%e5%ae%9a%e4%b9%89%e6%98%af%e4%bb%80%e4%b9%88" class="header-anchor">&lt;/a>齐次坐标的定义是什么？
&lt;/h3>&lt;p>用n+1维矢量表示n维矢量的方法，称为齐次坐标表示法，n+1维空间的坐标被称为齐次坐标。&lt;/p>
&lt;ol>
&lt;li>将各种变换用阶数统一的矩阵来表示。&lt;/li>
&lt;li>便于表示无穷远点。&lt;/li>
&lt;li>齐次坐标变换矩阵是把直线变成直线段，平面变换成平面，多边形变换成多边形，多面体变换成多面体。&lt;/li>
&lt;li>变换具有统一表示形式的优点，便于变换合成和硬件实现。&lt;/li>
&lt;/ol>
&lt;h3 id="掌握二维三维基本变换的齐次坐标形式">&lt;a href="#%e6%8e%8c%e6%8f%a1%e4%ba%8c%e7%bb%b4%e4%b8%89%e7%bb%b4%e5%9f%ba%e6%9c%ac%e5%8f%98%e6%8d%a2%e7%9a%84%e9%bd%90%e6%ac%a1%e5%9d%90%e6%a0%87%e5%bd%a2%e5%bc%8f" class="header-anchor">&lt;/a>掌握二维、三维基本变换的齐次坐标形式。
&lt;/h3>&lt;h4 id="平移变换-1">&lt;a href="#%e5%b9%b3%e7%a7%bb%e5%8f%98%e6%8d%a2-1" class="header-anchor">&lt;/a>平移变换
&lt;/h4>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} 1 &amp;amp; 0 &amp;amp; t_{x} \\ 0 &amp;amp; 1 &amp;amp; t_{y} \\ 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ 1 \end{bmatrix}$&lt;/p>
&lt;h4 id="旋转变换">&lt;a href="#%e6%97%8b%e8%bd%ac%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>旋转变换
&lt;/h4>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} \cos \theta &amp;amp; -\sin \theta &amp;amp; 0 \\ \sin \theta &amp;amp; \cos \theta &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ 1 \end{bmatrix}$&lt;/p>
&lt;h4 id="缩放变换">&lt;a href="#%e7%bc%a9%e6%94%be%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>缩放变换
&lt;/h4>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} s_{x} &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; s_{y} &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ 1 \end{bmatrix}$&lt;/p>
&lt;h4 id="反射变换-1">&lt;a href="#%e5%8f%8d%e5%b0%84%e5%8f%98%e6%8d%a2-1" class="header-anchor">&lt;/a>反射变换
&lt;/h4>&lt;h5 id="关于x轴的反射">&lt;a href="#%e5%85%b3%e4%ba%8ex%e8%bd%b4%e7%9a%84%e5%8f%8d%e5%b0%84" class="header-anchor">&lt;/a>关于x轴的反射
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; -1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ 1 \end{bmatrix}$&lt;/p>
&lt;h5 id="关于y轴的反射">&lt;a href="#%e5%85%b3%e4%ba%8ey%e8%bd%b4%e7%9a%84%e5%8f%8d%e5%b0%84" class="header-anchor">&lt;/a>关于y轴的反射
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} -1 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ 1 \end{bmatrix}$&lt;/p>
&lt;h5 id="关于原点的反射">&lt;a href="#%e5%85%b3%e4%ba%8e%e5%8e%9f%e7%82%b9%e7%9a%84%e5%8f%8d%e5%b0%84" class="header-anchor">&lt;/a>关于原点的反射
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} -1 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; -1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ 1 \end{bmatrix}$&lt;/p>
&lt;h5 id="关于对角线yx的反射-1">&lt;a href="#%e5%85%b3%e4%ba%8e%e5%af%b9%e8%a7%92%e7%ba%bfyx%e7%9a%84%e5%8f%8d%e5%b0%84-1" class="header-anchor">&lt;/a>关于对角线y=x的反射
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} 0 &amp;amp; 1 &amp;amp; 0 \\ 1 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ 1 \end{bmatrix}$&lt;/p>
&lt;h5 id="关于对角线y-x的反射-1">&lt;a href="#%e5%85%b3%e4%ba%8e%e5%af%b9%e8%a7%92%e7%ba%bfy-x%e7%9a%84%e5%8f%8d%e5%b0%84-1" class="header-anchor">&lt;/a>关于对角线y=-x的反射
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} 0 &amp;amp; -1 &amp;amp; 0 \\ -1 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ 1 \end{bmatrix}$&lt;/p>
&lt;h4 id="错切变换-1">&lt;a href="#%e9%94%99%e5%88%87%e5%8f%98%e6%8d%a2-1" class="header-anchor">&lt;/a>错切变换
&lt;/h4>&lt;h5 id="相对于线yy_ref的x方向错切">&lt;a href="#%e7%9b%b8%e5%af%b9%e4%ba%8e%e7%ba%bfyy_ref%e7%9a%84x%e6%96%b9%e5%90%91%e9%94%99%e5%88%87" class="header-anchor">&lt;/a>相对于线$y=y_{ref}$的x方向错切
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} 1 &amp;amp; sh_{x} &amp;amp; -sh_{x}\cdot y_{ref} \\ 0 &amp;amp; 1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ 1 \end{bmatrix}$&lt;/p>
&lt;h5 id="相对于线xx_ref的y方向错切">&lt;a href="#%e7%9b%b8%e5%af%b9%e4%ba%8e%e7%ba%bfxx_ref%e7%9a%84y%e6%96%b9%e5%90%91%e9%94%99%e5%88%87" class="header-anchor">&lt;/a>相对于线$x=x_{ref}$的y方向错切
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 \\ sh_{y} &amp;amp; 1 &amp;amp; -sh_{y}\cdot x_{ref} \\ 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ 1 \end{bmatrix}$&lt;/p>
&lt;h3 id="熟记三维变换的基本变换矩阵及其几何特点">&lt;a href="#%e7%86%9f%e8%ae%b0%e4%b8%89%e7%bb%b4%e5%8f%98%e6%8d%a2%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%8f%98%e6%8d%a2%e7%9f%a9%e9%98%b5%e5%8f%8a%e5%85%b6%e5%87%a0%e4%bd%95%e7%89%b9%e7%82%b9" class="header-anchor">&lt;/a>熟记三维变换的基本变换矩阵及其几何特点。
&lt;/h3>&lt;h4 id="平移变换-2">&lt;a href="#%e5%b9%b3%e7%a7%bb%e5%8f%98%e6%8d%a2-2" class="header-anchor">&lt;/a>平移变换
&lt;/h4>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; t_{x} \\ 0 &amp;amp; 1 &amp;amp; 0 &amp;amp; t_{y} \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; t_{z} \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h4 id="相对于原点的缩放变换">&lt;a href="#%e7%9b%b8%e5%af%b9%e4%ba%8e%e5%8e%9f%e7%82%b9%e7%9a%84%e7%bc%a9%e6%94%be%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>相对于原点的缩放变换
&lt;/h4>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} s_{x} &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; s_{y} &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; s_{z} &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h4 id="绕三维坐标轴的旋转变换">&lt;a href="#%e7%bb%95%e4%b8%89%e7%bb%b4%e5%9d%90%e6%a0%87%e8%bd%b4%e7%9a%84%e6%97%8b%e8%bd%ac%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>绕三维坐标轴的旋转变换
&lt;/h4>&lt;h5 id="绕z轴旋转">&lt;a href="#%e7%bb%95z%e8%bd%b4%e6%97%8b%e8%bd%ac" class="header-anchor">&lt;/a>绕z轴旋转
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} \cos \theta &amp;amp; -\sin \theta &amp;amp; 0 &amp;amp; 0 \\ \sin \theta &amp;amp; \cos \theta &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h5 id="绕x轴旋转">&lt;a href="#%e7%bb%95x%e8%bd%b4%e6%97%8b%e8%bd%ac" class="header-anchor">&lt;/a>绕x轴旋转
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; \cos \theta &amp;amp; -\sin \theta &amp;amp; 0 \\ 0 &amp;amp; \sin \theta &amp;amp; \cos \theta &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h5 id="绕y轴旋转">&lt;a href="#%e7%bb%95y%e8%bd%b4%e6%97%8b%e8%bd%ac" class="header-anchor">&lt;/a>绕y轴旋转
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} \cos \theta &amp;amp; 0 &amp;amp; \sin \theta &amp;amp; 0 \\ 0 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 \\ -\sin \theta &amp;amp; 0 &amp;amp; \cos \theta &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h4 id="反射变换-2">&lt;a href="#%e5%8f%8d%e5%b0%84%e5%8f%98%e6%8d%a2-2" class="header-anchor">&lt;/a>反射变换
&lt;/h4>&lt;h5 id="关于xy平面">&lt;a href="#%e5%85%b3%e4%ba%8exy%e5%b9%b3%e9%9d%a2" class="header-anchor">&lt;/a>关于xy平面
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; -1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h5 id="关于yz平面">&lt;a href="#%e5%85%b3%e4%ba%8eyz%e5%b9%b3%e9%9d%a2" class="header-anchor">&lt;/a>关于yz平面
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} -1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h5 id="关于xz平面">&lt;a href="#%e5%85%b3%e4%ba%8exz%e5%b9%b3%e9%9d%a2" class="header-anchor">&lt;/a>关于xz平面
&lt;/h5>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; -1 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h4 id="错切变换-2">&lt;a href="#%e9%94%99%e5%88%87%e5%8f%98%e6%8d%a2-2" class="header-anchor">&lt;/a>错切变换
&lt;/h4>&lt;p>z轴&lt;/p>
&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=\begin{bmatrix} 1 &amp;amp; 0 &amp;amp; sh_{zx} &amp;amp; -sh_{zx} \cdot z_{ref} \\ 0 &amp;amp; 1 &amp;amp; sh_{zy} &amp;amp; -sh_{zy} \cdot z_{ref} \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h4 id="变换通式-1">&lt;a href="#%e5%8f%98%e6%8d%a2%e9%80%9a%e5%bc%8f-1" class="header-anchor">&lt;/a>变换通式
&lt;/h4>&lt;p>$T_{3D}=\begin{bmatrix} a &amp;amp; b &amp;amp; c &amp;amp; l \\ d &amp;amp; e &amp;amp; f &amp;amp; m \\ h &amp;amp; i &amp;amp; j &amp;amp; n \\ p &amp;amp; q &amp;amp; r &amp;amp; s \end{bmatrix}$&lt;/p>
&lt;p>其中$\begin{bmatrix} a &amp;amp; b &amp;amp; c \\ d &amp;amp; e &amp;amp; f \\ h &amp;amp; i &amp;amp; j \end{bmatrix}$产生比例、旋转、对称、错切等几何变换；$\begin{bmatrix} 1 \\ m \\ n \end{bmatrix}$产生平移变换；$\begin{bmatrix} p &amp;amp; q &amp;amp; r \end{bmatrix}$产生透视变换；$\begin{bmatrix} s \end{bmatrix}$产生整体比例变换。&lt;/p>
&lt;h3 id="根据图形变化写出二维组合的变换矩阵">&lt;a href="#%e6%a0%b9%e6%8d%ae%e5%9b%be%e5%bd%a2%e5%8f%98%e5%8c%96%e5%86%99%e5%87%ba%e4%ba%8c%e7%bb%b4%e7%bb%84%e5%90%88%e7%9a%84%e5%8f%98%e6%8d%a2%e7%9f%a9%e9%98%b5" class="header-anchor">&lt;/a>根据图形变化，写出二维组合的变换矩阵。
&lt;/h3>&lt;p>参考试卷变换综合应用题。&lt;/p>
&lt;h2 id="第5章">&lt;a href="#%e7%ac%ac5%e7%ab%a0" class="header-anchor">&lt;/a>第5章
&lt;/h2>&lt;h3 id="cohen-sutherland编码裁剪有何缺点liang-barsky参数化裁剪算法如何改进的">&lt;a href="#cohen-sutherland%e7%bc%96%e7%a0%81%e8%a3%81%e5%89%aa%e6%9c%89%e4%bd%95%e7%bc%ba%e7%82%b9liang-barsky%e5%8f%82%e6%95%b0%e5%8c%96%e8%a3%81%e5%89%aa%e7%ae%97%e6%b3%95%e5%a6%82%e4%bd%95%e6%94%b9%e8%bf%9b%e7%9a%84" class="header-anchor">&lt;/a>Cohen-Sutherland编码裁剪有何缺点？Liang-Barsky参数化裁剪算法如何改进的？
&lt;/h3>&lt;p>由于采用按位与运算，对程序的实现有特殊的要求，在有些高级语言中不便进行。&lt;/p>
&lt;p>全部舍弃的判断只适合于那些仅在同一窗口侧的线段，对于跨越了整个区域的线段，就不能一次做出判别而舍弃。&lt;/p>
&lt;p>Liang-Barsky参数化裁剪算法所需的计算量较小，每修改一次只需要一次除法，在u1及u2确定后，直线与窗口边界的交点只需计算一次。&lt;/p>
&lt;h3 id="理解掌握坐标系统的5种坐标系的定义">&lt;a href="#%e7%90%86%e8%a7%a3%e6%8e%8c%e6%8f%a1%e5%9d%90%e6%a0%87%e7%b3%bb%e7%bb%9f%e7%9a%845%e7%a7%8d%e5%9d%90%e6%a0%87%e7%b3%bb%e7%9a%84%e5%ae%9a%e4%b9%89" class="header-anchor">&lt;/a>理解掌握坐标系统的5种坐标系的定义。
&lt;/h3>&lt;h4 id="建模坐标系">&lt;a href="#%e5%bb%ba%e6%a8%a1%e5%9d%90%e6%a0%87%e7%b3%bb" class="header-anchor">&lt;/a>建模坐标系
&lt;/h4>&lt;p>建模坐标系是一个局部坐标系，同时也是一个典型的平面直角坐标系，它的出现主要是为了模型构建与变换的方便。&lt;/p>
&lt;h4 id="世界坐标系">&lt;a href="#%e4%b8%96%e7%95%8c%e5%9d%90%e6%a0%87%e7%b3%bb" class="header-anchor">&lt;/a>世界坐标系
&lt;/h4>&lt;p>为了确定每一个对象的位置及其与其他对象的相对位置，就必须抛弃每一个对象的自身坐标系，将其纳入一个统一的坐标系，这个坐标系称为世界坐标系，也称用户坐标系，它是一个全局坐标系。&lt;/p>
&lt;h4 id="观察坐标系">&lt;a href="#%e8%a7%82%e5%af%9f%e5%9d%90%e6%a0%87%e7%b3%bb" class="header-anchor">&lt;/a>观察坐标系
&lt;/h4>&lt;p>当二维图形场景确定后，用户可根据图形显示的要求定义观察区域与观察方向，得到所期望的显示结果，这其实是需要定义视点（或照相机）的位置与方向，完成从观察者角度对整个世界坐标系内的对象进行重新定位和描述，简化后续二维图形在投影面成像的推导和计算。因此，有必要引进观察坐标系。&lt;/p>
&lt;h4 id="规范化设备坐标系">&lt;a href="#%e8%a7%84%e8%8c%83%e5%8c%96%e8%ae%be%e5%a4%87%e5%9d%90%e6%a0%87%e7%b3%bb" class="header-anchor">&lt;/a>规范化设备坐标系
&lt;/h4>&lt;p>为了使观察处理独立于输出设备，我们可以将对象描述转换到一个中间坐标系，这个坐标系既独立于设备，又可容易地转变成设备坐标系。通常将这个中间坐标系称为规范化设备坐标系。&lt;/p>
&lt;h4 id="设备坐标系">&lt;a href="#%e8%ae%be%e5%a4%87%e5%9d%90%e6%a0%87%e7%b3%bb" class="header-anchor">&lt;/a>设备坐标系
&lt;/h4>&lt;p>为了便于输出二维观察结果，设备坐标系用于定义图像空间，也可称为屏幕坐标系或像素坐标系。&lt;/p>
&lt;h3 id="解释用户域窗口屏幕域和视区的概念">&lt;a href="#%e8%a7%a3%e9%87%8a%e7%94%a8%e6%88%b7%e5%9f%9f%e7%aa%97%e5%8f%a3%e5%b1%8f%e5%b9%95%e5%9f%9f%e5%92%8c%e8%a7%86%e5%8c%ba%e7%9a%84%e6%a6%82%e5%bf%b5" class="header-anchor">&lt;/a>解释用户域、窗口、屏幕域和视区的概念。
&lt;/h3>&lt;p>用户域：用户空间，用户用来定义和设计对象的实数域，是连续的、无限的。 &lt;/p>
&lt;p>窗口区：用户把用户域中指定任意的区域输出到屏幕上。 &lt;/p>
&lt;p>屏幕域：图形设备上用来输出图形的最大区域，它是有限的、不连续的整数域。&lt;/p>
&lt;p>视图区：屏幕域中定义的显示图形的区域，称为视图区。&lt;/p>
&lt;h3 id="理解掌握窗口到视区变换方程的矩阵形式">&lt;a href="#%e7%90%86%e8%a7%a3%e6%8e%8c%e6%8f%a1%e7%aa%97%e5%8f%a3%e5%88%b0%e8%a7%86%e5%8c%ba%e5%8f%98%e6%8d%a2%e6%96%b9%e7%a8%8b%e7%9a%84%e7%9f%a9%e9%98%b5%e5%bd%a2%e5%bc%8f" class="header-anchor">&lt;/a>理解掌握窗口到视区变换方程的矩阵形式。
&lt;/h3>&lt;p>窗口w，视区v：$\begin{bmatrix} x_{v} &amp;amp; y_{v} &amp;amp; 1 \end{bmatrix}=\begin{bmatrix} x_{w} &amp;amp; y_{w} &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} a &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; -c &amp;amp; 0 \\ b &amp;amp; d &amp;amp; 1 \end{bmatrix}$&lt;/p>
&lt;p>$X_{v}=X_{v1}+\dfrac{X_{v2}-X_{v1}}{X_{w2}-X_{w1}}(X_{w} - X_{w1})$&lt;/p>
&lt;p>$Y_{v}=Y_{v1}+\dfrac{Y_{v2}-Y_{v1}}{Y_{w2}-Y_{w1}}(Y_{w} - Y_{w1})$&lt;/p>
&lt;p>若视区大小不变，窗口缩小或放大，会使图形放大或缩小。&lt;/p>
&lt;p>若窗口大小不变，视区缩小或放大，会使图形跟着缩小或放大。&lt;/p>
&lt;p>若窗口与视区大小相同时，则图形大小比例不变。&lt;/p>
&lt;p>若视区与窗口纵横比不同时，则图形会产生伸缩变形。&lt;/p>
&lt;h3 id="写出直线段编码裁剪算法的原理和步骤">&lt;a href="#%e5%86%99%e5%87%ba%e7%9b%b4%e7%ba%bf%e6%ae%b5%e7%bc%96%e7%a0%81%e8%a3%81%e5%89%aa%e7%ae%97%e6%b3%95%e7%9a%84%e5%8e%9f%e7%90%86%e5%92%8c%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>写出直线段编码裁剪算法的原理和步骤。
&lt;/h3>&lt;h4 id="编码裁剪算法">&lt;a href="#%e7%bc%96%e7%a0%81%e8%a3%81%e5%89%aa%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>编码裁剪算法
&lt;/h4>&lt;p>把窗口边界延长分成9个区，每个区用四位二进制数进行编码，根据编码的值或逻辑运算进行位置判断。&lt;/p>
&lt;ol>
&lt;li>如果线段两个端点的4位编码全为0，则此线段在窗口内，可直接输出；&lt;/li>
&lt;li>若线段两端点的编码逻辑与（位乘）不为0，则线段全部在窗口之外，舍弃； &lt;/li>
&lt;li>除上之外，线段与窗口有交点，求交点。求直线与窗口边界的交点，用交点分割线段，舍弃交点以外部分；以交点为界进一步求交判断，并进行分割；裁剪的次序：按编码值；结束标志：编码值全部为零。&lt;/li>
&lt;/ol>
&lt;h4 id="中点分割算法">&lt;a href="#%e4%b8%ad%e7%82%b9%e5%88%86%e5%89%b2%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>中点分割算法
&lt;/h4>&lt;p>二分法递归搜索方法，看中点是否在区域内并递归计算。&lt;/p>
&lt;h4 id="矢量梁友栋裁剪算法">&lt;a href="#%e7%9f%a2%e9%87%8f%e6%a2%81%e5%8f%8b%e6%a0%8b%e8%a3%81%e5%89%aa%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>矢量(梁友栋)裁剪算法
&lt;/h4>&lt;p>确定始、终边；求直线与窗边交点；求始边两交点中距离P2最近点，赋予Ps；求终边两交点中距离P1最近点，赋予Pe；输出有效线段PsPe。&lt;/p>
&lt;h4 id="快速裁剪算法">&lt;a href="#%e5%bf%ab%e9%80%9f%e8%a3%81%e5%89%aa%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>快速裁剪算法
&lt;/h4>&lt;ol>
&lt;li>判断直线是否完全在窗内&lt;/li>
&lt;li>端点的X坐标相同，若不成立&lt;/li>
&lt;li>求P1 P2直线的斜率&lt;/li>
&lt;li>根据k值计算判别式的值若不大于0&lt;/li>
&lt;li>求直线和窗口四条边界的交点并单向排序&lt;/li>
&lt;li>取出中间两点组成窗内线段输出。&lt;/li>
&lt;/ol>
&lt;h4 id="排序裁剪算法">&lt;a href="#%e6%8e%92%e5%ba%8f%e8%a3%81%e5%89%aa%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>排序裁剪算法
&lt;/h4>&lt;p>详见参考资料。&lt;/p>
&lt;h3 id="写出多边形逐边裁剪算法的原理和步骤">&lt;a href="#%e5%86%99%e5%87%ba%e5%a4%9a%e8%be%b9%e5%bd%a2%e9%80%90%e8%be%b9%e8%a3%81%e5%89%aa%e7%ae%97%e6%b3%95%e7%9a%84%e5%8e%9f%e7%90%86%e5%92%8c%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>写出多边形逐边裁剪算法的原理和步骤。
&lt;/h3>&lt;p>多边形的裁剪算法分为：逐边裁剪法和双边裁剪法。&lt;/p>
&lt;h4 id="逐边裁剪法">&lt;a href="#%e9%80%90%e8%be%b9%e8%a3%81%e5%89%aa%e6%b3%95" class="header-anchor">&lt;/a>逐边裁剪法
&lt;/h4>&lt;ol>
&lt;li>先把待裁的多边形的顶点组成有序的点列；&lt;/li>
&lt;li>相邻两点组成边，如P1P2,P3P4,…,PnP1，共N条边；&lt;/li>
&lt;li>用窗口的四条边依次裁剪多边形的每个边，并求出有效交点。&lt;/li>
&lt;li>把有效端点连接起来，组成新的多边形。&lt;/li>
&lt;/ol>
&lt;h4 id="双边裁剪法">&lt;a href="#%e5%8f%8c%e8%be%b9%e8%a3%81%e5%89%aa%e6%b3%95" class="header-anchor">&lt;/a>双边裁剪法
&lt;/h4>&lt;ol>
&lt;li>把多边形顶点按逆时针排成一个有序的点环；&lt;/li>
&lt;li>按多边形的排序方法把窗口顶点排序；&lt;/li>
&lt;li>从多边形的任意顶点出发，顺着环方向搜索多边形顶点，位于窗内的顶点和多边形与窗口的有效交点；
&lt;ol>
&lt;li>遇到入点时，不改变搜索方向。&lt;/li>
&lt;li>遇到出点时，改变搜索方向：
&lt;ol>
&lt;li>在出点处转弯，转弯方向和顶点排序方向一致；&lt;/li>
&lt;li>沿窗口有效边方向前进，搜索到该边和多边形的交点，直到遇到新交点时为止。&lt;/li>
&lt;li>当遇到新交点时，抬笔返回到原来的出点。&lt;/li>
&lt;li>然后沿原来方向继续搜索。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>到达搜索起点使结束。&lt;/li>
&lt;/ol>
&lt;h3 id="某直线端点的编码为0010写出其端点坐标和窗口四条边界的关系">&lt;a href="#%e6%9f%90%e7%9b%b4%e7%ba%bf%e7%ab%af%e7%82%b9%e7%9a%84%e7%bc%96%e7%a0%81%e4%b8%ba0010%e5%86%99%e5%87%ba%e5%85%b6%e7%ab%af%e7%82%b9%e5%9d%90%e6%a0%87%e5%92%8c%e7%aa%97%e5%8f%a3%e5%9b%9b%e6%9d%a1%e8%be%b9%e7%95%8c%e7%9a%84%e5%85%b3%e7%b3%bb" class="header-anchor">&lt;/a>某直线端点的编码为0010，写出其端点坐标和窗口四条边界的关系？
&lt;/h3>&lt;p>应在最右边中间区，在窗口之外。&lt;/p>
&lt;h2 id="第6章">&lt;a href="#%e7%ac%ac6%e7%ab%a0" class="header-anchor">&lt;/a>第6章
&lt;/h2>&lt;h3 id="理解掌握投影的定义分类">&lt;a href="#%e7%90%86%e8%a7%a3%e6%8e%8c%e6%8f%a1%e6%8a%95%e5%bd%b1%e7%9a%84%e5%ae%9a%e4%b9%89%e5%88%86%e7%b1%bb" class="header-anchor">&lt;/a>理解掌握投影的定义、分类。
&lt;/h3>&lt;p>通常把三维物体变为二维图形表示的过程称为投影变换。&lt;/p>
&lt;p>根据投影中心与投影平面之间距离的不同，投影可分为平行投影和透视投影。&lt;/p>
&lt;h3 id="理解掌握三视图形成的变换矩阵">&lt;a href="#%e7%90%86%e8%a7%a3%e6%8e%8c%e6%8f%a1%e4%b8%89%e8%a7%86%e5%9b%be%e5%bd%a2%e6%88%90%e7%9a%84%e5%8f%98%e6%8d%a2%e7%9f%a9%e9%98%b5" class="header-anchor">&lt;/a>理解掌握三视图形成的变换矩阵。
&lt;/h3>&lt;h4 id="主视图">&lt;a href="#%e4%b8%bb%e8%a7%86%e5%9b%be" class="header-anchor">&lt;/a>主视图
&lt;/h4>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=T_{v} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix} = \begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h4 id="俯视图">&lt;a href="#%e4%bf%af%e8%a7%86%e5%9b%be" class="header-anchor">&lt;/a>俯视图
&lt;/h4>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=T_{v} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix} = \begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; -1 &amp;amp; 0 &amp;amp; -z_{0} \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h4 id="侧视图">&lt;a href="#%e4%be%a7%e8%a7%86%e5%9b%be" class="header-anchor">&lt;/a>侧视图
&lt;/h4>&lt;p>$\begin{bmatrix} x&amp;rsquo; \\ y&amp;rsquo; \\ z&amp;rsquo; \\ 1 \end{bmatrix}=T_{v} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix} = \begin{bmatrix} 0 &amp;amp; -1 &amp;amp; 0 &amp;amp; -x_{0} \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix} \cdot \begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix}$&lt;/p>
&lt;h3 id="理解三维观察过程中的坐标形式及其转化">&lt;a href="#%e7%90%86%e8%a7%a3%e4%b8%89%e7%bb%b4%e8%a7%82%e5%af%9f%e8%bf%87%e7%a8%8b%e4%b8%ad%e7%9a%84%e5%9d%90%e6%a0%87%e5%bd%a2%e5%bc%8f%e5%8f%8a%e5%85%b6%e8%bd%ac%e5%8c%96" class="header-anchor">&lt;/a>理解三维观察过程中的坐标形式及其转化。
&lt;/h3>&lt;p>轴侧图是用平行投影的方法在二维平面上产生同时反映物体长、宽、高三个方向形状的一种立体图。&lt;/p>
&lt;ol>
&lt;li>先使形体绕z轴正转α角：&lt;/li>
&lt;/ol>
&lt;p>$T_{1}=\begin{bmatrix} \cos \alpha &amp;amp; \sin \alpha &amp;amp; 0 &amp;amp; 0 \\ -\sin \alpha &amp;amp; \cos \alpha &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix}$&lt;/p>
&lt;ol start="2">
&lt;li>再使形体绕x轴反转β（β&amp;lt;0）角 ：&lt;/li>
&lt;/ol>
&lt;p>$T_{2}=\begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; \cos \beta &amp;amp; \sin \beta &amp;amp; 0 \\ 0 &amp;amp; -\sin \beta &amp;amp; \cos \beta &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix}$&lt;/p>
&lt;ol start="3">
&lt;li>使形体向xoz面压缩 ：&lt;/li>
&lt;/ol>
&lt;p>$T_{3}=\begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \end{bmatrix}$&lt;/p>
&lt;ol start="4">
&lt;li>轴测图的变换矩阵 ：&lt;/li>
&lt;/ol>
&lt;p>$T=T_{1}\cdot T_{2}\cdot T_{3}$&lt;/p>
&lt;h2 id="第7章">&lt;a href="#%e7%ac%ac7%e7%ab%a0" class="header-anchor">&lt;/a>第7章
&lt;/h2>&lt;h3 id="什么是实体实体有哪些属性">&lt;a href="#%e4%bb%80%e4%b9%88%e6%98%af%e5%ae%9e%e4%bd%93%e5%ae%9e%e4%bd%93%e6%9c%89%e5%93%aa%e4%ba%9b%e5%b1%9e%e6%80%a7" class="header-anchor">&lt;/a>什么是实体？实体有哪些属性？
&lt;/h3>&lt;p>空间点的集合，或由封闭表面围成的空间，是非空、有界的封闭的点集。&lt;/p>
&lt;p>形状不变性：一个实体必须具有不变的形状，形状与实体的位置与方向无关。&lt;/p>
&lt;p>维度一致性：实体的各个部分均应是三维的，不存在孤点、悬边等。&lt;/p>
&lt;p>空间有限性：占有有限空间、边界确定且封闭。&lt;/p>
&lt;p>实体边界的性质：&lt;/p>
&lt;p>连通性：任意两点之间总存在一条路径。&lt;/p>
&lt;p>有界性：实体表面将空间分为两部分，其中一部分是有界的。&lt;/p>
&lt;p>定向性：表面两侧明显定义出属于实体的内侧和外侧。&lt;/p>
&lt;p>非自交性：实体表面不能自身相交。&lt;/p>
&lt;p>闭合性：每条边有两个且只有两个点，每条边连接两个或两个以上的面。&lt;/p>
&lt;h3 id="构成实体基本元素有哪些描述实体的信息哪几部分">&lt;a href="#%e6%9e%84%e6%88%90%e5%ae%9e%e4%bd%93%e5%9f%ba%e6%9c%ac%e5%85%83%e7%b4%a0%e6%9c%89%e5%93%aa%e4%ba%9b%e6%8f%8f%e8%bf%b0%e5%ae%9e%e4%bd%93%e7%9a%84%e4%bf%a1%e6%81%af%e5%93%aa%e5%87%a0%e9%83%a8%e5%88%86" class="header-anchor">&lt;/a>构成实体基本元素有哪些？描述实体的信息哪几部分？
&lt;/h3>&lt;p>构成实体的基本元素：点、边、环、面、体&lt;/p>
&lt;p>描述实体的信息：几何信息、拓扑信息&lt;/p>
&lt;h3 id="欧拉公式是判断实体的条件和公式是什么">&lt;a href="#%e6%ac%a7%e6%8b%89%e5%85%ac%e5%bc%8f%e6%98%af%e5%88%a4%e6%96%ad%e5%ae%9e%e4%bd%93%e7%9a%84%e6%9d%a1%e4%bb%b6%e5%92%8c%e5%85%ac%e5%bc%8f%e6%98%af%e4%bb%80%e4%b9%88" class="header-anchor">&lt;/a>欧拉公式是判断实体的条件和公式是什么？
&lt;/h3>&lt;p>符合欧拉公式的多面体不一定是实体，欧拉计算公式只是检查实体有效性的必要条件&lt;/p>
&lt;p>简单多面体：&lt;br>
V：顶点数，E：边数，F：表面数&lt;/p>
$$V-E+F=2$$&lt;p>非简单多面体：&lt;br>
H：多面体表面上孔个数，G：贯穿多面体的孔个数，C：表示独立、不相连的多面体数。&lt;/p>
$$V–E+F–H=2(C–G)$$&lt;h3 id="实体的表示方法有几种">&lt;a href="#%e5%ae%9e%e4%bd%93%e7%9a%84%e8%a1%a8%e7%a4%ba%e6%96%b9%e6%b3%95%e6%9c%89%e5%87%a0%e7%a7%8d" class="header-anchor">&lt;/a>实体的表示方法有几种？
&lt;/h3>&lt;ul>
&lt;li>边界表示&lt;/li>
&lt;li>扫描表示&lt;/li>
&lt;li>构造几何实体表示（CSG）&lt;/li>
&lt;li>空间细分表示&lt;/li>
&lt;/ul>
&lt;h3 id="理解参数曲线连续性的数学意义和几何意义">&lt;a href="#%e7%90%86%e8%a7%a3%e5%8f%82%e6%95%b0%e6%9b%b2%e7%ba%bf%e8%bf%9e%e7%bb%ad%e6%80%a7%e7%9a%84%e6%95%b0%e5%ad%a6%e6%84%8f%e4%b9%89%e5%92%8c%e5%87%a0%e4%bd%95%e6%84%8f%e4%b9%89" class="header-anchor">&lt;/a>理解参数曲线连续性的数学意义和几何意义。
&lt;/h3>&lt;p>工程上所用到的曲线一般要求为平滑曲线，且要按照指定的点序列来生成，这就是样条曲线。样条曲线是由多项式曲线段连接而成的曲线，要求相邻线段的边界处满足特定的连续定条件。&lt;/p>
&lt;h3 id="掌握h曲线的矩阵形式和调和函数以及端点切矢对曲线形状的影响">&lt;a href="#%e6%8e%8c%e6%8f%a1h%e6%9b%b2%e7%ba%bf%e7%9a%84%e7%9f%a9%e9%98%b5%e5%bd%a2%e5%bc%8f%e5%92%8c%e8%b0%83%e5%92%8c%e5%87%bd%e6%95%b0%e4%bb%a5%e5%8f%8a%e7%ab%af%e7%82%b9%e5%88%87%e7%9f%a2%e5%af%b9%e6%9b%b2%e7%ba%bf%e5%bd%a2%e7%8a%b6%e7%9a%84%e5%bd%b1%e5%93%8d" class="header-anchor">&lt;/a>掌握H曲线的矩阵形式和调和函数以及端点切矢对曲线形状的影响。
&lt;/h3>&lt;p>矩阵形式：&lt;/p>
$$Q(t)=\begin{bmatrix} t^{3} &amp; t^{2} &amp; t &amp; 1 \end{bmatrix} \cdot \begin{bmatrix} a \\\ b \\\ c \\\ d \end{bmatrix}(0 \le t \le 1)$$&lt;p>调和函数：&lt;/p>
$$
\begin{aligned}
Fh(t) &amp;= T \cdot Mh \\
&amp;= \begin{bmatrix} t^3 &amp; t^2 &amp; t &amp; 1 \end{bmatrix} \cdot \begin{bmatrix} 2 &amp; -2 &amp; 1 &amp; 1 \\ -3 &amp; 3 &amp; -2 &amp; -1 \\ 0 &amp; 0 &amp; 1 &amp; 0 \\ 1 &amp; 0 &amp; 0 &amp; 0 \end{bmatrix} \\
&amp;= \begin{bmatrix} Fh1 &amp; Fh2 &amp; Fh3 &amp; Fh4 \end{bmatrix}
\end{aligned}
$$&lt;p>切线矢量：&lt;/p>
&lt;p>切线方向：当其长度不变时，随着切线的角度增加，切线的凸包性也增加。&lt;/p>
&lt;p>切线大小：曲线两端点的切矢为Q&amp;rsquo;(0)和Q&amp;rsquo;(1)，单位矢量分别为：$E_{0}=\dfrac{Q&amp;rsquo;\left( 0\right) }{\left| Q&amp;rsquo;\left( 0\right) \right| }$、$E_{1}=\dfrac{Q&amp;rsquo;\left( 1\right) }{\left| Q&amp;rsquo;\left( 1\right) \right| }$
令：︱Q&amp;rsquo;(0)︱=k0，︱Q&amp;rsquo;(1)︱=k1，则：Q&amp;rsquo;(0)= R0=k0E0，Q&amp;rsquo;(1)=R1=k1E1，改变k0 k1值，改变切线长度，切线的凸包性也增加。&lt;/p>
&lt;h3 id="掌握h曲线段的连续条件和边界条件">&lt;a href="#%e6%8e%8c%e6%8f%a1h%e6%9b%b2%e7%ba%bf%e6%ae%b5%e7%9a%84%e8%bf%9e%e7%bb%ad%e6%9d%a1%e4%bb%b6%e5%92%8c%e8%be%b9%e7%95%8c%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>掌握H曲线段的连续条件和边界条件？
&lt;/h3>&lt;h4 id="连续条件">&lt;a href="#%e8%bf%9e%e7%bb%ad%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>连续条件
&lt;/h4>&lt;p>在连接点处，二阶导数连续(一阶导数相等)。&lt;/p>
&lt;h4 id="边界条件">&lt;a href="#%e8%be%b9%e7%95%8c%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>边界条件
&lt;/h4>&lt;p>边界条件分为自由端、夹持端、抛物线端和循环端。&lt;/p>
&lt;p>自由端：根据力学条件，两端点处二阶导数为0。&lt;/p>
&lt;h3 id="理解掌握特征多边形与b曲线形状和次数的关系">&lt;a href="#%e7%90%86%e8%a7%a3%e6%8e%8c%e6%8f%a1%e7%89%b9%e5%be%81%e5%a4%9a%e8%be%b9%e5%bd%a2%e4%b8%8eb%e6%9b%b2%e7%ba%bf%e5%bd%a2%e7%8a%b6%e5%92%8c%e6%ac%a1%e6%95%b0%e7%9a%84%e5%85%b3%e7%b3%bb" class="header-anchor">&lt;/a>理解掌握特征多边形与B曲线形状和次数的关系。
&lt;/h3>&lt;p>B曲线是通过一组多边形折线的顶点来定义的。如果折线的顶点固定不变，则由其定义的Bezier曲线是唯一的。在折线的各顶点中，只有第一点和最后一点在曲线上且作为曲线的起始处和终止处，其他的点用于控制曲线的形状及阶次。&lt;/p>
&lt;h3 id="理解b曲线的性质和端点切矢与边长的关系">&lt;a href="#%e7%90%86%e8%a7%a3b%e6%9b%b2%e7%ba%bf%e7%9a%84%e6%80%a7%e8%b4%a8%e5%92%8c%e7%ab%af%e7%82%b9%e5%88%87%e7%9f%a2%e4%b8%8e%e8%be%b9%e9%95%bf%e7%9a%84%e5%85%b3%e7%b3%bb" class="header-anchor">&lt;/a>理解B曲线的性质和端点切矢与边长的关系。
&lt;/h3>&lt;h4 id="端点性质">&lt;a href="#%e7%ab%af%e7%82%b9%e6%80%a7%e8%b4%a8" class="header-anchor">&lt;/a>端点性质
&lt;/h4>&lt;p>Bezier曲线在起点、终点与相应的控制多边形相切，且在起点和终点处的切线方向与控制多边形的第一条边和最后一条边的走向一致。&lt;/p>
&lt;h4 id="对称性">&lt;a href="#%e5%af%b9%e7%a7%b0%e6%80%a7" class="header-anchor">&lt;/a>对称性
&lt;/h4>&lt;p>只要保持特征多边形的顶点位置不变，但顺序颠倒，所得新的Beizer曲线形状不变，知识参数变化的方向相反。&lt;/p>
&lt;h4 id="凸包性">&lt;a href="#%e5%87%b8%e5%8c%85%e6%80%a7" class="header-anchor">&lt;/a>凸包性
&lt;/h4>&lt;p>Bezier曲线一定落在其控制多边形的凸包中。&lt;/p>
&lt;h4 id="几何不变性">&lt;a href="#%e5%87%a0%e4%bd%95%e4%b8%8d%e5%8f%98%e6%80%a7" class="header-anchor">&lt;/a>几何不变性
&lt;/h4>&lt;p>Beizer曲线的形状不随坐标变换而变化，只与各控制顶点的相对位置有关。&lt;/p>
&lt;p>端点处切线长度等于特征多边形首、末边长的n倍。&lt;/p>
&lt;p>工程上所使用的曲线次数不大于3。&lt;/p>
&lt;h3 id="理解掌握b曲线拼接的条件">&lt;a href="#%e7%90%86%e8%a7%a3%e6%8e%8c%e6%8f%a1b%e6%9b%b2%e7%ba%bf%e6%8b%bc%e6%8e%a5%e7%9a%84%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>理解掌握B曲线拼接的条件。
&lt;/h3>&lt;p>在连接处满足C¹和C²连续。&lt;/p>
&lt;p>掌握Bezier和B样条曲线的矩阵形式。&lt;/p>
&lt;p>一次Bezier曲线：&lt;/p>
&lt;p>$Q(t)=\begin{bmatrix} t &amp;amp; 1 \end{bmatrix}\begin{bmatrix} -1 &amp;amp; 1 \\ 1 &amp;amp; 0 \end{bmatrix}\begin{bmatrix} P_{0} \\ P_{1} \end{bmatrix}$&lt;/p>
&lt;p>二次Bezier曲线：&lt;/p>
&lt;p>$Q(t)=\begin{bmatrix} t^{2} &amp;amp; t &amp;amp; 1 \end{bmatrix}\begin{bmatrix} 1 &amp;amp; -2 &amp;amp; 1 \\ -2 &amp;amp; 2 &amp;amp; 0 \\ 1 &amp;amp; 0 &amp;amp; 0 \end{bmatrix}\begin{bmatrix} P_{0} \\ P_{1} \\ P_{2} \end{bmatrix}$&lt;/p>
&lt;p>三次Bezier曲线：&lt;/p>
&lt;p>$Q(t)=\begin{bmatrix} t^{3} &amp;amp; t^{2} &amp;amp; t &amp;amp; 1 \end{bmatrix}\begin{bmatrix} -1 &amp;amp; 3 &amp;amp; -3 &amp;amp; 1 \\ 3 &amp;amp; -6 &amp;amp; 3 &amp;amp; 0 \\ -3 &amp;amp; 3 &amp;amp; 0 &amp;amp; 0 \\ 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \end{bmatrix}\begin{bmatrix} P_{0} \\ P_{1} \\ P_{2} \\ P_{3} \end{bmatrix}$&lt;/p>
&lt;p>一次B样条曲线：&lt;/p>
&lt;p>$Q_{i,1}(t)=\begin{bmatrix} t &amp;amp; 1 \end{bmatrix}\begin{bmatrix} -1 &amp;amp; 1 \\ 1 &amp;amp; 0 \end{bmatrix}\begin{bmatrix} P_{0} \\ P_{1} \end{bmatrix}$&lt;/p>
&lt;p>二次B样条曲线：&lt;/p>
&lt;p>$Q_{i,2}(t)=\begin{bmatrix} t^{2} &amp;amp; t &amp;amp; 1 \end{bmatrix}\begin{bmatrix} 1 &amp;amp; -2 &amp;amp; 1 \\ -2 &amp;amp; 2 &amp;amp; 0 \\ 1 &amp;amp; 1 &amp;amp; 0 \end{bmatrix}\begin{bmatrix} P_{0} \\ P_{1} \\ P_{2} \end{bmatrix}$&lt;/p>
&lt;p>三次B样条曲线：&lt;/p>
&lt;p>$Q_{i,3}(t)=\begin{bmatrix} t^{3} &amp;amp; t^{2} &amp;amp; t &amp;amp; 1 \end{bmatrix}\begin{bmatrix} -1 &amp;amp; 3 &amp;amp; -3 &amp;amp; 1 \\ 3 &amp;amp; -6 &amp;amp; 3 &amp;amp; 0 \\ -3 &amp;amp; 0 &amp;amp; 3 &amp;amp; 0 \\ 1 &amp;amp; 4 &amp;amp; 1 &amp;amp; 0 \end{bmatrix}\begin{bmatrix} P_{0} \\ P_{1} \\ P_{2} \\ P_{3} \end{bmatrix}$&lt;/p>
&lt;h3 id="掌握特征多边形与bezier和b样条曲线形状和次数关系">&lt;a href="#%e6%8e%8c%e6%8f%a1%e7%89%b9%e5%be%81%e5%a4%9a%e8%be%b9%e5%bd%a2%e4%b8%8ebezier%e5%92%8cb%e6%a0%b7%e6%9d%a1%e6%9b%b2%e7%ba%bf%e5%bd%a2%e7%8a%b6%e5%92%8c%e6%ac%a1%e6%95%b0%e5%85%b3%e7%b3%bb" class="header-anchor">&lt;/a>掌握特征多边形与Bezier和B样条曲线形状和次数关系。
&lt;/h3>&lt;p>若给定m+n+1个顶点，则第i段n次等距离分割的B样条曲线函数为&lt;/p>
$$Q_{i,n}\left( t\right) =\sum ^{n}_{i=0}P_{i+1}F_{l,n}\left( t\right) , l=0,l\dots n, t\in [0,1]$$&lt;h3 id="理解bezier和b样条曲线的性质和端点条件">&lt;a href="#%e7%90%86%e8%a7%a3bezier%e5%92%8cb%e6%a0%b7%e6%9d%a1%e6%9b%b2%e7%ba%bf%e7%9a%84%e6%80%a7%e8%b4%a8%e5%92%8c%e7%ab%af%e7%82%b9%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>理解Bezier和B样条曲线的性质和端点条件。
&lt;/h3>&lt;p>曲线的首末端点位于首末段的中点。&lt;/p>
&lt;h3 id="理解掌握bezier曲线拼接的条件">&lt;a href="#%e7%90%86%e8%a7%a3%e6%8e%8c%e6%8f%a1bezier%e6%9b%b2%e7%ba%bf%e6%8b%bc%e6%8e%a5%e7%9a%84%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>理解掌握Bezier曲线拼接的条件。
&lt;/h3>&lt;p>在连接处具有一阶、二阶导数连续。&lt;/p>
&lt;h3 id="熟练掌握3次b样条曲线段端点的作图方法和几何特性">&lt;a href="#%e7%86%9f%e7%bb%83%e6%8e%8c%e6%8f%a13%e6%ac%a1b%e6%a0%b7%e6%9d%a1%e6%9b%b2%e7%ba%bf%e6%ae%b5%e7%ab%af%e7%82%b9%e7%9a%84%e4%bd%9c%e5%9b%be%e6%96%b9%e6%b3%95%e5%92%8c%e5%87%a0%e4%bd%95%e7%89%b9%e6%80%a7" class="header-anchor">&lt;/a>熟练掌握3次B样条曲线段端点的作图方法和几何特性。
&lt;/h3>&lt;ol>
&lt;li>确定型值点Qi (i=1，2，……… ，n)；&lt;/li>
&lt;li>根据曲线类型，建立反求特征点的矩阵形式；&lt;/li>
&lt;li>求出多边形的顶点表；&lt;/li>
&lt;li>根据精度要求确定插值点数，绘制样条曲线。
&lt;ol>
&lt;li>
&lt;p>反向延伸：&lt;br>
$P_{1} P_{0}$的延长线上取一点$P_{-1}$，使得：
&lt;/p>
$$P_{-1} P_{0}= P_{0} P_{1}$$$$P_{n} P_{n+1}= P_{n-1}P_{n}$$&lt;p>
&lt;img src="https://boiltask.com/knowledge/computer-graphics-note/image-1.png"
width="264"
height="220"
srcset="https://boiltask.com/knowledge/computer-graphics-note/image-1_hu18340772105635363912.png 480w, https://boiltask.com/knowledge/computer-graphics-note/image-1_hu11435206957440172037.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="120"
data-flex-basis="288px"
>&lt;br>
求得：
&lt;/p>
$$P_{-1}= 2 P_{0} - P_{1}$$$$P_{4}= 2 P_{3} - P_{2}$$&lt;/li>
&lt;li>
&lt;p>重点技术：&lt;br>
&lt;img src="https://boiltask.com/knowledge/computer-graphics-note/image-2.png"
width="389"
height="197"
srcset="https://boiltask.com/knowledge/computer-graphics-note/image-2_hu13699975216508309066.png 480w, https://boiltask.com/knowledge/computer-graphics-note/image-2_hu16335215033749882580.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="197"
data-flex-basis="473px"
>&lt;br>
在首末端点处采用重合点，使得：
&lt;/p>
$$P_{-2}\equiv P_{-1} \equiv P_{0}$$$$P_{n+2}\equiv P_{n+1} \equiv P_{n}$$&lt;p>
$Q_{-1}$位于$P_{0} P_{1}$的三分之一处。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="理解掌握b样条曲线的局部修改和扩展性质">&lt;a href="#%e7%90%86%e8%a7%a3%e6%8e%8c%e6%8f%a1b%e6%a0%b7%e6%9d%a1%e6%9b%b2%e7%ba%bf%e7%9a%84%e5%b1%80%e9%83%a8%e4%bf%ae%e6%94%b9%e5%92%8c%e6%89%a9%e5%b1%95%e6%80%a7%e8%b4%a8" class="header-anchor">&lt;/a>理解掌握B样条曲线的局部修改和扩展性质。
&lt;/h3>&lt;p>当改变一个控制点的位置，最多影响四个曲线段 。&lt;/p>
&lt;p>增加一个控制点，增加一段B样条曲线，原有的B样条曲线不受影响，新增曲线段与原曲线在连接处具有一阶、二阶导数连续。&lt;/p>
&lt;h3 id="理解掌握曲面片的构造条件">&lt;a href="#%e7%90%86%e8%a7%a3%e6%8e%8c%e6%8f%a1%e6%9b%b2%e9%9d%a2%e7%89%87%e7%9a%84%e6%9e%84%e9%80%a0%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>理解掌握曲面片的构造条件
&lt;/h3>&lt;p>曲线相交构成空间网格，所有交点的集合构成了曲面片。&lt;/p>
&lt;h3 id="掌握孔斯曲面的矩阵形式和边界条件">&lt;a href="#%e6%8e%8c%e6%8f%a1%e5%ad%94%e6%96%af%e6%9b%b2%e9%9d%a2%e7%9a%84%e7%9f%a9%e9%98%b5%e5%bd%a2%e5%bc%8f%e5%92%8c%e8%be%b9%e7%95%8c%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>掌握孔斯曲面的矩阵形式和边界条件
&lt;/h3>&lt;p>$C=\begin{bmatrix} P_{00} &amp;amp; P_{01} &amp;amp; P_{00}^{v} &amp;amp; P_{01}^{v} \\ P_{10} &amp;amp; P_{11} &amp;amp; P_{10}^{v} &amp;amp; P_{11}^{v} \\ P_{00}^{u} &amp;amp; P_{10}^{u} &amp;amp; 0 &amp;amp; 0 \\ P_{10}^{u} &amp;amp; P_{11}^{u} &amp;amp; 0 &amp;amp; 0 \end{bmatrix}$&lt;/p>
&lt;p>四个角点、四条边界、八个切线矢量&lt;/p>
&lt;h3 id="能写出孔斯曲面边界上任意位置矢量的矩阵形式">&lt;a href="#%e8%83%bd%e5%86%99%e5%87%ba%e5%ad%94%e6%96%af%e6%9b%b2%e9%9d%a2%e8%be%b9%e7%95%8c%e4%b8%8a%e4%bb%bb%e6%84%8f%e4%bd%8d%e7%bd%ae%e7%9f%a2%e9%87%8f%e7%9a%84%e7%9f%a9%e9%98%b5%e5%bd%a2%e5%bc%8f" class="header-anchor">&lt;/a>能写出孔斯曲面边界上任意位置矢量的矩阵形式
&lt;/h3>&lt;p>参考课本与PPT&lt;/p>
&lt;h3 id="理解掌握孔斯曲面片拼接的条件">&lt;a href="#%e7%90%86%e8%a7%a3%e6%8e%8c%e6%8f%a1%e5%ad%94%e6%96%af%e6%9b%b2%e9%9d%a2%e7%89%87%e6%8b%bc%e6%8e%a5%e7%9a%84%e6%9d%a1%e4%bb%b6" class="header-anchor">&lt;/a>理解掌握孔斯曲面片拼接的条件
&lt;/h3>&lt;p>在拼接处C1连续。&lt;/p>
&lt;p>$P_{10} \equiv Q_{00}$、$P_{11} \equiv Q_{01}$&lt;/p>
&lt;p>$P_{10}^{w} \equiv Q_{00}^{w}$、$P_{11}^{w} \equiv Q_{01}^{w}$&lt;/p>
&lt;p>$P_{1j}^{u} \equiv Q_{0j}^{u}$&lt;/p>
&lt;p>$P_{1j}^{u} \equiv a Q_{0j}^{u}$&lt;/p>
&lt;h2 id="第8章">&lt;a href="#%e7%ac%ac8%e7%ab%a0" class="header-anchor">&lt;/a>第8章
&lt;/h2>&lt;h3 id="消隐算法可以分成几类分类原则是什么">&lt;a href="#%e6%b6%88%e9%9a%90%e7%ae%97%e6%b3%95%e5%8f%af%e4%bb%a5%e5%88%86%e6%88%90%e5%87%a0%e7%b1%bb%e5%88%86%e7%b1%bb%e5%8e%9f%e5%88%99%e6%98%af%e4%bb%80%e4%b9%88" class="header-anchor">&lt;/a>消隐算法可以分成几类？分类原则是什么？
&lt;/h3>&lt;p>根据消隐对象：线消隐、面消隐&lt;/p>
&lt;p>根据消隐算法空间：物体空间消隐算法、图像空间消隐算法&lt;/p>
&lt;p>消隐：消除形体视图中隐藏线（面）的处理过程&lt;/p>
&lt;p>消隐的基本原则：排序、连贯性&lt;/p>
&lt;h3 id="外法线消隐算法的基本原理是什么写出其算法步骤">&lt;a href="#%e5%a4%96%e6%b3%95%e7%ba%bf%e6%b6%88%e9%9a%90%e7%ae%97%e6%b3%95%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%8e%9f%e7%90%86%e6%98%af%e4%bb%80%e4%b9%88%e5%86%99%e5%87%ba%e5%85%b6%e7%ae%97%e6%b3%95%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>外法线消隐算法的基本原理是什么？写出其算法步骤。
&lt;/h3>&lt;p>根据外法线在投影方向上的方向余弦进行可见性判断。&lt;/p>
&lt;h4 id="凸多面体">&lt;a href="#%e5%87%b8%e5%a4%9a%e9%9d%a2%e4%bd%93" class="header-anchor">&lt;/a>凸多面体
&lt;/h4>&lt;ol>
&lt;li>根据表面的数据结构，取顶点数据，计算表面的外法
&lt;ul>
&lt;li>线矢量；&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>计算外法线在投影方向上的分量的值;&lt;/li>
&lt;li>根据分量的值判断表面的可见性；&lt;/li>
&lt;li>当B&amp;gt;0时，0o≤a &amp;lt;  90o，表面面向观察者可见。&lt;/li>
&lt;li>若表面可见画出该表面，否则处理下一个表面。&lt;/li>
&lt;/ol>
&lt;h4 id="凹多面体">&lt;a href="#%e5%87%b9%e5%a4%9a%e9%9d%a2%e4%bd%93" class="header-anchor">&lt;/a>凹多面体
&lt;/h4>&lt;ol>
&lt;li>先求出表面的外法线，计算其投影方向上的方向余弦值cosa；&lt;/li>
&lt;li>根据方向余弦值，进行可见性判断；&lt;/li>
&lt;li>对朝前面计算其表面的最大深度值；&lt;/li>
&lt;li>计算朝前面的盒子角点坐标；&lt;/li>
&lt;li>取出最大深度值的表面作为当前面；&lt;/li>
&lt;li>循环计算其他表面和当前表面的遮挡关系。&lt;/li>
&lt;/ol>
&lt;h3 id="深度缓存消隐算法的基本原理是什么写出其算法步骤">&lt;a href="#%e6%b7%b1%e5%ba%a6%e7%bc%93%e5%ad%98%e6%b6%88%e9%9a%90%e7%ae%97%e6%b3%95%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%8e%9f%e7%90%86%e6%98%af%e4%bb%80%e4%b9%88%e5%86%99%e5%87%ba%e5%85%b6%e7%ae%97%e6%b3%95%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>深度缓存消隐算法的基本原理是什么？写出其算法步骤。
&lt;/h3>&lt;p>对于屏幕上的每一个像素，记录位于该像素内最靠近观察者的景物面的深度值，同时相应记录该景物面的颜色(或灰度) 的所有记录值，根据记录的数据输出的图形。&lt;/p>
&lt;p>开辟内存数组；初始化数组；循环计算每个像素点的深度值。&lt;/p>
&lt;h3 id="解释外法线朝前面凸多边形">&lt;a href="#%e8%a7%a3%e9%87%8a%e5%a4%96%e6%b3%95%e7%ba%bf%e6%9c%9d%e5%89%8d%e9%9d%a2%e5%87%b8%e5%a4%9a%e8%be%b9%e5%bd%a2" class="header-anchor">&lt;/a>解释外法线、朝前面、凸多边形。
&lt;/h3>&lt;p>外法线：由形体内部指向外部，或由形体表面指向外部空间的线。&lt;/p>
&lt;p>朝前面：表示表面法线朝前，该表面可见。&lt;/p>
&lt;p>背向面：表示表面法线向后，该表面不可见。&lt;/p>
&lt;p>凸多边形：多边形任意两点连线均位于多边形内部。&lt;/p>
&lt;h3 id="简述颜色模型能解释rgb模型空间和常用颜色">&lt;a href="#%e7%ae%80%e8%bf%b0%e9%a2%9c%e8%89%b2%e6%a8%a1%e5%9e%8b%e8%83%bd%e8%a7%a3%e9%87%8argb%e6%a8%a1%e5%9e%8b%e7%a9%ba%e9%97%b4%e5%92%8c%e5%b8%b8%e7%94%a8%e9%a2%9c%e8%89%b2" class="header-anchor">&lt;/a>简述颜色模型，能解释RGB模型空间和常用颜色
&lt;/h3>&lt;p>颜色模型就是指某个三维颜色空间中的一个可见光子集，它包含某个颜色域的所有颜色。在大多数的彩色图形显示设备一般都是使用红、绿、蓝三原色，我们的真实感图形学中的主要的颜色模型也是RGB模型。&lt;/p>
&lt;h3 id="解释光照模型泛光纯镜面反射光">&lt;a href="#%e8%a7%a3%e9%87%8a%e5%85%89%e7%85%a7%e6%a8%a1%e5%9e%8b%e6%b3%9b%e5%85%89%e7%ba%af%e9%95%9c%e9%9d%a2%e5%8f%8d%e5%b0%84%e5%85%89" class="header-anchor">&lt;/a>解释：光照模型、泛光、纯镜面反射光
&lt;/h3>&lt;p>光照模型：根据光学物理的有关定律，计算物体表面各点投射到观察着眼中的光线的光亮强度和色彩组成的数学表达式。（在已知物体物理形态和光源性质的条件下，能够计算出场景的光照明效果的数学模型）&lt;/p>
$$入射光=漫反射光+镜面反射+环境光$$&lt;ul>
&lt;li>漫反射光：光照射到粗糙、无光泽表面的光现象。
&lt;ul>
&lt;li>特点：来源一个方向，向各个方向反射。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>环境光（泛光）：光照射到粗糙、无光泽表面的光现象。（光源间接对物体的影响，是在物体和环境之间多次反射，最终达到平衡时的一种光）    
&lt;ul>
&lt;li>特点：来源一个方向，向各个方向反射。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>镜面反射光：光照射非常光滑的物体表面的光现象
&lt;ul>
&lt;li>特点：光源来自一个方向，反射光集中在反射方向。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="简述简单光反射模型的组成以及构建步骤">&lt;a href="#%e7%ae%80%e8%bf%b0%e7%ae%80%e5%8d%95%e5%85%89%e5%8f%8d%e5%b0%84%e6%a8%a1%e5%9e%8b%e7%9a%84%e7%bb%84%e6%88%90%e4%bb%a5%e5%8f%8a%e6%9e%84%e5%bb%ba%e6%ad%a5%e9%aa%a4" class="header-anchor">&lt;/a>简述简单光反射模型的组成以及构建步骤。
&lt;/h3>&lt;p>假设：&lt;/p>
&lt;ul>
&lt;li>光源是点光源&lt;/li>
&lt;li>物体不透明&lt;/li>
&lt;/ul>
&lt;p>模拟光照射到物体表面产生的反射现象。&lt;/p>
$$入射光=漫反射光+镜面反射光+环境光$$&lt;h3 id="简述双线性插值亮度或法线算法的计算过程">&lt;a href="#%e7%ae%80%e8%bf%b0%e5%8f%8c%e7%ba%bf%e6%80%a7%e6%8f%92%e5%80%bc%e4%ba%ae%e5%ba%a6%e6%88%96%e6%b3%95%e7%ba%bf%e7%ae%97%e6%b3%95%e7%9a%84%e8%ae%a1%e7%ae%97%e8%bf%87%e7%a8%8b" class="header-anchor">&lt;/a>简述双线性插值（亮度或法线）算法的计算过程。
&lt;/h3>&lt;h4 id="亮度插值法">&lt;a href="#%e4%ba%ae%e5%ba%a6%e6%8f%92%e5%80%bc%e6%b3%95" class="header-anchor">&lt;/a>亮度插值法
&lt;/h4>&lt;ol>
&lt;li>计算多边形表面的外法线向量；&lt;/li>
&lt;li>求多边形各顶点的法矢；&lt;/li>
&lt;li>求各顶点的亮度值；&lt;/li>
&lt;li>求扫描线与多边形边交点的亮度值；&lt;/li>
&lt;li>求扫描线上各点的亮度值。&lt;/li>
&lt;/ol>
&lt;h4 id="法矢插值法">&lt;a href="#%e6%b3%95%e7%9f%a2%e6%8f%92%e5%80%bc%e6%b3%95" class="header-anchor">&lt;/a>法矢插值法
&lt;/h4>&lt;ol>
&lt;li>求根据顶点信息计算各多边形面的外法线向量；&lt;/li>
&lt;li>求多边形各顶点的法向矢量；&lt;/li>
&lt;li>求扫描线与多边形边交点的法矢；&lt;/li>
&lt;li>求扫描线上点的法矢；&lt;/li>
&lt;li>求扫描线上各点的亮度值。&lt;/li>
&lt;/ol>
&lt;h2 id="第9章">&lt;a href="#%e7%ac%ac9%e7%ab%a0" class="header-anchor">&lt;/a>第9章
&lt;/h2>&lt;h3 id="基本交互技术包括那些技术">&lt;a href="#%e5%9f%ba%e6%9c%ac%e4%ba%a4%e4%ba%92%e6%8a%80%e6%9c%af%e5%8c%85%e6%8b%ac%e9%82%a3%e4%ba%9b%e6%8a%80%e6%9c%af" class="header-anchor">&lt;/a>基本交互技术包括那些技术？
&lt;/h3>&lt;p>定位、选择、数值输入、文本输出。&lt;/p>
&lt;h3 id="图形拾取的方式有哪几种">&lt;a href="#%e5%9b%be%e5%bd%a2%e6%8b%be%e5%8f%96%e7%9a%84%e6%96%b9%e5%bc%8f%e6%9c%89%e5%93%aa%e5%87%a0%e7%a7%8d" class="header-anchor">&lt;/a>图形拾取的方式有哪几种？
&lt;/h3>&lt;p>点拾取、直线段拾取、区域拾取、加速图形拾取。&lt;/p>
&lt;h3 id="什么是橡皮筋和双缓存技术二者有何关系">&lt;a href="#%e4%bb%80%e4%b9%88%e6%98%af%e6%a9%a1%e7%9a%ae%e7%ad%8b%e5%92%8c%e5%8f%8c%e7%bc%93%e5%ad%98%e6%8a%80%e6%9c%af%e4%ba%8c%e8%80%85%e6%9c%89%e4%bd%95%e5%85%b3%e7%b3%bb" class="header-anchor">&lt;/a>什么是橡皮筋和双缓存技术？二者有何关系？
&lt;/h3>&lt;p>橡皮筋技术：橡皮筋是指在绘图时跟随光标的直线和曲线，当光标移动时形状随之变化 即动态变化的过程。&lt;/p>
&lt;p>双缓存技术：在内存中另建一块缓存，当屏幕上图形发生改变时，帧缓存的刷新会在后台执行，在屏幕上看到的只是刷新后并重新绘制后的图形，屏幕变化就会连贯柔和。&lt;/p>
&lt;h3 id="什么是图元组">&lt;a href="#%e4%bb%80%e4%b9%88%e6%98%af%e5%9b%be%e5%85%83%e7%bb%84" class="header-anchor">&lt;/a>什么是图元组？
&lt;/h3>&lt;p>图元组：将一组相关的图元合并成的组&lt;/p>
&lt;h3 id="几何约束主要包括哪几种约束">&lt;a href="#%e5%87%a0%e4%bd%95%e7%ba%a6%e6%9d%9f%e4%b8%bb%e8%a6%81%e5%8c%85%e6%8b%ac%e5%93%aa%e5%87%a0%e7%a7%8d%e7%ba%a6%e6%9d%9f" class="header-anchor">&lt;/a>几何约束主要包括哪几种约束？
&lt;/h3>&lt;p>定位约束、方向约束、规则性约束。&lt;/p>
&lt;h2 id="名词解释">&lt;a href="#%e5%90%8d%e8%af%8d%e8%a7%a3%e9%87%8a" class="header-anchor">&lt;/a>名词解释  
&lt;/h2>&lt;h3 id="构造曲线">&lt;a href="#%e6%9e%84%e9%80%a0%e6%9b%b2%e7%ba%bf" class="header-anchor">&lt;/a>构造曲线
&lt;/h3>&lt;p>给定一组有序的离散点Pi (i=0,1,……，n)，通过这些控制点，可以构造出一条曲线。&lt;/p>
&lt;h3 id="插值曲线">&lt;a href="#%e6%8f%92%e5%80%bc%e6%9b%b2%e7%ba%bf" class="header-anchor">&lt;/a>插值曲线
&lt;/h3>&lt;p>通过建立数学模型构造一条曲线，使曲线顺序通过给定的数据点, 所构造的曲线称为插值曲线。&lt;/p>
&lt;h3 id="型值点">&lt;a href="#%e5%9e%8b%e5%80%bc%e7%82%b9" class="header-anchor">&lt;/a>型值点
&lt;/h3>&lt;p>在构造曲线时，曲线顺序通过每一个给定点，这些点称为型值点。&lt;/p>
&lt;h3 id="曲线逼近">&lt;a href="#%e6%9b%b2%e7%ba%bf%e9%80%bc%e8%bf%91" class="header-anchor">&lt;/a>曲线逼近
&lt;/h3>&lt;p>当用一组给定的离散点，通过建立数学模型，要求构造的曲线在某种意义下最为接近给定的数据点，称为对这些数据点进行逼近，所构造的曲线称为逼近曲线。&lt;/p>
&lt;h3 id="控制点">&lt;a href="#%e6%8e%a7%e5%88%b6%e7%82%b9" class="header-anchor">&lt;/a>控制点
&lt;/h3>&lt;p>用来控制或调整曲线形状的形状特殊点，而曲线本身不通过该点。&lt;/p>
&lt;h3 id="拟合">&lt;a href="#%e6%8b%9f%e5%90%88" class="header-anchor">&lt;/a>拟合
&lt;/h3>&lt;p>插值和逼近方法的统称。&lt;/p>
&lt;h3 id="计算机图形学">&lt;a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%9b%be%e5%bd%a2%e5%ad%a6" class="header-anchor">&lt;/a>计算机图形学
&lt;/h3>&lt;p>用计算机建立、存储、处理某个对象的模型，并根据模型产生该对象图形输出的有关理论、方法与技术，称为计算机图形学。  &lt;/p>
&lt;h3 id="计算机图形标准">&lt;a href="#%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%9b%be%e5%bd%a2%e6%a0%87%e5%87%86" class="header-anchor">&lt;/a>计算机图形标准
&lt;/h3>&lt;p>计算机图形标准是指图形系统及其相关应用程序中各界面之间进行数据传送和通信的接口标准。  &lt;/p>
&lt;h3 id="图形消隐">&lt;a href="#%e5%9b%be%e5%bd%a2%e6%b6%88%e9%9a%90" class="header-anchor">&lt;/a>图形消隐
&lt;/h3>&lt;p>计算机为了反映真实的图形，把隐藏的部分从图中消除。  &lt;/p>
&lt;h3 id="几何变换">&lt;a href="#%e5%87%a0%e4%bd%95%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>几何变换
&lt;/h3>&lt;p>几何变换的基本方法是把变换矩阵作为一个算子，作用到图形一系列顶点的位置矢量，从而得到这些顶点在几何变换后的新的顶点序列，连接新的顶点序列即可得到变换后的图形。  &lt;/p>
&lt;h3 id="计算几何">&lt;a href="#%e8%ae%a1%e7%ae%97%e5%87%a0%e4%bd%95" class="header-anchor">&lt;/a>计算几何
&lt;/h3>&lt;p>计算几何研究几何模型和数据处理的学科，讨论几何形体的计算机表示、分析和综合，研究如何方便灵活、有效地建立几何形体的数学模型以及在计算机中更好地存贮和管理这些模型数据。  &lt;/p>
&lt;h3 id="裁剪">&lt;a href="#%e8%a3%81%e5%89%aa" class="header-anchor">&lt;/a>裁剪
&lt;/h3>&lt;p>识别图形在指定区域内和区域外的部分的过程称为裁剪算法，简称裁剪。&lt;/p>
&lt;h3 id="透视投影">&lt;a href="#%e9%80%8f%e8%a7%86%e6%8a%95%e5%bd%b1" class="header-anchor">&lt;/a>透视投影
&lt;/h3>&lt;p>空间任意一点的透视投影是投影中心与空间点构成的投影线与投影平面的交点。  &lt;/p>
&lt;h3 id="投影变换">&lt;a href="#%e6%8a%95%e5%bd%b1%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>投影变换
&lt;/h3>&lt;p>把三维物体变为二维图形表示的变换称为投影变换。  &lt;/p>
&lt;h3 id="走样">&lt;a href="#%e8%b5%b0%e6%a0%b7" class="header-anchor">&lt;/a>走样
&lt;/h3>&lt;p>在光栅显示器上绘制非水平且非垂直的直线或多边形边界时，或多或少会呈现锯齿状。这是由于直线或多边形边界在光栅显示器的对应图形都是由一系列相同亮度的离散像素构成的。这种用离散量表示连续量引起的失真，称为走样（aliasing）。&lt;/p>
&lt;h3 id="反走样">&lt;a href="#%e5%8f%8d%e8%b5%b0%e6%a0%b7" class="header-anchor">&lt;/a>反走样
&lt;/h3>&lt;p>用于减少和消除用离散量表示连续量引起的失真效果的技术，称为反走样。  &lt;/p>
&lt;h3 id="窗口">&lt;a href="#%e7%aa%97%e5%8f%a3" class="header-anchor">&lt;/a>窗口
&lt;/h3>&lt;p>世界坐标的范围是无限大的。为了使规格化设备坐标上所显示的世界坐标系中的物体有一个合适的范围与大小，必须首先对世界坐标系指定显示范围，它通常是一个矩形，这个矩形被称为窗口。  &lt;/p>
&lt;h3 id="视区">&lt;a href="#%e8%a7%86%e5%8c%ba" class="header-anchor">&lt;/a>视区
&lt;/h3>&lt;p>在规格化设备坐标系上也要指定一个矩形区域与窗口对应，显示窗口里的内容，这个矩形被称为视区。  &lt;/p>
&lt;h3 id="坐标系统">&lt;a href="#%e5%9d%90%e6%a0%87%e7%b3%bb%e7%bb%9f" class="header-anchor">&lt;/a>坐标系统
&lt;/h3>&lt;p>为了描述、分析、度量几何物体的大小、形状、位置、方向以及相互之间的各种关系使用的参考框架叫做坐标系统。  &lt;/p>
&lt;h3 id="用户坐标系">&lt;a href="#%e7%94%a8%e6%88%b7%e5%9d%90%e6%a0%87%e7%b3%bb" class="header-anchor">&lt;/a>用户坐标系
&lt;/h3>&lt;p>用户坐标系用户为处理自已的图形时所采用的坐标系，单位由用户自己决定。 &lt;/p>
&lt;h3 id="规范化设备坐标系-1">&lt;a href="#%e8%a7%84%e8%8c%83%e5%8c%96%e8%ae%be%e5%a4%87%e5%9d%90%e6%a0%87%e7%b3%bb-1" class="header-anchor">&lt;/a>规范化设备坐标系
&lt;/h3>&lt;p>将各个设备坐标系中的数据化为统一的数据范围从而得到的设备坐标系。  &lt;/p>
&lt;h3 id="规格化变换">&lt;a href="#%e8%a7%84%e6%a0%bc%e5%8c%96%e5%8f%98%e6%8d%a2" class="header-anchor">&lt;/a>规格化变换
&lt;/h3>&lt;p>图形软件根据窗口与视区的一一对应关系，自动实现从世界坐标到规格化设备坐标的转换，这种从窗口到视区的变换，称为规格化变换。&lt;/p>
&lt;h2 id="算法分析题">&lt;a href="#%e7%ae%97%e6%b3%95%e5%88%86%e6%9e%90%e9%a2%98" class="header-anchor">&lt;/a>算法分析题
&lt;/h2>&lt;h3 id="数值微分法">&lt;a href="#%e6%95%b0%e5%80%bc%e5%be%ae%e5%88%86%e6%b3%95" class="header-anchor">&lt;/a>数值微分法
&lt;/h3>&lt;p>DDA算法称为数值微分画线算法，是根据直线的微分方程来画直线。根据斜率的偏移程度，决定是以x为步进方向还是以y为步进方向，然后在相应的步进方向上，步进向量每次增加一个像素，而另一个相关坐标变量也可根据斜率求出。&lt;/p>
&lt;ol>
&lt;li>求得根据直线斜率是否大于1求得dm=max(|△x|,|△y|)。&lt;/li>
&lt;li>求得计长方向另一方向的变化步长。&lt;/li>
&lt;li>根据计长方向变化为1及求得的另一方向变化步长，循环画点直到计长方向上达到dm结束。&lt;/li>
&lt;/ol>
&lt;h3 id="逐点比较法">&lt;a href="#%e9%80%90%e7%82%b9%e6%af%94%e8%be%83%e6%b3%95" class="header-anchor">&lt;/a>逐点比较法
&lt;/h3>&lt;p>在绘图的过程中，把每画一笔(走一步)都和标准图形进行比较，然后  确定下一步的走向，用步步逼近的方法画出规定图形。&lt;/p>
&lt;ol>
&lt;li>设定在不同象限中的走步方向，原则上使逼近的误差最小且使走笔方向和画图的趋势一致。&lt;/li>
&lt;li>从起点出发开始画线：开始抬笔到起点。&lt;/li>
&lt;li>偏差计算：计算当前点相对于直线的位置偏差。
&lt;ul>
&lt;li>根据偏差判断公式计算。&lt;/li>
&lt;li>根据递推公式计算。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>终点判断。
&lt;ul>
&lt;li>坐标判断：Xm≥Xa，Ym≥Ya&lt;/li>
&lt;li>走步数控制：即单向步数和总步数。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="bresenham算法">&lt;a href="#bresenham%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>Bresenham算法
&lt;/h3>&lt;p>Bresenham算法是DDA算法的改进，是应用最广泛的直线生成算法，它采用加减与乘2运算（即移位运算来实现）。&lt;/p>
&lt;p>过各行、各列像素中心构造一组虚拟网格线，按直线从起点到终点的顺序计算直线各垂直网格线的交点，然后确定该列像素中与此交点最近的像素。可以采用增量计算，使得对于每一列，只要检查一个误差项的符号，就可以确定该列所求的像素。&lt;/p>
&lt;ol>
&lt;li>直线起点赋予动点P(x,y)；&lt;/li>
&lt;li>求端点坐标差：dx和dy；&lt;/li>
&lt;li>求出循环总步数N，起点处的di的值；&lt;/li>
&lt;li>循环计算中间插值点坐标：&lt;/li>
&lt;/ol>
&lt;p>若当前步数≥N，程序结束。否则：&lt;/p>
&lt;ol>
&lt;li>显示当前点P；&lt;/li>
&lt;li>若di大于0，y坐标加1；&lt;/li>
&lt;li>计算当前的di值；&lt;/li>
&lt;li>x坐标加1。&lt;/li>
&lt;/ol>
&lt;h3 id="中点画线法">&lt;a href="#%e4%b8%ad%e7%82%b9%e7%94%bb%e7%ba%bf%e6%b3%95" class="header-anchor">&lt;/a>中点画线法
&lt;/h3>&lt;p>中点画线法：假定直线斜率k在0~1之间，当前像素点为（xp，yp），则下一个像素点有两种可选择点P1（xp+1，yp）或p2（xp+1，yp+1）。若p1与p2的重点（xp+1，yp+0.5）称为M，Q为理想直线与x=xp+1垂线的交点，当M在Q的下方时，则取p2应为下一个像素点，当M在Q的上方时，则应取P1为下一个像素点，若M与Q重合，则P1或P2任取一点，其他斜率同理。&lt;/p>
&lt;p>中点画线法的算法步骤：&lt;/p>
&lt;ol>
&lt;li>输入直线段的两个端点P1(x1, y1)和P2(x2, y2)，通过比较保证x1&amp;lt;x2。&lt;/li>
&lt;li>初始化：dy，dx，d=dy+0.5dx，x=x1，y=y1，画点(x, y)，若-1&amp;lt;k&amp;lt;0，则x=x2，y=y2。&lt;/li>
&lt;li>循环画点。
&lt;ul>
&lt;li>0≤k≤1&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>若x&amp;lt;x2，则执行下列各步，否则算法结束。&lt;/li>
&lt;li>判断d的符号；若d&amp;lt;0，则(x, y)更新为(x+1, y+1)，d更新为d+a+b；否则(x, y)更新为(x+1, y)，d更新为d+a。&lt;/li>
&lt;li>画点(x, y)。&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>1&amp;lt;k&amp;lt;0&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>若x&amp;gt;x1，则执行下列各步，否则算法结束。&lt;/li>
&lt;li>判断d的符号；若d&amp;lt;0，则(x, y)更新为(x-1, y+1)，d更新为d-a+b；否则(x, y)更新为(x-1, y)，d更新为d-a。&lt;/li>
&lt;li>画点(x, y)。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="简单种子填充算法">&lt;a href="#%e7%ae%80%e5%8d%95%e7%a7%8d%e5%ad%90%e5%a1%ab%e5%85%85%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>简单种子填充算法
&lt;/h3>&lt;p>假设区域内一点已知，以此为种子。从该点出发，沿着区域连通的方向搜索与种子相邻且位于区域内的点，使其成为新种子，接着继续递归地搜索下去。若相邻的点不在区域内，即达到边界。&lt;/p>
&lt;ol>
&lt;li>确定边界和边界的属性；&lt;/li>
&lt;li>确定区域填充的属性值；&lt;/li>
&lt;li>测试区域内一点的属性值，判定其是否在填充区域内；且未被填充，&lt;/li>
&lt;li>若在区域内且和边界的属性值不同，赋予填充属性，以此点为种子；&lt;/li>
&lt;li>沿四连通(或八连通)方向，测试其它点；&lt;/li>
&lt;li>每测试一个点都与边界属性比较，若不同，赋予填充属性；&lt;/li>
&lt;li>若相同，即到达边界，然后转向另一种连通方向；&lt;/li>
&lt;li>整个点的测试采用循环递归的方式实现。&lt;/li>
&lt;/ol>
&lt;h3 id="扫描线种子填充算法">&lt;a href="#%e6%89%ab%e6%8f%8f%e7%ba%bf%e7%a7%8d%e5%ad%90%e5%a1%ab%e5%85%85%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>扫描线种子填充算法
&lt;/h3>&lt;p>用扫描线从上到下扫描由点线段构成的多段多边形。每根扫描线与多边形各边产生一系列交点。将交点按照x(或y)坐标进行分类，然后成对取出，作为两个端点，用填充颜色画水平直线。&lt;/p>
&lt;p>当给定种子点时，首先填充种子点所在的扫描线上的位于给定区域的一个区段，然后确定与这一区段相通的上下两条扫描线上位于给定区域内的区段，并依次保存下来。反复这个过程，直到填充结束。&lt;/p>
&lt;h3 id="扫描线算法">&lt;a href="#%e6%89%ab%e6%8f%8f%e7%ba%bf%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>扫描线算法
&lt;/h3>&lt;p>利用区域的连续性、扫描线的连续性、边界连续性。&lt;/p>
&lt;ol>
&lt;li>把区域边界顶点按Y坐标排序；&lt;/li>
&lt;li>确定扫描线的区间；&lt;/li>
&lt;li>构建边界边的活性边表；&lt;/li>
&lt;li>求交点，计算当前扫描线与多边形所有边的交点；&lt;/li>
&lt;li>交点排序，把所有交点按x值递增顺序排序；&lt;/li>
&lt;li>交点配对，排序后的交点两两配对成区间；&lt;/li>
&lt;li>填充颜色，将各区间内的像素值设置为目标颜色值。&lt;/li>
&lt;/ol>
&lt;p>具体算法步骤如下：&lt;/p>
&lt;ol>
&lt;li>初始化边表ET：将多边形各条边按照该边的ymin值存放至ymin所对应的ET存储桶中。&lt;/li>
&lt;li>初始化活动边表AET为空表。&lt;/li>
&lt;li>将y值设置成为ET中所列的最小y值，即第一个非空存储桶的y值。&lt;/li>
&lt;li>重复执行以下各步，直至AET和ET都为空：
&lt;ol>
&lt;li>当扫描线的y值开始大于或等于ET中某个y桶的值时，将该桶的所有结点加入到AET中（同时要从ET中删去），并将AET中的记录按x值排序。&lt;/li>
&lt;li>对于扫描线y，在一对交点之间填充所需要的像素值。&lt;/li>
&lt;li>删去AET中y&amp;gt;ymax的项。&lt;/li>
&lt;li>更新AET中所有剩余结点的x值，用x+1/m代替x。（当一个结点是在本轮循环中才进入AET时，它记录的x值为xmin。）&lt;/li>
&lt;li>对AET中的各结点按x值重新排序。&lt;/li>
&lt;li>y增1后进入下一轮循环。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="直线编码裁剪算法">&lt;a href="#%e7%9b%b4%e7%ba%bf%e7%bc%96%e7%a0%81%e8%a3%81%e5%89%aa%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>直线编码裁剪算法
&lt;/h3>&lt;p>把窗口边界延长分成9个区，每个区用四位二进制数进行编码，根据编码的值或逻辑运算进行位置判断。&lt;/p>
&lt;ol>
&lt;li>端点编码&lt;br>
排位从左开始：第1位为1,端点在yT上,即y&amp;gt;yT，第2位为1,端点在yB下,即y&amp;lt;yB，第3位为1,端点在xR右,即x&amp;gt;xR，第4位为1,端点在xL左,即x&amp;lt;xL，否则，相应位置为0。&lt;/li>
&lt;li>根据编码的值或逻辑运算进行位置判断。
&lt;ol>
&lt;li>如果线段两个端点的4位编码全为0，则此线段在窗口内，可直接输出；&lt;/li>
&lt;li>若线段两端点的编码逻辑与（位乘）不为0，则线段全部在窗口之外，舍弃； &lt;/li>
&lt;li>除上之外，线段与窗口有交点，求交点。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>求交过程
&lt;ol>
&lt;li>求直线与窗口边界的交点，用交点分割线段，舍弃交点以外部分&lt;/li>
&lt;li>以交点为界进一步求交判断，并进行分割&lt;/li>
&lt;li>剪的次序：按编码值；&lt;/li>
&lt;li>结束标志：编码值全部为零。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="外法线消隐算法">&lt;a href="#%e5%a4%96%e6%b3%95%e7%ba%bf%e6%b6%88%e9%9a%90%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>外法线消隐算法
&lt;/h3>&lt;p>外法线消隐算法：用于平面立体消隐处理&lt;/p>
&lt;p>任意平面立体消隐算法步骤：&lt;/p>
&lt;ol>
&lt;li>先求出表面的外法线，计算其投影方向上的方向余弦值cosa；&lt;/li>
&lt;li>根据方向余弦值，进行可见性判断：cosa&amp;gt;0 朝前面；cosa≤0朝背面&lt;/li>
&lt;li>对朝前面计算其表面的最大深度值；&lt;/li>
&lt;li>计算朝前面的盒子角点坐标；&lt;/li>
&lt;li>取出最大深度值的表面作为当前面;&lt;/li>
&lt;li>循环计算其他表面和当前表面的遮挡关系；
&lt;ol>
&lt;li>提取表面的每一个边，判断和当前面的关系：完全挡住、完全未被挡住或部分挡住；&lt;/li>
&lt;li>若完全挡住视为不可见边，做删除或改变线性处理；&lt;/li>
&lt;li>若完全不被挡住，视为可见边，绘制该边；&lt;/li>
&lt;li>若部分挡住，利用线段裁剪求出多边形之外的部分线段：可见线段，绘制；&lt;/li>
&lt;li>对多边形之内的部分线段：不可见线段，作删除或改变线型处理&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;h3 id="深度缓存消隐算法">&lt;a href="#%e6%b7%b1%e5%ba%a6%e7%bc%93%e5%ad%98%e6%b6%88%e9%9a%90%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>深度缓存消隐算法
&lt;/h3>&lt;p>深度缓存消隐算法的基本思想是：将投影平面每个像素所对应的所有面片（平面或曲面）的深度进行比较，然后取离视线最近面片的属性值作为该像素的属性值。&lt;/p>
&lt;p>初始时，深度缓冲器所有单元均设置为最小z值，帧缓冲器各单元均至为背景色，然后逐个处理多边形表中的各面片。每扫描一行，计算该行各像素点(x,y)所对应的深度值z(x,y)，并将深度与深度缓冲器中该像素单元所存储的深度值ZB(x,y)进行比较。&lt;/p>
&lt;p>若Z&amp;gt;ZB(x,y)，则ZB(x,y)=z，同时将该像素的属性值I(x,y)写入帧缓冲器，即FB(x,y)=i(x,y)；否则不变。&lt;/p></description></item><item><title>背包——误认为贪心的陷阱</title><link>https://boiltask.com/knowledge/knapsack-problem/</link><pubDate>Tue, 09 Aug 2016 18:14:29 +0800</pubDate><guid>https://boiltask.com/knowledge/knapsack-problem/</guid><description>&lt;blockquote>
&lt;p>有n件物品，第i件物品(I = 1,2,3…n)的价值是vi, 重量是wi,我们有一个能承重为m的背包，我们选择一些物品放入背包，每样只能放一个，显然放入背包的总重量不超过m。我们要求选择物品的总价值最大，请问如何选择？这里我们假设所有出现的数都是正整数。&lt;/p>
&lt;/blockquote>
&lt;p>背包问题如果没有认真理解的话，第一种思路应该会往贪心的方面思考。&lt;/p>
&lt;p>比如先以物品贵重程度排序，先选比较贵重的。&lt;br>
然而对于数据:&lt;/p>
&lt;blockquote>
&lt;p>n = 3, m = 3&lt;br>
v = （2，2，3）&lt;br>
w = （1，2，3）&lt;/p>
&lt;/blockquote>
&lt;p>按照先选贵重物品的策略，会先选择价值为3的那个，并且背包装满了，但是如果我们选取前两个物品，总价值可以达到4。&lt;/p>
&lt;p>如果按照性价比排序：&lt;br>
对于数据&lt;/p>
&lt;blockquote>
&lt;p>n = 3, m = 7&lt;br>
v = （2，3，4）&lt;br>
w = （3，4，5）&lt;/p>
&lt;/blockquote>
&lt;p>按这种方法因为2/3 &amp;lt; 3/4 &amp;lt; 4 / 5，我们先选择第三件物品，但是选了它之后别的东西放不下了！总价值是4，但如果我们选择前两件物品可以拿到总价值5。&lt;/p>
&lt;p>造成这种现象的原因是贪心的原则为：通过每一步的最优解推导出整体的最优解，然而对于背包问题，因为每一步取或者不取的最优解取决于整体，也就是“动态”的。所以，背包问题成为了一个经典的动态规划问题。&lt;/p>
&lt;p>再看一道部分背包问题&lt;/p>
&lt;blockquote>
&lt;p>一个旅行者有一个最多能装m公斤的背包，然后又n重物品，它们的重量和价值分别为w[i],c[i]，问旅行者能获得的最大价值&lt;/p>
&lt;/blockquote>
&lt;p>这一题便是贪心问题，因为我们可以一直选性价比高的直到填满，所以是否贪心取决于每种物品是否只取走一部分。&lt;/p>
&lt;p>而背包问题又衍生出了很多变形，动态规划的方法也不尽相同，所以需要多加练习才能掌握这一题型。&lt;/p>
&lt;p>参考文章：&lt;br>
51NOD&lt;br>
百度知道&lt;br>
百度文库&lt;/p></description></item><item><title>邻接表的创建与使用</title><link>https://boiltask.com/knowledge/adjacency-list/</link><pubDate>Tue, 02 Aug 2016 16:51:35 +0800</pubDate><guid>https://boiltask.com/knowledge/adjacency-list/</guid><description>&lt;blockquote>
&lt;p>邻接表是图论中常用的一种数据结构。&lt;/p>
&lt;/blockquote>
&lt;p>&lt;a class="link" href="http://www.cnblogs.com/tonghao/p/4708661.html" target="_blank" rel="noopener"
>如何构建邻接表【模板】【邻接表与邻接矩阵的选择】&lt;/a>&lt;/p>
&lt;p>邻接表与邻接矩阵有相似的作用：用于储存一个图中所有的节点，但是邻接矩阵比较浪费内存，当数据较小时，邻接矩阵还可以计算&lt;/p>
&lt;p>但是一旦数据较大，用邻接矩阵往往就会超时或者超内存，这时就要使用邻接表来存图了；为方便理解邻接矩阵与邻接表的储存方式。&lt;/p>
&lt;p>我们先规定一组数据&lt;/p>
&lt;blockquote>
&lt;p>1 10
3 5
8 9&lt;/p>
&lt;/blockquote>
&lt;p>我们将所给的点标记为1，其余为0
（1）邻接矩阵（适合小数据点稠密型图）&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">/&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">1&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">1&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">1&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;td style="text-align: left">0&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>我们可以看到虽然只有三个点我们却不得不开一个10x10的二维数组来存放数据这极大的浪费了空间&lt;/p>
&lt;p>当遍历图时如果数据过大还可能会超时；那么邻接表呢？&lt;/p>
&lt;p>（2）邻接表：（适合大数据点稀疏型图）&lt;/p>
&lt;p>还是以上三个点&lt;/p>
&lt;p>V1————&amp;gt;V10&lt;/p>
&lt;p>V3————&amp;gt;V5&lt;/p>
&lt;p>V8————&amp;gt;V9&lt;/p>
&lt;p>只需要一个链即可完成 大大的节省了内存 ;详情如下图：&lt;/p>
&lt;p>&lt;img src="https://boiltask.com/knowledge/adjacency-list/image-1.png"
width="570"
height="431"
srcset="https://boiltask.com/knowledge/adjacency-list/image-1_hu16179051444541284563.png 480w, https://boiltask.com/knowledge/adjacency-list/image-1_hu828923988968045278.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="317px"
>&lt;/p>
&lt;p>下边附上构建邻接表的通用模板：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;stdio.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;string.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">head&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">10010&lt;/span>&lt;span class="p">];&lt;/span>&lt;span class="c1">//表头，head[i]代表起点是i的边的编号
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">headcnt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="c1">//代表边的总编号
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">struct&lt;/span> &lt;span class="nc">List&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">u&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="c1">//分别为边的起边、终点、权值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="c1">//代表调用时下一条边的编号
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//也就是当前边的上一条边的编号
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="n">edge&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">10010&lt;/span>&lt;span class="p">];&lt;/span>&lt;span class="c1">//结构体记录边
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="nf">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">u&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">edge&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">headcnt&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">edge&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">headcnt&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">edge&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">headcnt&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//把u、v、w、存入边的信息中
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">edge&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">headcnt&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">head&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//把这条边的上一条(调用时的下一条边)存入信息
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">head&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">headcnt&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//记录这条以u为顶点的边的编号
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//并使总编号+1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%d %d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">headcnt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">head&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">head&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">u&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%d %d %d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="c1">//读取u、v、w存入表中
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//找到以t为顶点的最大编号边并一直向前寻找
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//直到当前边之前无边
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">head&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">!=-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">edge&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%d %d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">edge&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">edge&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>参考文章:&lt;a class="link" href="http://www.cnblogs.com/tonghao/p/4708661.html" target="_blank" rel="noopener"
>如何构建邻接表【模板】【邻接表与邻接矩阵的选择】&lt;/a>&lt;/p></description></item><item><title>二分查找——与答案进行比较的思维</title><link>https://boiltask.com/knowledge/binary-search/</link><pubDate>Tue, 26 Jul 2016 17:24:57 +0800</pubDate><guid>https://boiltask.com/knowledge/binary-search/</guid><description>&lt;p>二分查找不算是一种算法
我认为其更偏向为一种思想&lt;/p>
&lt;h2 id="核心代码">&lt;a href="#%e6%a0%b8%e5%bf%83%e4%bb%a3%e7%a0%81" class="header-anchor">&lt;/a>核心代码
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mid&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">judge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mid&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">r&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">mid&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">l&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">mid&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="优点">&lt;a href="#%e4%bc%98%e7%82%b9" class="header-anchor">&lt;/a>优点
&lt;/h2>&lt;p>使正常搜索的O(n)复杂度降为O(logn)&lt;/p>
&lt;h2 id="要求">&lt;a href="#%e8%a6%81%e6%b1%82" class="header-anchor">&lt;/a>要求
&lt;/h2>&lt;p>所要查找的目标数据必须为有序的&lt;/p>
&lt;h2 id="说明">&lt;a href="#%e8%af%b4%e6%98%8e" class="header-anchor">&lt;/a>说明
&lt;/h2>&lt;p>二分查找是通过不断缩小解可能存在的范围，从而求得问题最优解的方法。在学习与竞赛中，可以经常见到二分思想与其它算法结合的题目。&lt;/p>
&lt;h2 id="用处">&lt;a href="#%e7%94%a8%e5%a4%84" class="header-anchor">&lt;/a>用处
&lt;/h2>&lt;h3 id="搜索有序数组中的某数">&lt;a href="#%e6%90%9c%e7%b4%a2%e6%9c%89%e5%ba%8f%e6%95%b0%e7%bb%84%e4%b8%ad%e7%9a%84%e6%9f%90%e6%95%b0" class="header-anchor">&lt;/a>搜索有序数组中的某数
&lt;/h3>&lt;p>可以通过二分查找搜索数组中
1.有无某数
2.某数的位置&lt;/p>
&lt;h3 id="求出方程在误差范围内的解">&lt;a href="#%e6%b1%82%e5%87%ba%e6%96%b9%e7%a8%8b%e5%9c%a8%e8%af%af%e5%b7%ae%e8%8c%83%e5%9b%b4%e5%86%85%e7%9a%84%e8%a7%a3" class="header-anchor">&lt;/a>求出方程在误差范围内的解
&lt;/h3>&lt;p>通过不断二分缩小解的范围&lt;/p>
&lt;h3 id="最大化最小值">&lt;a href="#%e6%9c%80%e5%a4%a7%e5%8c%96%e6%9c%80%e5%b0%8f%e5%80%bc" class="header-anchor">&lt;/a>最大化最小值
&lt;/h3>&lt;h3 id="最小化平均值">&lt;a href="#%e6%9c%80%e5%b0%8f%e5%8c%96%e5%b9%b3%e5%9d%87%e5%80%bc" class="header-anchor">&lt;/a>最小化平均值
&lt;/h3>&lt;p>因为这种问题可以方便的比较&lt;br>
给定一数与正确解的相对大小&lt;br>
所以即使不知道解具体是什么&lt;br>
但可以通过比较缩小解的范围&lt;/p>
&lt;p>参考文章:&lt;br>
《挑战程序设计竞赛》&lt;br>
百度百科&lt;/p></description></item><item><title>欧几里得——GCD引发的讨论</title><link>https://boiltask.com/knowledge/extended-gcd/</link><pubDate>Thu, 21 Jul 2016 15:08:12 +0800</pubDate><guid>https://boiltask.com/knowledge/extended-gcd/</guid><description>&lt;h2 id="欧几里得算法">&lt;a href="#%e6%ac%a7%e5%87%a0%e9%87%8c%e5%be%97%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>欧几里得算法
&lt;/h2>&lt;h3 id="任务">&lt;a href="#%e4%bb%bb%e5%8a%a1" class="header-anchor">&lt;/a>任务
&lt;/h3>&lt;p>求两个数a,b的最大公约数gcd(a,b)&lt;/p>
&lt;h3 id="说明">&lt;a href="#%e8%af%b4%e6%98%8e" class="header-anchor">&lt;/a>说明
&lt;/h3>&lt;p>由贝祖定理[若设a,b是整数，则存在整数x,y，使得ax+by=gcd（a,b）]得，gcd(a,b)=(b,a-b),其中a≥b。通过这样不断的迭代，知道b=0，就是原来数对的最大公约数。考虑到只使用减法会超时，我们观察到如果a-b仍然大于b的话，要进行一次同样的操作，就把a减到不足b为止，所以有gcd(a,b)=gcd(b,a mod b)。由此可以在log的时间内求出两个数的gcd。&lt;/p>
&lt;h3 id="程序">&lt;a href="#%e7%a8%8b%e5%ba%8f" class="header-anchor">&lt;/a>程序
&lt;/h3>&lt;p>int gcd(int a,int b);&lt;/p>
&lt;h3 id="复杂度">&lt;a href="#%e5%a4%8d%e6%9d%82%e5%ba%a6" class="header-anchor">&lt;/a>复杂度
&lt;/h3>&lt;p>O(logN)，其中N和a，b同阶&lt;/p>
&lt;h3 id="输入">&lt;a href="#%e8%be%93%e5%85%a5" class="header-anchor">&lt;/a>输入
&lt;/h3>&lt;p>a，b两个整数&lt;/p>
&lt;h3 id="输出">&lt;a href="#%e8%be%93%e5%87%ba" class="header-anchor">&lt;/a>输出
&lt;/h3>&lt;p>a，b的最大公约数&lt;/p>
&lt;h3 id="代码">&lt;a href="#%e4%bb%a3%e7%a0%81" class="header-anchor">&lt;/a>代码
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="o">?&lt;/span> &lt;span class="nl">a&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="扩展欧几里得">&lt;a href="#%e6%89%a9%e5%b1%95%e6%ac%a7%e5%87%a0%e9%87%8c%e5%be%97" class="header-anchor">&lt;/a>扩展欧几里得
&lt;/h2>&lt;h3 id="任务-1">&lt;a href="#%e4%bb%bb%e5%8a%a1-1" class="header-anchor">&lt;/a>任务
&lt;/h3>&lt;p>求出A,B的最大公约数，且求出X,Y满足AX+BY=GCD(A,B)。&lt;/p>
&lt;h3 id="说明-1">&lt;a href="#%e8%af%b4%e6%98%8e-1" class="header-anchor">&lt;/a>说明
&lt;/h3>&lt;p>要求X,Y，满足：AX+BY=GCD(A,B)。
当B=0时，有X=1，Y=0时等式成立。
当B&amp;gt;0时，在欧几里得算法的基础上，已知：
GCD(A,B)=GCD(B,A mod B)
先递归楸树X’,Y’满足：
BX’+(A mod B)Y’ = GCD(B,A mod B) = GCD(A,B)
然后可以回推，我们将上式化简得：
BX’+(A-A/B*B)Y’=GCD(A,B)
AY’+BX’-(A/B)&lt;em>BY’=GCD(A,B)
这里除法指整除。把含B的因式提取一个B，可得：
AY’+B(X’-A/B&lt;/em>Y’)=GCD(A,B)
故X=Y’，Y=X’-A/B&amp;amp;Y’&lt;/p>
&lt;h3 id="程序-1">&lt;a href="#%e7%a8%8b%e5%ba%8f-1" class="header-anchor">&lt;/a>程序
&lt;/h3>&lt;p>int extend_gcd(int a,int b,int &amp;amp;x,int &amp;amp;y);&lt;/p>
&lt;h3 id="复杂度-1">&lt;a href="#%e5%a4%8d%e6%9d%82%e5%ba%a6-1" class="header-anchor">&lt;/a>复杂度
&lt;/h3>&lt;p>O(logN)，其中N和a，b同阶&lt;/p>
&lt;h3 id="输入-1">&lt;a href="#%e8%be%93%e5%85%a5-1" class="header-anchor">&lt;/a>输入
&lt;/h3>&lt;p>a，b两个整数
&amp;amp;x,&amp;amp;y引用，ax+by=GCD(a,b)的一组解&lt;/p>
&lt;h3 id="输出-1">&lt;a href="#%e8%be%93%e5%87%ba-1" class="header-anchor">&lt;/a>输出
&lt;/h3>&lt;p>a，b的最大公约数
调用后x，y满足方程ax+by=GCD(a,b)。&lt;/p>
&lt;h3 id="代码-1">&lt;a href="#%e4%bb%a3%e7%a0%81-1" class="header-anchor">&lt;/a>代码
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">int extend_gcd(int a,int b,int &amp;amp;x,int &amp;amp;y) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if(b==0) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> x=1;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> y=0;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return a;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> } else {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> int r=extend_gcd(b,a%b,y,x);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> y-=x*(a/b);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return r;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="参考文章">&lt;a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%ab%a0" class="header-anchor">&lt;/a>参考文章
&lt;/h2>&lt;p>ACM国际大学生程序设计竞赛：算法与实现
百度百科&lt;/p></description></item><item><title>二分图——集合中匹配另一集合中数个</title><link>https://boiltask.com/knowledge/bipartite-graph/</link><pubDate>Fri, 01 Apr 2016 07:07:18 +0800</pubDate><guid>https://boiltask.com/knowledge/bipartite-graph/</guid><description>&lt;p>问题示例:&lt;br>
N台计算机K个任务，各个计算机可以处理的任务种类不同，最多能处理多少任务&lt;br>
过山车每个女生只愿与某几个男生相邻，求最多能安排几对&lt;/p>
&lt;p>匈牙利算法&lt;/p>
&lt;p>参考资料&lt;br>
《挑战程序设计竞赛》&lt;br>
《算法竞赛入门经典》&lt;br>
&lt;a class="link" href="https://baike.baidu.com/item/%E5%8C%88%E7%89%99%E5%88%A9%E7%AE%97%E6%B3%95/9089246" target="_blank" rel="noopener"
>匈牙利算法_百度百科&lt;/a>&lt;br>
&lt;a class="link" href="http://blog.csdn.net/dark_scope/article/details/8880547" target="_blank" rel="noopener"
>趣写算法系列之–匈牙利算法&lt;/a>&lt;/p></description></item><item><title>欧拉函数——小于n的数中与n互质数的数目</title><link>https://boiltask.com/knowledge/eulers-totient-function/</link><pubDate>Sat, 26 Mar 2016 08:17:46 +0800</pubDate><guid>https://boiltask.com/knowledge/eulers-totient-function/</guid><description>&lt;h2 id="简介">&lt;a href="#%e7%ae%80%e4%bb%8b" class="header-anchor">&lt;/a>简介
&lt;/h2>&lt;blockquote>
&lt;p>在数论，对正整数n，欧拉函数是小于n的数中与n互质的数的数目。此函数以其首名研究者欧拉命名(Ruler&amp;rsquo;so totient function)，它又称为Euler&amp;rsquo;s totient function、φ函数、欧拉商数等。 例如φ(8)=4，因为1,3,5,7均和8互质。 从欧拉函数引伸出来在环论方面的事实和拉格朗日定理构成了欧拉定理的证明。&lt;/p>
&lt;/blockquote>
&lt;h2 id="性质">&lt;a href="#%e6%80%a7%e8%b4%a8" class="header-anchor">&lt;/a>性质
&lt;/h2>&lt;p>$\varphi \left( x\right) =x\left( 1-\dfrac{1}{p_{1}}\right) \left( 1-\dfrac{1}{p_{2}}\right) \ldots \left( 1-\dfrac{1}{p_{n}}\right)$&lt;/p>
&lt;p>若n是质数p的k次幂&lt;/p>
&lt;p>$\varphi \left( n\right) =p^{k}-p^{k-1}$&lt;/p>
&lt;p>(因为除了p的倍数外，其他数都跟n互质)&lt;br>
若n为质数则&lt;/p>
&lt;p>$\varphi \left( n\right) = n-1$&lt;/p>
&lt;p>这些定理是筛法求欧拉函数的基础&lt;/p>
&lt;h2 id="算法写法">&lt;a href="#%e7%ae%97%e6%b3%95%e5%86%99%e6%b3%95" class="header-anchor">&lt;/a>算法写法
&lt;/h2>&lt;h3 id="直接求解">&lt;a href="#%e7%9b%b4%e6%8e%a5%e6%b1%82%e8%a7%a3" class="header-anchor">&lt;/a>直接求解
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">int euler(int n){ //返回euler(n)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> int res=n,a=n;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> for(int i=2;i*i&amp;lt;=a;i++){
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if(a%i==0){
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> res=res/i*(i-1);//先进行除法是为了防止中间数据的溢出
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> while(a%i==0)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> a/=i;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if(a&amp;gt;1) res=res/a*(a-1);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return res;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="筛法">&lt;a href="#%e7%ad%9b%e6%b3%95" class="header-anchor">&lt;/a>筛法
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> long long a[1000020];
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> memset(a,0,sizeof(a));
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> a[1]=1;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> for(int i=2; i&amp;lt;1000020; i++)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if(!a[i])
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> for(int j=i; j&amp;lt;1000020; j+=i) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if(!a[j])
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> a[j]=j;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> a[j]=a[j]/i*(i-1);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>参考资料:&lt;br>
&lt;a class="link" href="http://baike.baidu.com/link?url=Mxfd5P91VH6uydQ3pkR9XoTojeNGlLonX9YVfuEZUgvfBjrBf9f3qwAwb4zPVLYLjws2wWPcTrA1PIpjF4XR0q" target="_blank" rel="noopener"
>欧拉函数_百度百科&lt;/a>&lt;br>
&lt;a class="link" href="http://www.tuicool.com/articles/Enmeyya" target="_blank" rel="noopener"
>欧拉函数线性筛法&lt;/a>&lt;br>
&lt;a class="link" href="http://blog.csdn.net/once_hnu/article/details/6302868" target="_blank" rel="noopener"
>欧拉函数_Lur &amp;rsquo;s acm blog&lt;/a>&lt;/p></description></item><item><title>错排——错误引发的讨论</title><link>https://boiltask.com/knowledge/derangement/</link><pubDate>Wed, 02 Mar 2016 22:32:11 +0800</pubDate><guid>https://boiltask.com/knowledge/derangement/</guid><description>&lt;p>错排问题也是见过许多次了&lt;br>
每一次都感觉到无从下手&lt;br>
不过这次找了个时间专门研究了一下&lt;/p>
&lt;p>&lt;a class="link" href="https://boiltask.com/oj/hdu/2048" >【杭电】[2048]神、上帝以及老天爷&lt;/a>&lt;/p>
&lt;p>百度百科:&lt;br>
&lt;a class="link" href="http://baike.baidu.com/view/1926671.htm" target="_blank" rel="noopener"
>全错位排列——百度百科&lt;/a>&lt;br>
&lt;a class="link" href="http://baike.baidu.com/view/668994.htm" target="_blank" rel="noopener"
>错排公式——百度百科&lt;/a>&lt;br>
&lt;a class="link" href="http://baike.baidu.com/view/5487843.htm" target="_blank" rel="noopener"
>错位重排——百度百科&lt;/a>&lt;/p>
&lt;p>核心递归公式&lt;br>
f(n)=(n-1) {f(n-1)+f(n-2)}&lt;/p>
&lt;blockquote>
&lt;p>方法一：&lt;br>
n各有序的元素应有n！种不同的排列。如若一个排列式的所有的元素都不在原来的位置上，则称这个排列为错排。任给一个n，求出1,2,……,n的错排个数Dn共有多少个。&lt;br>
递归关系式为：D(n)=(n-1)(D(n-1)+D(n-2))&lt;br>
D(1)=0,D(2)=1&lt;br>
可以得到:&lt;br>
错排公式为 f(n) = n![1-1/1!+1/2!-1/3!+……+(-1)^n&lt;em>1/n!]&lt;br>
其中,n!=1&lt;/em>2&lt;em>3&lt;/em>&amp;hellip;..*n,&lt;br>
特别地,有0!=0,1!=1.&lt;br>
解释：&lt;br>
n 个不同元素的一个错排可由下述两个步骤完成：&lt;br>
第一步，“错排” 1 号元素（将 1 号元素排在第 2 至第 n 个位置之一），有 n - 1 种方法。&lt;br>
第二步，“错排”其余 n - 1 个元素，按如下顺序进行。视第一步的结果，若1号元素落在第 k 个位 置，第二步就先把 k 号元素“错排”好， k 号元素的不同排法将导致两类不同的情况发生：&lt;br>
1、 k 号元素排在第1个位置，留下的 n - 2 个元素在与它们的编号集相等的位置集上“错排”，有 f(n -2) 种方法；&lt;br>
2、 k 号元素不排第 1 个位置，这时可将第 1 个位置“看成”第 k 个位置(也就是说本来准备放到k位置为元素，可以放到1位置中),于是形成（包括 k 号元素在内的） n - 1 个元素的“错排”，有 f(n - 1) 种方法。据加法原理，完成第二步共有 f(n - 2)+f(n - 1) 种方法。&lt;br>
根据乘法原理， n 个不同元素的错排种数&lt;br>
f(n) = (n-1)[f(n-2)+f(n-1)] (n&amp;gt;2) 。&lt;br>
证毕。&lt;/p>
&lt;/blockquote></description></item><item><title>最小生成树——所有点成树有最小总权和</title><link>https://boiltask.com/knowledge/minimum-spanning-tree/</link><pubDate>Sat, 20 Feb 2016 00:16:16 +0800</pubDate><guid>https://boiltask.com/knowledge/minimum-spanning-tree/</guid><description>&lt;h2 id="问题介绍">&lt;a href="#%e9%97%ae%e9%a2%98%e4%bb%8b%e7%bb%8d" class="header-anchor">&lt;/a>问题介绍
&lt;/h2>&lt;p>一个无向图，如果某个子图中任意两个定点都互相连通并且是一棵树，那么这棵树就叫做生成树。如果边上有权值，那么使得边权和最小的生成树叫做最小生成树。&lt;/p>
&lt;h2 id="常用算法">&lt;a href="#%e5%b8%b8%e7%94%a8%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>常用算法
&lt;/h2>&lt;h3 id="prim算法">&lt;a href="#prim%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>Prim算法
&lt;/h3>&lt;p>找一个起始点加入树，对所有点寻找到到树的距离，从中选择最小的加入树，再次更新距离，从中寻找最小的，直到所有点都加入树。&lt;/p>
&lt;h3 id="kruskal算法">&lt;a href="#kruskal%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>Kruskal算法
&lt;/h3>&lt;p>对权值进行排序，然后从小到大进行判断，如果加入这条边，不成环则是所求树的边。&lt;br>
(结合并查集)&lt;/p>
&lt;p>参考文章:
《算法竞赛入门经典》&lt;br>
《挑战程序设计竞赛》&lt;br>
&lt;a class="link" href="http://www.cnblogs.com/biyeymyhjob/archive/2012/07/30/2615542.html" target="_blank" rel="noopener"
>最小生成树-Prim算法和Kruskal算法&lt;/a>&lt;/p></description></item><item><title>最短路——两点最短总权和</title><link>https://boiltask.com/knowledge/shortest-path/</link><pubDate>Wed, 17 Feb 2016 14:49:25 +0800</pubDate><guid>https://boiltask.com/knowledge/shortest-path/</guid><description>&lt;h2 id="单源最短路问题">&lt;a href="#%e5%8d%95%e6%ba%90%e6%9c%80%e7%9f%ad%e8%b7%af%e9%97%ae%e9%a2%98" class="header-anchor">&lt;/a>单源最短路问题
&lt;/h2>&lt;p>求解一个点到其它所有点的最短路的问题&lt;/p>
&lt;h3 id="用bfs求最短路">&lt;a href="#%e7%94%a8bfs%e6%b1%82%e6%9c%80%e7%9f%ad%e8%b7%af" class="header-anchor">&lt;/a>用BFS求最短路
&lt;/h3>&lt;p>《算法竞赛入门经典》&lt;br>
&lt;a class="link" href="http://blog.csdn.net/zzyafyj/article/details/39323369#t2" target="_blank" rel="noopener"
>第六章数据结构基础之图部分——zzyafyj的专栏&lt;/a>&lt;/p>
&lt;h3 id="dijkstra算法">&lt;a href="#dijkstra%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>Dijkstra算法
&lt;/h3>&lt;p>&lt;a class="link" href="http://ahalei.blog.51cto.com/4767671/1387799" target="_blank" rel="noopener"
>【坐在马桶上看算法】算法7：Dijkstra最短路算法&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>我们发现dis[3]=12，dis[2]+e[2][3]=1+9=10，dis[3]&amp;gt;dis[2]+e[2][3]，因此dis[3]要更新为10。这个过程有个专业术语叫做“松弛”。即1号顶点到3号顶点的路程即dis[3]，通过2-&amp;gt;3这条边松弛成功。这便是Dijkstra算法的主要思想：通过“边”来松弛1号顶点到其余各个顶点的路程。&lt;br>
每次找到离源点（上面例子的源点就是1号顶点）最近的一个顶点，然后以该顶点为中心进行扩展，最终得到源点到其余所有点的最短路径。&lt;/p>
&lt;/blockquote>
&lt;h2 id="任意两点间的最短路问题">&lt;a href="#%e4%bb%bb%e6%84%8f%e4%b8%a4%e7%82%b9%e9%97%b4%e7%9a%84%e6%9c%80%e7%9f%ad%e8%b7%af%e9%97%ae%e9%a2%98" class="header-anchor">&lt;/a>任意两点间的最短路问题
&lt;/h2>&lt;p>求解所有两点间的最短路的问题&lt;/p>
&lt;h3 id="floyd-warshall算法">&lt;a href="#floyd-warshall%e7%ae%97%e6%b3%95" class="header-anchor">&lt;/a>Floyd-Warshall算法
&lt;/h3>&lt;p>&lt;a class="link" href="http://ahalei.blog.51cto.com/4767671/1383613" target="_blank" rel="noopener"
>坐在马桶上看算法：只有五行的Floyd最短路算法&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>最开始只允许经过1号顶点进行中转，接下来只允许经过1和2号顶点进行中转……允许经过1~n号所有顶点进行中转，求任意两点之间的最短路程。用一句话概括就是：从i号顶点到j号顶点只经过前k号点的最短路程。&lt;/p>
&lt;/blockquote>
&lt;p>参考文章:&lt;br>
《挑战程序设计竞赛》&lt;br>
&lt;a class="link" href="http://developer.51cto.com/art/201403/433874.htm" target="_blank" rel="noopener"
>坐在马桶上看算法：只有五行的Floyd最短路算法&lt;/a>&lt;br>
&lt;a class="link" href="http://ahalei.blog.51cto.com/4767671/1387799" target="_blank" rel="noopener"
>【坐在马桶上看算法】算法7：Dijkstra最短路算法&lt;/a>&lt;/p></description></item><item><title>while(m)m&amp;=m-1,s++;的解释</title><link>https://boiltask.com/knowledge/cpp-while-comma-bit/</link><pubDate>Sat, 30 Jan 2016 00:42:22 +0800</pubDate><guid>https://boiltask.com/knowledge/cpp-while-comma-bit/</guid><description>&lt;p>此讨论是关于&lt;a class="link" href="https://boiltask.com/oj/nyoj/100" >【NYOJ】[100]1的个数&lt;/a>的补充说明&lt;br>
对于这一题标程给的这一句代码 比较难理解&lt;/p>
&lt;h2 id="所以分开来解析">&lt;a href="#%e6%89%80%e4%bb%a5%e5%88%86%e5%bc%80%e6%9d%a5%e8%a7%a3%e6%9e%90" class="header-anchor">&lt;/a>所以分开来解析
&lt;/h2>&lt;h3 id="逗号表达式">&lt;a href="#%e9%80%97%e5%8f%b7%e8%a1%a8%e8%be%be%e5%bc%8f" class="header-anchor">&lt;/a>逗号表达式
&lt;/h3>&lt;p>&lt;code>while(m)m&amp;amp;=m-1,s++;&lt;/code>可以写为:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">while(m)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> m&amp;amp;=m-1,s++;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>首先是&amp;quot;,&amp;ldquo;所代表的意思&lt;br>
此处是作为 逗号运算符&lt;br>
关于逗号运算符:&lt;/p>
&lt;blockquote>
&lt;p>逗号运算符可以把两个以上（包含两个）的表达式连接成一个表达式，称为逗号表达式。&lt;/p>
&lt;/blockquote>
&lt;p>逗号运算符的优先级是所有运算符中级别最低的，通常配合 for 循环使用。&lt;/p>
&lt;p>所以常用的&lt;code>for(i=0,n=1;i&amp;lt;10;i++)&lt;/code>&lt;br>
这种，这个i=0,n=1便是逗号表达式&lt;/p>
&lt;p>对于&lt;code>a + b, c = b, c++&lt;/code>这个式子&lt;/p>
&lt;blockquote>
&lt;p>逗号表达式最右边的子表达式的值即为逗号表达式的值。上例中，c++ 的值（c 自增之前的值）即为该表达式的值。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>逗号运算符保证左边的子表达式运算结束后才进行右边的子表达式的运算。也就是说，逗号运算符是一个序列点，其左边所有副作用都结束后，才对其右边的子表达式进行运算。因此，上例中，c 得到 b 的值后，才进行自增运算。&lt;/p>
&lt;/blockquote>
&lt;p>验证程序:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#include&amp;lt;stdio.h&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">int main() {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> int x,a;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> x=(a=3,6*3);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> printf(&amp;#34;a=%d,x=%d\n&amp;#34;,a,x);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> x=a=3,6*a;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> printf(&amp;#34;a=%d,x=%d\n&amp;#34;,a,x);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return 0;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>所以&lt;code>while(m)m&amp;amp;=m-1,s++;&lt;/code>可看作是两条循环语句&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">m&amp;amp;=m-1;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">s++;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="位运算">&lt;a href="#%e4%bd%8d%e8%bf%90%e7%ae%97" class="header-anchor">&lt;/a>位运算
&lt;/h3>&lt;p>&lt;code>s++&lt;/code> 很好理解&lt;br>
那么&lt;code>m&amp;amp;=m-1;&lt;/code>的解释又应该怎么说呢&lt;/p>
&lt;p>&amp;amp;在这里应是按位与&lt;br>
也就是二进制的数每个位，两个数都是 1这个位才是1&lt;/p>
&lt;p>常用的&lt;br>
&lt;code>if(a&amp;amp;1)&lt;/code> 就相当于如果a是奇数&lt;br>
因为如果a是奇数 那么最后一位就是1&lt;br>
a&amp;amp;1 结果也应该是1&lt;br>
如果是偶数 那么a&amp;amp;1==0&lt;/p>
&lt;p>在这里 &lt;code>m&amp;amp;=m-1&lt;/code> =&amp;gt;&lt;code>m=m&amp;amp;m-1&lt;/code>&lt;br>
为什么这样写能计算出1的个数呢&lt;/p>
&lt;p>举例&lt;br>
5的二进制 101&lt;br>
则运算过程为&lt;br>
100&amp;amp;101==100 =&amp;gt;s==1&lt;br>
100&amp;amp;011==0 =&amp;gt;s==2&lt;/p>
&lt;p>分析&lt;br>
m&amp;amp;m-1 使得如果最后一位是1&lt;br>
那么结果便相当于去除了最后以为的1并把结果+1&lt;br>
如果最后一位是0&lt;br>
那么其前一个1位在运算后会变成0 并结果+1&lt;br>
而且使得其自身还是为0&lt;/p>
&lt;p>所以通过这种方式一次一次把1位拨成0位&lt;br>
然后记录次数&lt;br>
从而可以得出数字二进制有几个1&lt;/p>
&lt;p>也是二进制运算很奇妙的一种体现&lt;/p>
&lt;p>参考文章:&lt;br>
《C语言程序设计——贾宗璞 许合利》&lt;br>
&lt;a class="link" href="http://zhidao.baidu.com/link?url=ZzfVK0hzFhAdJIfdXYcZHlEPtagDj5St7tIB73Q6yY9xE7Ep9Z5bdhqfo8C3dOwpOthN7OpMYlXh9r-EEv1u6K" target="_blank" rel="noopener"
>c语言中逗号运算符的功能和使用方法_百度知道&lt;/a>&lt;br>
&lt;a class="link" href="http://baike.baidu.com/link?url=JTozZz4BBCSpybZiw8ohylFdoKtOFCDQGLsKUQFpEtXJULGexxbVPNRpi9avXxoB" target="_blank" rel="noopener"
>位运算_百度百科&lt;/a>&lt;/p></description></item><item><title>并查集——合并与查询</title><link>https://boiltask.com/knowledge/union-find/</link><pubDate>Wed, 27 Jan 2016 23:13:00 +0800</pubDate><guid>https://boiltask.com/knowledge/union-find/</guid><description>&lt;p>&lt;strong>在下终于下定决心写第一篇真正意义上算法的理解博文了！&lt;/strong>&lt;/p>
&lt;p>鼓掌庆祝先~&lt;br>
不过这个肯定不会是一次就写好哒~哈哈哈 慢慢补充&lt;/p>
&lt;h2 id="并查集算法产生的原因意义">&lt;a href="#%e5%b9%b6%e6%9f%a5%e9%9b%86%e7%ae%97%e6%b3%95%e4%ba%a7%e7%94%9f%e7%9a%84%e5%8e%9f%e5%9b%a0%e6%84%8f%e4%b9%89" class="header-anchor">&lt;/a>并查集算法产生的原因(意义)
&lt;/h2>&lt;blockquote>
&lt;p>在一些有N个元素的集合应用问题中，我们通常是在开始时让每个元素构成一个单元素的集合，然后按一定顺序将属于同一组的元素所在的集合合并，其间要反复查找一个元素在哪个集合中。这一类问题近几年来反复出现在信息学的国际国内赛题中，其特点是看似并不复杂，但数据量极大，若用正常的数据结构来描述的话，往往在空间上过大，计算机无法承受；即使在空间上勉强通过，运行的时间复杂度也极高，根本就不可能在比赛规定的运行时间（1～3秒）内计算出试题需要的结果，只能用并查集来描述。&lt;/p>
&lt;/blockquote>
&lt;p>并查集是一种树型的数据结构，用于处理一些不相交集合（Disjoint Sets）的合并及查询问题。&lt;br>
也就是对于一些集合之间的相连关系的描述&lt;/p>
&lt;h2 id="并查集算法的操作能做什么">&lt;a href="#%e5%b9%b6%e6%9f%a5%e9%9b%86%e7%ae%97%e6%b3%95%e7%9a%84%e6%93%8d%e4%bd%9c%e8%83%bd%e5%81%9a%e4%bb%80%e4%b9%88" class="header-anchor">&lt;/a>并查集算法的操作(能做什么)
&lt;/h2>&lt;h3 id="初始化">&lt;a href="#%e5%88%9d%e5%a7%8b%e5%8c%96" class="header-anchor">&lt;/a>初始化
&lt;/h3>&lt;p>把每个点所在集合初始化为其自身。&lt;br>
通常来说，这个步骤在每次使用该数据结构时只需要执行一次，无论何种实现方式，时间复杂度均为O(N)。&lt;/p>
&lt;h3 id="查找">&lt;a href="#%e6%9f%a5%e6%89%be" class="header-anchor">&lt;/a>查找
&lt;/h3>&lt;p>查找元素所在的集合，即根节点。&lt;/p>
&lt;h3 id="合并">&lt;a href="#%e5%90%88%e5%b9%b6" class="header-anchor">&lt;/a>合并
&lt;/h3>&lt;p>将两个元素所在的集合合并为一个集合。&lt;br>
通常来说，合并之前，应先判断两个元素是否属于同一集合，这可用上面的“查找”操作实现。&lt;/p>
&lt;h3 id="判断">&lt;a href="#%e5%88%a4%e6%96%ad" class="header-anchor">&lt;/a>判断
&lt;/h3>&lt;p>判断两个元素是否在一个集合之中&lt;/p>
&lt;h3 id="了解操作的意义">&lt;a href="#%e4%ba%86%e8%a7%a3%e6%93%8d%e4%bd%9c%e7%9a%84%e6%84%8f%e4%b9%89" class="header-anchor">&lt;/a>了解操作的意义
&lt;/h3>&lt;p>通过分析并查集的操作可以更好的理解并查集的思想&lt;br>
也就是遇到需要进行这些操作的问题 可以往并查集这方面来思考&lt;/p>
&lt;h2 id="并查集的例题">&lt;a href="#%e5%b9%b6%e6%9f%a5%e9%9b%86%e7%9a%84%e4%be%8b%e9%a2%98" class="header-anchor">&lt;/a>并查集的例题
&lt;/h2>&lt;p>最简单的例题:&lt;/p>
&lt;blockquote>
&lt;p>若某个家族人员过于庞大，要判断两个是否是亲戚，确实还很不容易，给出某个亲戚关系图，求任意给出的两个人是否具有亲戚关系。
规定：x和y是亲戚，y和z是亲戚，那么x和z也是亲戚。如果x,y是亲戚，那么x的亲戚都是y的亲戚，y的亲戚也都是x的亲戚。&lt;/p>
&lt;/blockquote>
&lt;p>根据给出的对应关系求出给定两人是否有亲戚关系&lt;br>
此时便涉及到&lt;br>
对集合的合并(合并有亲戚关系的集合)&lt;br>
对集合的查找(查找两人是否为同一集合)&lt;/p>
&lt;p>详细解答过程&lt;br>
&lt;a class="link" href="http://baike.baidu.com/link?url=qhh24jW9uEWHwEQGrGL-fPutXbfJO9CsYexounhzfo2kaj2tij07reLro0zj6ydyZBBtqn1SM8eEUhszZV4R7q#3" target="_blank" rel="noopener"
>并查集_百度百科&lt;/a>&lt;/p>
&lt;h2 id="并查集的注意点">&lt;a href="#%e5%b9%b6%e6%9f%a5%e9%9b%86%e7%9a%84%e6%b3%a8%e6%84%8f%e7%82%b9" class="header-anchor">&lt;/a>并查集的注意点
&lt;/h2>&lt;h3 id="树形数据结构的退化">&lt;a href="#%e6%a0%91%e5%bd%a2%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%e7%9a%84%e9%80%80%e5%8c%96" class="header-anchor">&lt;/a>树形数据结构的退化
&lt;/h3>&lt;p>插入节点时的规则如果不加控制&lt;br>
容易导致树形退化&lt;br>
在二叉搜索树中如:以1-2-3-4-5的顺序插入节点&lt;br>
树的高度会变成n 那么所有操作便都需要O(n)时间才能完成&lt;br>
所以同样在并查集为避免退化的发生&lt;br>
可进行如下操作&lt;br>
1.对于每棵树，记录这棵树的高度&lt;br>
2.合并时如果两棵数的高度不同，那么从高度小的向高度大的连边&lt;/p>
&lt;h3 id="路径压缩">&lt;a href="#%e8%b7%af%e5%be%84%e5%8e%8b%e7%bc%a9" class="header-anchor">&lt;/a>路径压缩
&lt;/h3>&lt;p>对于每个节点&lt;br>
1.一旦向上走到了一次根节点，就把这个点到父亲的边改为直接连向根&lt;br>
2.在查询过程中向上经过的所有的节点，都改为直接连到根上&lt;br>
(并没有必要修改高度rank)&lt;br>
高度记录rank[m]为以m为根节点的树的高度&lt;/p>
&lt;p>参考资料:&lt;br>
《挑战程序设计竞赛》&lt;br>
并查集 - 百度百科&lt;/p></description></item><item><title>for,(do-)while的循环体执行</title><link>https://boiltask.com/knowledge/cpp-for-do-while/</link><pubDate>Mon, 25 Jan 2016 12:12:22 +0800</pubDate><guid>https://boiltask.com/knowledge/cpp-for-do-while/</guid><description>&lt;p>虽然最早就学过&lt;br>
while与do-while区别&lt;br>
但因为do-while很少用&lt;br>
甚至做题时可以说从来没用过&lt;/p>
&lt;p>所以对于描述&lt;/p>
&lt;blockquote>
&lt;p>do-while的循环体至少会执行一次&lt;/p>
&lt;/blockquote>
&lt;p>这句话并没有深刻体会&lt;/p>
&lt;p>不过引发这个思考的是&lt;br>
&lt;a class="link" href="https://boiltask.com/oj/nyoj/56" >【NYOJ】[56]阶乘因式分解（一）&lt;/a>&lt;br>
之中的for循环条件&lt;br>
&lt;code>for(int k=i; !(k%m); cnt++) &lt;/code>&lt;br>
&lt;code>!(k%m)&lt;/code>含义有点困惑&lt;/p>
&lt;p>不过结合 while do-while 便可以轻松得出&lt;br>
for(初始语句;判断语句;调整语句)&lt;br>
中在执行循环的顺序应该是&lt;/p>
&lt;pre class="mermaid">
flowchart TD
st[初始语句] --&amp;gt; cond{循环条件}
cond -- 是 --&amp;gt; op1[循环体]
cond -- 否 --&amp;gt; e[循环结束]
op1 --&amp;gt; op2[调整语句]
op2 --&amp;gt; cond
&lt;/pre>
&lt;p>这个流程图画的还不错吧~哈哈哈&lt;/p>
&lt;p>验证:&lt;/p>
&lt;p>初始条件在第一次判断前就执行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;stdio.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;n的值为%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>第一次循环体执行前就需要 判断条件:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;stdio.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// for(int i=0; i&amp;lt;1; i++)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// n++;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;运行了%d次&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>而do-while形式为&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&amp;lt;stdio.h&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">do&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// do {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// n++;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// i++;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// } while(i&amp;lt;1);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;n的值为%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>两次输出都为 n的值为1&lt;/p>
&lt;p>由此可以验证&lt;br>
for 与 do-while的区别&lt;/p></description></item></channel></rss>